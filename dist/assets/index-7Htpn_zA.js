var Bj=Object.defineProperty;var Lj=(t,e,r)=>e in t?Bj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var je=(t,e,r)=>Lj(t,typeof e!="symbol"?e+"":e,r);function Vj(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Sm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $j(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Z4={exports:{}},my={},eO={exports:{}},Et={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am=Symbol.for("react.element"),zj=Symbol.for("react.portal"),jj=Symbol.for("react.fragment"),Uj=Symbol.for("react.strict_mode"),qj=Symbol.for("react.profiler"),Hj=Symbol.for("react.provider"),Wj=Symbol.for("react.context"),Gj=Symbol.for("react.forward_ref"),Kj=Symbol.for("react.suspense"),Yj=Symbol.for("react.memo"),Qj=Symbol.for("react.lazy"),PN=Symbol.iterator;function Xj(t){return t===null||typeof t!="object"?null:(t=PN&&t[PN]||t["@@iterator"],typeof t=="function"?t:null)}var tO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rO=Object.assign,nO={};function Pf(t,e,r){this.props=t,this.context=e,this.refs=nO,this.updater=r||tO}Pf.prototype.isReactComponent={};Pf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iO(){}iO.prototype=Pf.prototype;function nE(t,e,r){this.props=t,this.context=e,this.refs=nO,this.updater=r||tO}var iE=nE.prototype=new iO;iE.constructor=nE;rO(iE,Pf.prototype);iE.isPureReactComponent=!0;var kN=Array.isArray,sO=Object.prototype.hasOwnProperty,sE={current:null},aO={key:!0,ref:!0,__self:!0,__source:!0};function oO(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)sO.call(e,n)&&!aO.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Am,type:t,key:s,ref:a,props:i,_owner:sE.current}}function Jj(t,e){return{$$typeof:Am,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function aE(t){return typeof t=="object"&&t!==null&&t.$$typeof===Am}function Zj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var RN=/\/+/g;function ox(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zj(""+t.key):e.toString(36)}function $g(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Am:case zj:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+ox(a,0):n,kN(i)?(r="",t!=null&&(r=t.replace(RN,"$&/")+"/"),$g(i,e,r,"",function(u){return u})):i!=null&&(aE(i)&&(i=Jj(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RN,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",kN(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+ox(s,o);a+=$g(s,e,r,l,i)}else if(l=Xj(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+ox(s,o++),a+=$g(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Dp(t,e,r){if(t==null)return t;var n=[],i=0;return $g(t,n,"","",function(s){return e.call(r,s,i++)}),n}function e7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},zg={transition:null},t7={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:zg,ReactCurrentOwner:sE};function lO(){throw Error("act(...) is not supported in production builds of React.")}Et.Children={map:Dp,forEach:function(t,e,r){Dp(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Dp(t,function(){e++}),e},toArray:function(t){return Dp(t,function(e){return e})||[]},only:function(t){if(!aE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Et.Component=Pf;Et.Fragment=jj;Et.Profiler=qj;Et.PureComponent=nE;Et.StrictMode=Uj;Et.Suspense=Kj;Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t7;Et.act=lO;Et.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=rO({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=sE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)sO.call(e,l)&&!aO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Am,type:t.type,key:i,ref:s,props:n,_owner:a}};Et.createContext=function(t){return t={$$typeof:Wj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Hj,_context:t},t.Consumer=t};Et.createElement=oO;Et.createFactory=function(t){var e=oO.bind(null,t);return e.type=t,e};Et.createRef=function(){return{current:null}};Et.forwardRef=function(t){return{$$typeof:Gj,render:t}};Et.isValidElement=aE;Et.lazy=function(t){return{$$typeof:Qj,_payload:{_status:-1,_result:t},_init:e7}};Et.memo=function(t,e){return{$$typeof:Yj,type:t,compare:e===void 0?null:e}};Et.startTransition=function(t){var e=zg.transition;zg.transition={};try{t()}finally{zg.transition=e}};Et.unstable_act=lO;Et.useCallback=function(t,e){return Wn.current.useCallback(t,e)};Et.useContext=function(t){return Wn.current.useContext(t)};Et.useDebugValue=function(){};Et.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};Et.useEffect=function(t,e){return Wn.current.useEffect(t,e)};Et.useId=function(){return Wn.current.useId()};Et.useImperativeHandle=function(t,e,r){return Wn.current.useImperativeHandle(t,e,r)};Et.useInsertionEffect=function(t,e){return Wn.current.useInsertionEffect(t,e)};Et.useLayoutEffect=function(t,e){return Wn.current.useLayoutEffect(t,e)};Et.useMemo=function(t,e){return Wn.current.useMemo(t,e)};Et.useReducer=function(t,e,r){return Wn.current.useReducer(t,e,r)};Et.useRef=function(t){return Wn.current.useRef(t)};Et.useState=function(t){return Wn.current.useState(t)};Et.useSyncExternalStore=function(t,e,r){return Wn.current.useSyncExternalStore(t,e,r)};Et.useTransition=function(){return Wn.current.useTransition()};Et.version="18.3.1";eO.exports=Et;var ne=eO.exports;const py=Sm(ne),r7=Vj({__proto__:null,default:py},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n7=ne,i7=Symbol.for("react.element"),s7=Symbol.for("react.fragment"),a7=Object.prototype.hasOwnProperty,o7=n7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l7={key:!0,ref:!0,__self:!0,__source:!0};function uO(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)a7.call(e,n)&&!l7.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:i7,type:t,key:s,ref:a,props:i,_owner:o7.current}}my.Fragment=s7;my.jsx=uO;my.jsxs=uO;Z4.exports=my;var T=Z4.exports,cO={exports:{}},Ni={},fO={exports:{}},hO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,$){var Y=B.length;B.push($);e:for(;0<Y;){var ie=Y-1>>>1,O=B[ie];if(0<i(O,$))B[ie]=$,B[Y]=O,Y=ie;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var $=B[0],Y=B.pop();if(Y!==$){B[0]=Y;e:for(var ie=0,O=B.length,q=O>>>1;ie<q;){var j=2*(ie+1)-1,me=B[j],ue=j+1,fe=B[ue];if(0>i(me,Y))ue<O&&0>i(fe,me)?(B[ie]=fe,B[ue]=Y,ie=ue):(B[ie]=me,B[j]=Y,ie=j);else if(ue<O&&0>i(fe,Y))B[ie]=fe,B[ue]=Y,ie=ue;else break e}}return $}function i(B,$){var Y=B.sortIndex-$.sortIndex;return Y!==0?Y:B.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,h=3,d=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(B){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=B)n(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=r(u)}}function x(B){if(p=!1,y(B),!m)if(r(l)!==null)m=!0,k(w);else{var $=r(u);$!==null&&L(x,$.startTime-B)}}function w(B,$){m=!1,p&&(p=!1,v(A),A=-1),d=!0;var Y=h;try{for(y($),f=r(l);f!==null&&(!(f.expirationTime>$)||B&&!C());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,h=f.priorityLevel;var O=ie(f.expirationTime<=$);$=t.unstable_now(),typeof O=="function"?f.callback=O:f===r(l)&&n(l),y($)}else n(l);f=r(l)}if(f!==null)var q=!0;else{var j=r(u);j!==null&&L(x,j.startTime-$),q=!1}return q}finally{f=null,h=Y,d=!1}}var E=!1,S=null,A=-1,N=5,D=-1;function C(){return!(t.unstable_now()-D<N)}function M(){if(S!==null){var B=t.unstable_now();D=B;var $=!0;try{$=S(!0,B)}finally{$?I():(E=!1,S=null)}}else E=!1}var I;if(typeof b=="function")I=function(){b(M)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=M,I=function(){V.postMessage(null)}}else I=function(){g(M,0)};function k(B){S=B,E||(E=!0,I())}function L(B,$){A=g(function(){B(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||d||(m=!0,k(w))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var Y=h;h=$;try{return B()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,$){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=h;h=B;try{return $()}finally{h=Y}},t.unstable_scheduleCallback=function(B,$,Y){var ie=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ie+Y:ie):Y=ie,B){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=Y+O,B={id:c++,callback:$,priorityLevel:B,startTime:Y,expirationTime:O,sortIndex:-1},Y>ie?(B.sortIndex=Y,e(u,B),r(l)===null&&B===r(u)&&(p?(v(A),A=-1):p=!0,L(x,Y-ie))):(B.sortIndex=O,e(l,B),m||d||(m=!0,k(w))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var $=h;return function(){var Y=h;h=$;try{return B.apply(this,arguments)}finally{h=Y}}}})(hO);fO.exports=hO;var u7=fO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c7=ne,Si=u7;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dO=new Set,Td={};function Pu(t,e){tf(t,e),tf(t+"Capture",e)}function tf(t,e){for(Td[t]=e,t=0;t<e.length;t++)dO.add(e[t])}var Fa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fb=Object.prototype.hasOwnProperty,f7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ON={},FN={};function h7(t){return Fb.call(FN,t)?!0:Fb.call(ON,t)?!1:f7.test(t)?FN[t]=!0:(ON[t]=!0,!1)}function d7(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m7(t,e,r,n){if(e===null||typeof e>"u"||d7(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var oE=/[\-:]([a-z])/g;function lE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(oE,lE);hn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(oE,lE);hn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(oE,lE);hn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});hn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uE(t,e,r,n){var i=hn.hasOwnProperty(e)?hn[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m7(e,r,i,n)&&(r=null),n||i===null?h7(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ya=c7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cp=Symbol.for("react.element"),yc=Symbol.for("react.portal"),xc=Symbol.for("react.fragment"),cE=Symbol.for("react.strict_mode"),Bb=Symbol.for("react.profiler"),mO=Symbol.for("react.provider"),pO=Symbol.for("react.context"),fE=Symbol.for("react.forward_ref"),Lb=Symbol.for("react.suspense"),Vb=Symbol.for("react.suspense_list"),hE=Symbol.for("react.memo"),co=Symbol.for("react.lazy"),gO=Symbol.for("react.offscreen"),BN=Symbol.iterator;function gh(t){return t===null||typeof t!="object"?null:(t=BN&&t[BN]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,lx;function Ph(t){if(lx===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);lx=e&&e[1]||""}return`
`+lx+t}var ux=!1;function cx(t,e){if(!t||ux)return"";ux=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{ux=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ph(t):""}function p7(t){switch(t.tag){case 5:return Ph(t.type);case 16:return Ph("Lazy");case 13:return Ph("Suspense");case 19:return Ph("SuspenseList");case 0:case 2:case 15:return t=cx(t.type,!1),t;case 11:return t=cx(t.type.render,!1),t;case 1:return t=cx(t.type,!0),t;default:return""}}function $b(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xc:return"Fragment";case yc:return"Portal";case Bb:return"Profiler";case cE:return"StrictMode";case Lb:return"Suspense";case Vb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pO:return(t.displayName||"Context")+".Consumer";case mO:return(t._context.displayName||"Context")+".Provider";case fE:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hE:return e=t.displayName||null,e!==null?e:$b(t.type)||"Memo";case co:e=t._payload,t=t._init;try{return $b(t(e))}catch{}}return null}function g7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $b(e);case 8:return e===cE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Go(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v7(t){var e=vO(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mp(t){t._valueTracker||(t._valueTracker=v7(t))}function yO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=vO(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xv(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zb(t,e){var r=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function LN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Go(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xO(t,e){e=e.checked,e!=null&&uE(t,"checked",e,!1)}function jb(t,e){xO(t,e);var r=Go(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ub(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ub(t,e.type,Go(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function VN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ub(t,e,r){(e!=="number"||xv(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kh=Array.isArray;function Vc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Go(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $N(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Pe(92));if(kh(r)){if(1<r.length)throw Error(Pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Go(r)}}function bO(t,e){var r=Go(e.value),n=Go(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function wO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?wO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ip,_O=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ip=Ip||document.createElement("div"),Ip.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ip.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y7=["Webkit","ms","Moz","O"];Object.keys(Jh).forEach(function(t){y7.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jh[e]=Jh[t]})});function EO(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Jh.hasOwnProperty(t)&&Jh[t]?(""+e).trim():e+"px"}function SO(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=EO(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var x7=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wb(t,e){if(e){if(x7[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function Gb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kb=null;function dE(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yb=null,$c=null,zc=null;function jN(t){if(t=Dm(t)){if(typeof Yb!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=by(e),Yb(t.stateNode,t.type,e))}}function AO(t){$c?zc?zc.push(t):zc=[t]:$c=t}function NO(){if($c){var t=$c,e=zc;if(zc=$c=null,jN(t),e)for(t=0;t<e.length;t++)jN(e[t])}}function TO(t,e){return t(e)}function DO(){}var fx=!1;function CO(t,e,r){if(fx)return t(e,r);fx=!0;try{return TO(t,e,r)}finally{fx=!1,($c!==null||zc!==null)&&(DO(),NO())}}function Cd(t,e){var r=t.stateNode;if(r===null)return null;var n=by(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Pe(231,e,typeof r));return r}var Qb=!1;if(Fa)try{var vh={};Object.defineProperty(vh,"passive",{get:function(){Qb=!0}}),window.addEventListener("test",vh,vh),window.removeEventListener("test",vh,vh)}catch{Qb=!1}function b7(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Zh=!1,bv=null,wv=!1,Xb=null,w7={onError:function(t){Zh=!0,bv=t}};function _7(t,e,r,n,i,s,a,o,l){Zh=!1,bv=null,b7.apply(w7,arguments)}function E7(t,e,r,n,i,s,a,o,l){if(_7.apply(this,arguments),Zh){if(Zh){var u=bv;Zh=!1,bv=null}else throw Error(Pe(198));wv||(wv=!0,Xb=u)}}function ku(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function MO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UN(t){if(ku(t)!==t)throw Error(Pe(188))}function S7(t){var e=t.alternate;if(!e){if(e=ku(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return UN(i),t;if(s===n)return UN(i),e;s=s.sibling}throw Error(Pe(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Pe(189))}}if(r.alternate!==n)throw Error(Pe(190))}if(r.tag!==3)throw Error(Pe(188));return r.stateNode.current===r?t:e}function IO(t){return t=S7(t),t!==null?PO(t):null}function PO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=PO(t);if(e!==null)return e;t=t.sibling}return null}var kO=Si.unstable_scheduleCallback,qN=Si.unstable_cancelCallback,A7=Si.unstable_shouldYield,N7=Si.unstable_requestPaint,Tr=Si.unstable_now,T7=Si.unstable_getCurrentPriorityLevel,mE=Si.unstable_ImmediatePriority,RO=Si.unstable_UserBlockingPriority,_v=Si.unstable_NormalPriority,D7=Si.unstable_LowPriority,OO=Si.unstable_IdlePriority,gy=null,zs=null;function C7(t){if(zs&&typeof zs.onCommitFiberRoot=="function")try{zs.onCommitFiberRoot(gy,t,void 0,(t.current.flags&128)===128)}catch{}}var ms=Math.clz32?Math.clz32:P7,M7=Math.log,I7=Math.LN2;function P7(t){return t>>>=0,t===0?32:31-(M7(t)/I7|0)|0}var Pp=64,kp=4194304;function Rh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ev(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Rh(o):(s&=a,s!==0&&(n=Rh(s)))}else a=r&~i,a!==0?n=Rh(a):s!==0&&(n=Rh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ms(e),i=1<<r,n|=t[r],e&=~i;return n}function k7(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R7(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ms(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=k7(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Jb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FO(){var t=Pp;return Pp<<=1,!(Pp&4194240)&&(Pp=64),t}function hx(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Nm(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ms(e),t[e]=r}function O7(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ms(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function pE(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ms(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Gt=0;function BO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LO,gE,VO,$O,zO,Zb=!1,Rp=[],Po=null,ko=null,Ro=null,Md=new Map,Id=new Map,go=[],F7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HN(t,e){switch(t){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":Md.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(e.pointerId)}}function yh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dm(e),e!==null&&gE(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function B7(t,e,r,n,i){switch(e){case"focusin":return Po=yh(Po,t,e,r,n,i),!0;case"dragenter":return ko=yh(ko,t,e,r,n,i),!0;case"mouseover":return Ro=yh(Ro,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Md.set(s,yh(Md.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Id.set(s,yh(Id.get(s)||null,t,e,r,n,i)),!0}return!1}function jO(t){var e=Ql(t.target);if(e!==null){var r=ku(e);if(r!==null){if(e=r.tag,e===13){if(e=MO(r),e!==null){t.blockedOn=e,zO(t.priority,function(){VO(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ew(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Kb=n,r.target.dispatchEvent(n),Kb=null}else return e=Dm(r),e!==null&&gE(e),t.blockedOn=r,!1;e.shift()}return!0}function WN(t,e,r){jg(t)&&r.delete(e)}function L7(){Zb=!1,Po!==null&&jg(Po)&&(Po=null),ko!==null&&jg(ko)&&(ko=null),Ro!==null&&jg(Ro)&&(Ro=null),Md.forEach(WN),Id.forEach(WN)}function xh(t,e){t.blockedOn===e&&(t.blockedOn=null,Zb||(Zb=!0,Si.unstable_scheduleCallback(Si.unstable_NormalPriority,L7)))}function Pd(t){function e(i){return xh(i,t)}if(0<Rp.length){xh(Rp[0],t);for(var r=1;r<Rp.length;r++){var n=Rp[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Po!==null&&xh(Po,t),ko!==null&&xh(ko,t),Ro!==null&&xh(Ro,t),Md.forEach(e),Id.forEach(e),r=0;r<go.length;r++)n=go[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<go.length&&(r=go[0],r.blockedOn===null);)jO(r),r.blockedOn===null&&go.shift()}var jc=Ya.ReactCurrentBatchConfig,Sv=!0;function V7(t,e,r,n){var i=Gt,s=jc.transition;jc.transition=null;try{Gt=1,vE(t,e,r,n)}finally{Gt=i,jc.transition=s}}function $7(t,e,r,n){var i=Gt,s=jc.transition;jc.transition=null;try{Gt=4,vE(t,e,r,n)}finally{Gt=i,jc.transition=s}}function vE(t,e,r,n){if(Sv){var i=ew(t,e,r,n);if(i===null)_x(t,e,n,Av,r),HN(t,n);else if(B7(i,t,e,r,n))n.stopPropagation();else if(HN(t,n),e&4&&-1<F7.indexOf(t)){for(;i!==null;){var s=Dm(i);if(s!==null&&LO(s),s=ew(t,e,r,n),s===null&&_x(t,e,n,Av,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else _x(t,e,n,null,r)}}var Av=null;function ew(t,e,r,n){if(Av=null,t=dE(n),t=Ql(t),t!==null)if(e=ku(t),e===null)t=null;else if(r=e.tag,r===13){if(t=MO(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Av=t,null}function UO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(T7()){case mE:return 1;case RO:return 4;case _v:case D7:return 16;case OO:return 536870912;default:return 16}default:return 16}}var Eo=null,yE=null,Ug=null;function qO(){if(Ug)return Ug;var t,e=yE,r=e.length,n,i="value"in Eo?Eo.value:Eo.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Ug=i.slice(t,1<n?1-n:void 0)}function qg(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Op(){return!0}function GN(){return!1}function Ti(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Op:GN,this.isPropagationStopped=GN,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Op)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Op)},persist:function(){},isPersistent:Op}),e}var kf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xE=Ti(kf),Tm=mr({},kf,{view:0,detail:0}),z7=Ti(Tm),dx,mx,bh,vy=mr({},Tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bE,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bh&&(bh&&t.type==="mousemove"?(dx=t.screenX-bh.screenX,mx=t.screenY-bh.screenY):mx=dx=0,bh=t),dx)},movementY:function(t){return"movementY"in t?t.movementY:mx}}),KN=Ti(vy),j7=mr({},vy,{dataTransfer:0}),U7=Ti(j7),q7=mr({},Tm,{relatedTarget:0}),px=Ti(q7),H7=mr({},kf,{animationName:0,elapsedTime:0,pseudoElement:0}),W7=Ti(H7),G7=mr({},kf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),K7=Ti(G7),Y7=mr({},kf,{data:0}),YN=Ti(Y7),Q7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z7(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=J7[t])?!!e[t]:!1}function bE(){return Z7}var eU=mr({},Tm,{key:function(t){if(t.key){var e=Q7[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qg(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X7[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bE,charCode:function(t){return t.type==="keypress"?qg(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qg(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tU=Ti(eU),rU=mr({},vy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QN=Ti(rU),nU=mr({},Tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bE}),iU=Ti(nU),sU=mr({},kf,{propertyName:0,elapsedTime:0,pseudoElement:0}),aU=Ti(sU),oU=mr({},vy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lU=Ti(oU),uU=[9,13,27,32],wE=Fa&&"CompositionEvent"in window,ed=null;Fa&&"documentMode"in document&&(ed=document.documentMode);var cU=Fa&&"TextEvent"in window&&!ed,HO=Fa&&(!wE||ed&&8<ed&&11>=ed),XN=" ",JN=!1;function WO(t,e){switch(t){case"keyup":return uU.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bc=!1;function fU(t,e){switch(t){case"compositionend":return GO(e);case"keypress":return e.which!==32?null:(JN=!0,XN);case"textInput":return t=e.data,t===XN&&JN?null:t;default:return null}}function hU(t,e){if(bc)return t==="compositionend"||!wE&&WO(t,e)?(t=qO(),Ug=yE=Eo=null,bc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HO&&e.locale!=="ko"?null:e.data;default:return null}}var dU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dU[t.type]:e==="textarea"}function KO(t,e,r,n){AO(n),e=Nv(e,"onChange"),0<e.length&&(r=new xE("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var td=null,kd=null;function mU(t){sF(t,0)}function yy(t){var e=Ec(t);if(yO(e))return t}function pU(t,e){if(t==="change")return e}var YO=!1;if(Fa){var gx;if(Fa){var vx="oninput"in document;if(!vx){var eT=document.createElement("div");eT.setAttribute("oninput","return;"),vx=typeof eT.oninput=="function"}gx=vx}else gx=!1;YO=gx&&(!document.documentMode||9<document.documentMode)}function tT(){td&&(td.detachEvent("onpropertychange",QO),kd=td=null)}function QO(t){if(t.propertyName==="value"&&yy(kd)){var e=[];KO(e,kd,t,dE(t)),CO(mU,e)}}function gU(t,e,r){t==="focusin"?(tT(),td=e,kd=r,td.attachEvent("onpropertychange",QO)):t==="focusout"&&tT()}function vU(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yy(kd)}function yU(t,e){if(t==="click")return yy(e)}function xU(t,e){if(t==="input"||t==="change")return yy(e)}function bU(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xs=typeof Object.is=="function"?Object.is:bU;function Rd(t,e){if(xs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Fb.call(e,i)||!xs(t[i],e[i]))return!1}return!0}function rT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nT(t,e){var r=rT(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rT(r)}}function XO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?XO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function JO(){for(var t=window,e=xv();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xv(t.document)}return e}function _E(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wU(t){var e=JO(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&XO(r.ownerDocument.documentElement,r)){if(n!==null&&_E(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=nT(r,s);var a=nT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _U=Fa&&"documentMode"in document&&11>=document.documentMode,wc=null,tw=null,rd=null,rw=!1;function iT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;rw||wc==null||wc!==xv(n)||(n=wc,"selectionStart"in n&&_E(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rd&&Rd(rd,n)||(rd=n,n=Nv(tw,"onSelect"),0<n.length&&(e=new xE("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wc)))}function Fp(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var _c={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},yx={},ZO={};Fa&&(ZO=document.createElement("div").style,"AnimationEvent"in window||(delete _c.animationend.animation,delete _c.animationiteration.animation,delete _c.animationstart.animation),"TransitionEvent"in window||delete _c.transitionend.transition);function xy(t){if(yx[t])return yx[t];if(!_c[t])return t;var e=_c[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ZO)return yx[t]=e[r];return t}var eF=xy("animationend"),tF=xy("animationiteration"),rF=xy("animationstart"),nF=xy("transitionend"),iF=new Map,sT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ul(t,e){iF.set(t,e),Pu(e,[t])}for(var xx=0;xx<sT.length;xx++){var bx=sT[xx],EU=bx.toLowerCase(),SU=bx[0].toUpperCase()+bx.slice(1);ul(EU,"on"+SU)}ul(eF,"onAnimationEnd");ul(tF,"onAnimationIteration");ul(rF,"onAnimationStart");ul("dblclick","onDoubleClick");ul("focusin","onFocus");ul("focusout","onBlur");ul(nF,"onTransitionEnd");tf("onMouseEnter",["mouseout","mouseover"]);tf("onMouseLeave",["mouseout","mouseover"]);tf("onPointerEnter",["pointerout","pointerover"]);tf("onPointerLeave",["pointerout","pointerover"]);Pu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oh));function aT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,E7(n,e,void 0,t),t.currentTarget=null}function sF(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;aT(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;aT(i,o,u),s=l}}}if(wv)throw t=Xb,wv=!1,Xb=null,t}function rr(t,e){var r=e[ow];r===void 0&&(r=e[ow]=new Set);var n=t+"__bubble";r.has(n)||(aF(e,t,2,!1),r.add(n))}function wx(t,e,r){var n=0;e&&(n|=4),aF(r,t,n,e)}var Bp="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Bp]){t[Bp]=!0,dO.forEach(function(r){r!=="selectionchange"&&(AU.has(r)||wx(r,!1,t),wx(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bp]||(e[Bp]=!0,wx("selectionchange",!1,e))}}function aF(t,e,r,n){switch(UO(e)){case 1:var i=V7;break;case 4:i=$7;break;default:i=vE}r=i.bind(null,e,r,t),i=void 0,!Qb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function _x(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ql(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}CO(function(){var u=s,c=dE(r),f=[];e:{var h=iF.get(t);if(h!==void 0){var d=xE,m=t;switch(t){case"keypress":if(qg(r)===0)break e;case"keydown":case"keyup":d=tU;break;case"focusin":m="focus",d=px;break;case"focusout":m="blur",d=px;break;case"beforeblur":case"afterblur":d=px;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=KN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=U7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=iU;break;case eF:case tF:case rF:d=W7;break;case nF:d=aU;break;case"scroll":d=z7;break;case"wheel":d=lU;break;case"copy":case"cut":case"paste":d=K7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=QN}var p=(e&4)!==0,g=!p&&t==="scroll",v=p?h!==null?h+"Capture":null:h;p=[];for(var b=u,y;b!==null;){y=b;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,v!==null&&(x=Cd(b,v),x!=null&&p.push(Fd(b,x,y)))),g)break;b=b.return}0<p.length&&(h=new d(h,m,null,r,c),f.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&r!==Kb&&(m=r.relatedTarget||r.fromElement)&&(Ql(m)||m[Ba]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=u,m=m?Ql(m):null,m!==null&&(g=ku(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(p=KN,x="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(p=QN,x="onPointerLeave",v="onPointerEnter",b="pointer"),g=d==null?h:Ec(d),y=m==null?h:Ec(m),h=new p(x,b+"leave",d,r,c),h.target=g,h.relatedTarget=y,x=null,Ql(c)===u&&(p=new p(v,b+"enter",m,r,c),p.target=y,p.relatedTarget=g,x=p),g=x,d&&m)t:{for(p=d,v=m,b=0,y=p;y;y=ac(y))b++;for(y=0,x=v;x;x=ac(x))y++;for(;0<b-y;)p=ac(p),b--;for(;0<y-b;)v=ac(v),y--;for(;b--;){if(p===v||v!==null&&p===v.alternate)break t;p=ac(p),v=ac(v)}p=null}else p=null;d!==null&&oT(f,h,d,p,!1),m!==null&&g!==null&&oT(f,g,m,p,!0)}}e:{if(h=u?Ec(u):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var w=pU;else if(ZN(h))if(YO)w=xU;else{w=vU;var E=gU}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=yU);if(w&&(w=w(t,u))){KO(f,w,r,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Ub(h,"number",h.value)}switch(E=u?Ec(u):window,t){case"focusin":(ZN(E)||E.contentEditable==="true")&&(wc=E,tw=u,rd=null);break;case"focusout":rd=tw=wc=null;break;case"mousedown":rw=!0;break;case"contextmenu":case"mouseup":case"dragend":rw=!1,iT(f,r,c);break;case"selectionchange":if(_U)break;case"keydown":case"keyup":iT(f,r,c)}var S;if(wE)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else bc?WO(t,r)&&(A="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(HO&&r.locale!=="ko"&&(bc||A!=="onCompositionStart"?A==="onCompositionEnd"&&bc&&(S=qO()):(Eo=c,yE="value"in Eo?Eo.value:Eo.textContent,bc=!0)),E=Nv(u,A),0<E.length&&(A=new YN(A,t,null,r,c),f.push({event:A,listeners:E}),S?A.data=S:(S=GO(r),S!==null&&(A.data=S)))),(S=cU?fU(t,r):hU(t,r))&&(u=Nv(u,"onBeforeInput"),0<u.length&&(c=new YN("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=S))}sF(f,e)})}function Fd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Nv(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Cd(t,r),s!=null&&n.unshift(Fd(t,s,i)),s=Cd(t,e),s!=null&&n.push(Fd(t,s,i))),t=t.return}return n}function ac(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Cd(r,s),l!=null&&a.unshift(Fd(r,l,o))):i||(l=Cd(r,s),l!=null&&a.push(Fd(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var NU=/\r\n?/g,TU=/\u0000|\uFFFD/g;function lT(t){return(typeof t=="string"?t:""+t).replace(NU,`
`).replace(TU,"")}function Lp(t,e,r){if(e=lT(e),lT(t)!==e&&r)throw Error(Pe(425))}function Tv(){}var nw=null,iw=null;function sw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aw=typeof setTimeout=="function"?setTimeout:void 0,DU=typeof clearTimeout=="function"?clearTimeout:void 0,uT=typeof Promise=="function"?Promise:void 0,CU=typeof queueMicrotask=="function"?queueMicrotask:typeof uT<"u"?function(t){return uT.resolve(null).then(t).catch(MU)}:aw;function MU(t){setTimeout(function(){throw t})}function Ex(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Pd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pd(e)}function Oo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Rf=Math.random().toString(36).slice(2),Ls="__reactFiber$"+Rf,Bd="__reactProps$"+Rf,Ba="__reactContainer$"+Rf,ow="__reactEvents$"+Rf,IU="__reactListeners$"+Rf,PU="__reactHandles$"+Rf;function Ql(t){var e=t[Ls];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ba]||r[Ls]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=cT(t);t!==null;){if(r=t[Ls])return r;t=cT(t)}return e}t=r,r=t.parentNode}return null}function Dm(t){return t=t[Ls]||t[Ba],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ec(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function by(t){return t[Bd]||null}var lw=[],Sc=-1;function cl(t){return{current:t}}function sr(t){0>Sc||(t.current=lw[Sc],lw[Sc]=null,Sc--)}function er(t,e){Sc++,lw[Sc]=t.current,t.current=e}var Ko={},Rn=cl(Ko),si=cl(!1),gu=Ko;function rf(t,e){var r=t.type.contextTypes;if(!r)return Ko;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ai(t){return t=t.childContextTypes,t!=null}function Dv(){sr(si),sr(Rn)}function fT(t,e,r){if(Rn.current!==Ko)throw Error(Pe(168));er(Rn,e),er(si,r)}function oF(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Pe(108,g7(t)||"Unknown",i));return mr({},r,n)}function Cv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ko,gu=Rn.current,er(Rn,t),er(si,si.current),!0}function hT(t,e,r){var n=t.stateNode;if(!n)throw Error(Pe(169));r?(t=oF(t,e,gu),n.__reactInternalMemoizedMergedChildContext=t,sr(si),sr(Rn),er(Rn,t)):sr(si),er(si,r)}var ya=null,wy=!1,Sx=!1;function lF(t){ya===null?ya=[t]:ya.push(t)}function kU(t){wy=!0,lF(t)}function fl(){if(!Sx&&ya!==null){Sx=!0;var t=0,e=Gt;try{var r=ya;for(Gt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ya=null,wy=!1}catch(i){throw ya!==null&&(ya=ya.slice(t+1)),kO(mE,fl),i}finally{Gt=e,Sx=!1}}return null}var Ac=[],Nc=0,Mv=null,Iv=0,Li=[],Vi=0,vu=null,_a=1,Ea="";function Vl(t,e){Ac[Nc++]=Iv,Ac[Nc++]=Mv,Mv=t,Iv=e}function uF(t,e,r){Li[Vi++]=_a,Li[Vi++]=Ea,Li[Vi++]=vu,vu=t;var n=_a;t=Ea;var i=32-ms(n)-1;n&=~(1<<i),r+=1;var s=32-ms(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,_a=1<<32-ms(e)+i|r<<i|n,Ea=s+t}else _a=1<<s|r<<i|n,Ea=t}function EE(t){t.return!==null&&(Vl(t,1),uF(t,1,0))}function SE(t){for(;t===Mv;)Mv=Ac[--Nc],Ac[Nc]=null,Iv=Ac[--Nc],Ac[Nc]=null;for(;t===vu;)vu=Li[--Vi],Li[Vi]=null,Ea=Li[--Vi],Li[Vi]=null,_a=Li[--Vi],Li[Vi]=null}var wi=null,xi=null,lr=!1,cs=null;function cF(t,e){var r=ji(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function dT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wi=t,xi=Oo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wi=t,xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vu!==null?{id:_a,overflow:Ea}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ji(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,wi=t,xi=null,!0):!1;default:return!1}}function uw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cw(t){if(lr){var e=xi;if(e){var r=e;if(!dT(t,e)){if(uw(t))throw Error(Pe(418));e=Oo(r.nextSibling);var n=wi;e&&dT(t,e)?cF(n,r):(t.flags=t.flags&-4097|2,lr=!1,wi=t)}}else{if(uw(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,lr=!1,wi=t}}}function mT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wi=t}function Vp(t){if(t!==wi)return!1;if(!lr)return mT(t),lr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sw(t.type,t.memoizedProps)),e&&(e=xi)){if(uw(t))throw fF(),Error(Pe(418));for(;e;)cF(t,e),e=Oo(e.nextSibling)}if(mT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xi=Oo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xi=null}}else xi=wi?Oo(t.stateNode.nextSibling):null;return!0}function fF(){for(var t=xi;t;)t=Oo(t.nextSibling)}function nf(){xi=wi=null,lr=!1}function AE(t){cs===null?cs=[t]:cs.push(t)}var RU=Ya.ReactCurrentBatchConfig;function wh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Pe(309));var n=r.stateNode}if(!n)throw Error(Pe(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Pe(284));if(!r._owner)throw Error(Pe(290,t))}return t}function $p(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pT(t){var e=t._init;return e(t._payload)}function hF(t){function e(v,b){if(t){var y=v.deletions;y===null?(v.deletions=[b],v.flags|=16):y.push(b)}}function r(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function n(v,b){for(v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function i(v,b){return v=Vo(v,b),v.index=0,v.sibling=null,v}function s(v,b,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<b?(v.flags|=2,b):y):(v.flags|=2,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=2),v}function o(v,b,y,x){return b===null||b.tag!==6?(b=Ix(y,v.mode,x),b.return=v,b):(b=i(b,y),b.return=v,b)}function l(v,b,y,x){var w=y.type;return w===xc?c(v,b,y.props.children,x,y.key):b!==null&&(b.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&pT(w)===b.type)?(x=i(b,y.props),x.ref=wh(v,b,y),x.return=v,x):(x=Xg(y.type,y.key,y.props,null,v.mode,x),x.ref=wh(v,b,y),x.return=v,x)}function u(v,b,y,x){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Px(y,v.mode,x),b.return=v,b):(b=i(b,y.children||[]),b.return=v,b)}function c(v,b,y,x,w){return b===null||b.tag!==7?(b=uu(y,v.mode,x,w),b.return=v,b):(b=i(b,y),b.return=v,b)}function f(v,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ix(""+b,v.mode,y),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cp:return y=Xg(b.type,b.key,b.props,null,v.mode,y),y.ref=wh(v,null,b),y.return=v,y;case yc:return b=Px(b,v.mode,y),b.return=v,b;case co:var x=b._init;return f(v,x(b._payload),y)}if(kh(b)||gh(b))return b=uu(b,v.mode,y,null),b.return=v,b;$p(v,b)}return null}function h(v,b,y,x){var w=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:o(v,b,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cp:return y.key===w?l(v,b,y,x):null;case yc:return y.key===w?u(v,b,y,x):null;case co:return w=y._init,h(v,b,w(y._payload),x)}if(kh(y)||gh(y))return w!==null?null:c(v,b,y,x,null);$p(v,y)}return null}function d(v,b,y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(y)||null,o(b,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Cp:return v=v.get(x.key===null?y:x.key)||null,l(b,v,x,w);case yc:return v=v.get(x.key===null?y:x.key)||null,u(b,v,x,w);case co:var E=x._init;return d(v,b,y,E(x._payload),w)}if(kh(x)||gh(x))return v=v.get(y)||null,c(b,v,x,w,null);$p(b,x)}return null}function m(v,b,y,x){for(var w=null,E=null,S=b,A=b=0,N=null;S!==null&&A<y.length;A++){S.index>A?(N=S,S=null):N=S.sibling;var D=h(v,S,y[A],x);if(D===null){S===null&&(S=N);break}t&&S&&D.alternate===null&&e(v,S),b=s(D,b,A),E===null?w=D:E.sibling=D,E=D,S=N}if(A===y.length)return r(v,S),lr&&Vl(v,A),w;if(S===null){for(;A<y.length;A++)S=f(v,y[A],x),S!==null&&(b=s(S,b,A),E===null?w=S:E.sibling=S,E=S);return lr&&Vl(v,A),w}for(S=n(v,S);A<y.length;A++)N=d(S,v,A,y[A],x),N!==null&&(t&&N.alternate!==null&&S.delete(N.key===null?A:N.key),b=s(N,b,A),E===null?w=N:E.sibling=N,E=N);return t&&S.forEach(function(C){return e(v,C)}),lr&&Vl(v,A),w}function p(v,b,y,x){var w=gh(y);if(typeof w!="function")throw Error(Pe(150));if(y=w.call(y),y==null)throw Error(Pe(151));for(var E=w=null,S=b,A=b=0,N=null,D=y.next();S!==null&&!D.done;A++,D=y.next()){S.index>A?(N=S,S=null):N=S.sibling;var C=h(v,S,D.value,x);if(C===null){S===null&&(S=N);break}t&&S&&C.alternate===null&&e(v,S),b=s(C,b,A),E===null?w=C:E.sibling=C,E=C,S=N}if(D.done)return r(v,S),lr&&Vl(v,A),w;if(S===null){for(;!D.done;A++,D=y.next())D=f(v,D.value,x),D!==null&&(b=s(D,b,A),E===null?w=D:E.sibling=D,E=D);return lr&&Vl(v,A),w}for(S=n(v,S);!D.done;A++,D=y.next())D=d(S,v,A,D.value,x),D!==null&&(t&&D.alternate!==null&&S.delete(D.key===null?A:D.key),b=s(D,b,A),E===null?w=D:E.sibling=D,E=D);return t&&S.forEach(function(M){return e(v,M)}),lr&&Vl(v,A),w}function g(v,b,y,x){if(typeof y=="object"&&y!==null&&y.type===xc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Cp:e:{for(var w=y.key,E=b;E!==null;){if(E.key===w){if(w=y.type,w===xc){if(E.tag===7){r(v,E.sibling),b=i(E,y.props.children),b.return=v,v=b;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===co&&pT(w)===E.type){r(v,E.sibling),b=i(E,y.props),b.ref=wh(v,E,y),b.return=v,v=b;break e}r(v,E);break}else e(v,E);E=E.sibling}y.type===xc?(b=uu(y.props.children,v.mode,x,y.key),b.return=v,v=b):(x=Xg(y.type,y.key,y.props,null,v.mode,x),x.ref=wh(v,b,y),x.return=v,v=x)}return a(v);case yc:e:{for(E=y.key;b!==null;){if(b.key===E)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(v,b.sibling),b=i(b,y.children||[]),b.return=v,v=b;break e}else{r(v,b);break}else e(v,b);b=b.sibling}b=Px(y,v.mode,x),b.return=v,v=b}return a(v);case co:return E=y._init,g(v,b,E(y._payload),x)}if(kh(y))return m(v,b,y,x);if(gh(y))return p(v,b,y,x);$p(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(v,b.sibling),b=i(b,y),b.return=v,v=b):(r(v,b),b=Ix(y,v.mode,x),b.return=v,v=b),a(v)):r(v,b)}return g}var sf=hF(!0),dF=hF(!1),Pv=cl(null),kv=null,Tc=null,NE=null;function TE(){NE=Tc=kv=null}function DE(t){var e=Pv.current;sr(Pv),t._currentValue=e}function fw(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Uc(t,e){kv=t,NE=Tc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ii=!0),t.firstContext=null)}function Wi(t){var e=t._currentValue;if(NE!==t)if(t={context:t,memoizedValue:e,next:null},Tc===null){if(kv===null)throw Error(Pe(308));Tc=t,kv.dependencies={lanes:0,firstContext:t}}else Tc=Tc.next=t;return e}var Xl=null;function CE(t){Xl===null?Xl=[t]:Xl.push(t)}function mF(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,CE(e)):(r.next=i.next,i.next=r),e.interleaved=r,La(t,n)}function La(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fo=!1;function ME(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ma(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Pt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,La(t,r)}return i=n.interleaved,i===null?(e.next=e,CE(n)):(e.next=i.next,i.next=e),n.interleaved=e,La(t,r)}function Hg(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pE(t,r)}}function gT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Rv(t,e,r,n){var i=t.updateQueue;fo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,c=u=l=null,o=s;do{var h=o.lane,d=o.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(h=e,d=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=mr({},f,h);break e;case 2:fo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,a|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xu|=a,t.lanes=a,t.memoizedState=f}}function vT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Pe(191,i));i.call(n)}}}var Cm={},js=cl(Cm),Ld=cl(Cm),Vd=cl(Cm);function Jl(t){if(t===Cm)throw Error(Pe(174));return t}function IE(t,e){switch(er(Vd,e),er(Ld,t),er(js,Cm),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hb(e,t)}sr(js),er(js,e)}function af(){sr(js),sr(Ld),sr(Vd)}function gF(t){Jl(Vd.current);var e=Jl(js.current),r=Hb(e,t.type);e!==r&&(er(Ld,t),er(js,r))}function PE(t){Ld.current===t&&(sr(js),sr(Ld))}var fr=cl(0);function Ov(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ax=[];function kE(){for(var t=0;t<Ax.length;t++)Ax[t]._workInProgressVersionPrimary=null;Ax.length=0}var Wg=Ya.ReactCurrentDispatcher,Nx=Ya.ReactCurrentBatchConfig,yu=0,dr=null,Or=null,Qr=null,Fv=!1,nd=!1,$d=0,OU=0;function xn(){throw Error(Pe(321))}function RE(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!xs(t[r],e[r]))return!1;return!0}function OE(t,e,r,n,i,s){if(yu=s,dr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wg.current=t===null||t.memoizedState===null?VU:$U,t=r(n,i),nd){s=0;do{if(nd=!1,$d=0,25<=s)throw Error(Pe(301));s+=1,Qr=Or=null,e.updateQueue=null,Wg.current=zU,t=r(n,i)}while(nd)}if(Wg.current=Bv,e=Or!==null&&Or.next!==null,yu=0,Qr=Or=dr=null,Fv=!1,e)throw Error(Pe(300));return t}function FE(){var t=$d!==0;return $d=0,t}function Os(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?dr.memoizedState=Qr=t:Qr=Qr.next=t,Qr}function Gi(){if(Or===null){var t=dr.alternate;t=t!==null?t.memoizedState:null}else t=Or.next;var e=Qr===null?dr.memoizedState:Qr.next;if(e!==null)Qr=e,Or=t;else{if(t===null)throw Error(Pe(310));Or=t,t={memoizedState:Or.memoizedState,baseState:Or.baseState,baseQueue:Or.baseQueue,queue:Or.queue,next:null},Qr===null?dr.memoizedState=Qr=t:Qr=Qr.next=t}return Qr}function zd(t,e){return typeof e=="function"?e(t):e}function Tx(t){var e=Gi(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=Or,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((yu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,dr.lanes|=c,xu|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,xs(n,e.memoizedState)||(ii=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,dr.lanes|=s,xu|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Dx(t){var e=Gi(),r=e.queue;if(r===null)throw Error(Pe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);xs(s,e.memoizedState)||(ii=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function vF(){}function yF(t,e){var r=dr,n=Gi(),i=e(),s=!xs(n.memoizedState,i);if(s&&(n.memoizedState=i,ii=!0),n=n.queue,BE(wF.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Qr!==null&&Qr.memoizedState.tag&1){if(r.flags|=2048,jd(9,bF.bind(null,r,n,i,e),void 0,null),Jr===null)throw Error(Pe(349));yu&30||xF(r,e,i)}return i}function xF(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function bF(t,e,r,n){e.value=r,e.getSnapshot=n,_F(e)&&EF(t)}function wF(t,e,r){return r(function(){_F(e)&&EF(t)})}function _F(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!xs(t,r)}catch{return!0}}function EF(t){var e=La(t,1);e!==null&&ps(e,t,1,-1)}function yT(t){var e=Os();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zd,lastRenderedState:t},e.queue=t,t=t.dispatch=LU.bind(null,dr,t),[e.memoizedState,t]}function jd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dr.updateQueue,e===null?(e={lastEffect:null,stores:null},dr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function SF(){return Gi().memoizedState}function Gg(t,e,r,n){var i=Os();dr.flags|=t,i.memoizedState=jd(1|e,r,void 0,n===void 0?null:n)}function _y(t,e,r,n){var i=Gi();n=n===void 0?null:n;var s=void 0;if(Or!==null){var a=Or.memoizedState;if(s=a.destroy,n!==null&&RE(n,a.deps)){i.memoizedState=jd(e,r,s,n);return}}dr.flags|=t,i.memoizedState=jd(1|e,r,s,n)}function xT(t,e){return Gg(8390656,8,t,e)}function BE(t,e){return _y(2048,8,t,e)}function AF(t,e){return _y(4,2,t,e)}function NF(t,e){return _y(4,4,t,e)}function TF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DF(t,e,r){return r=r!=null?r.concat([t]):null,_y(4,4,TF.bind(null,e,t),r)}function LE(){}function CF(t,e){var r=Gi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RE(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function MF(t,e){var r=Gi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&RE(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function IF(t,e,r){return yu&21?(xs(r,e)||(r=FO(),dr.lanes|=r,xu|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ii=!0),t.memoizedState=r)}function FU(t,e){var r=Gt;Gt=r!==0&&4>r?r:4,t(!0);var n=Nx.transition;Nx.transition={};try{t(!1),e()}finally{Gt=r,Nx.transition=n}}function PF(){return Gi().memoizedState}function BU(t,e,r){var n=Lo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kF(t))RF(e,r);else if(r=mF(t,e,r,n),r!==null){var i=zn();ps(r,t,n,i),OF(r,e,n)}}function LU(t,e,r){var n=Lo(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kF(t))RF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,xs(o,a)){var l=e.interleaved;l===null?(i.next=i,CE(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=mF(t,e,i,n),r!==null&&(i=zn(),ps(r,t,n,i),OF(r,e,n))}}function kF(t){var e=t.alternate;return t===dr||e!==null&&e===dr}function RF(t,e){nd=Fv=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function OF(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,pE(t,r)}}var Bv={readContext:Wi,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},VU={readContext:Wi,useCallback:function(t,e){return Os().memoizedState=[t,e===void 0?null:e],t},useContext:Wi,useEffect:xT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gg(4194308,4,TF.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gg(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gg(4,2,t,e)},useMemo:function(t,e){var r=Os();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Os();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=BU.bind(null,dr,t),[n.memoizedState,t]},useRef:function(t){var e=Os();return t={current:t},e.memoizedState=t},useState:yT,useDebugValue:LE,useDeferredValue:function(t){return Os().memoizedState=t},useTransition:function(){var t=yT(!1),e=t[0];return t=FU.bind(null,t[1]),Os().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dr,i=Os();if(lr){if(r===void 0)throw Error(Pe(407));r=r()}else{if(r=e(),Jr===null)throw Error(Pe(349));yu&30||xF(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,xT(wF.bind(null,n,s,t),[t]),n.flags|=2048,jd(9,bF.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Os(),e=Jr.identifierPrefix;if(lr){var r=Ea,n=_a;r=(n&~(1<<32-ms(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$d++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=OU++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$U={readContext:Wi,useCallback:CF,useContext:Wi,useEffect:BE,useImperativeHandle:DF,useInsertionEffect:AF,useLayoutEffect:NF,useMemo:MF,useReducer:Tx,useRef:SF,useState:function(){return Tx(zd)},useDebugValue:LE,useDeferredValue:function(t){var e=Gi();return IF(e,Or.memoizedState,t)},useTransition:function(){var t=Tx(zd)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:vF,useSyncExternalStore:yF,useId:PF,unstable_isNewReconciler:!1},zU={readContext:Wi,useCallback:CF,useContext:Wi,useEffect:BE,useImperativeHandle:DF,useInsertionEffect:AF,useLayoutEffect:NF,useMemo:MF,useReducer:Dx,useRef:SF,useState:function(){return Dx(zd)},useDebugValue:LE,useDeferredValue:function(t){var e=Gi();return Or===null?e.memoizedState=t:IF(e,Or.memoizedState,t)},useTransition:function(){var t=Dx(zd)[0],e=Gi().memoizedState;return[t,e]},useMutableSource:vF,useSyncExternalStore:yF,useId:PF,unstable_isNewReconciler:!1};function os(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function hw(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ey={isMounted:function(t){return(t=t._reactInternals)?ku(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zn(),i=Lo(t),s=Ma(n,i);s.payload=e,r!=null&&(s.callback=r),e=Fo(t,s,i),e!==null&&(ps(e,t,i,n),Hg(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zn(),i=Lo(t),s=Ma(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Fo(t,s,i),e!==null&&(ps(e,t,i,n),Hg(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zn(),n=Lo(t),i=Ma(r,n);i.tag=2,e!=null&&(i.callback=e),e=Fo(t,i,n),e!==null&&(ps(e,t,n,r),Hg(e,t,n))}};function bT(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Rd(r,n)||!Rd(i,s):!0}function FF(t,e,r){var n=!1,i=Ko,s=e.contextType;return typeof s=="object"&&s!==null?s=Wi(s):(i=ai(e)?gu:Rn.current,n=e.contextTypes,s=(n=n!=null)?rf(t,i):Ko),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ey,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ey.enqueueReplaceState(e,e.state,null)}function dw(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ME(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wi(s):(s=ai(e)?gu:Rn.current,i.context=rf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(hw(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ey.enqueueReplaceState(i,i.state,null),Rv(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function of(t,e){try{var r="",n=e;do r+=p7(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Cx(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mw(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var jU=typeof WeakMap=="function"?WeakMap:Map;function BF(t,e,r){r=Ma(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Vv||(Vv=!0,Sw=n),mw(t,e)},r}function LF(t,e,r){r=Ma(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){mw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mw(t,e),typeof n!="function"&&(Bo===null?Bo=new Set([this]):Bo.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function _T(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new jU;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=rq.bind(null,t,e,r),e.then(t,t))}function ET(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ST(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ma(-1,1),e.tag=2,Fo(r,e,1))),r.lanes|=1),t)}var UU=Ya.ReactCurrentOwner,ii=!1;function Vn(t,e,r,n){e.child=t===null?dF(e,null,r,n):sf(e,t.child,r,n)}function AT(t,e,r,n,i){r=r.render;var s=e.ref;return Uc(e,i),n=OE(t,e,r,n,s,i),r=FE(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i)):(lr&&r&&EE(e),e.flags|=1,Vn(t,e,n,i),e.child)}function NT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!WE(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,VF(t,e,s,n,i)):(t=Xg(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Rd,r(a,n)&&t.ref===e.ref)return Va(t,e,i)}return e.flags|=1,t=Vo(s,n),t.ref=e.ref,t.return=e,e.child=t}function VF(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Rd(s,n)&&t.ref===e.ref)if(ii=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ii=!0);else return e.lanes=t.lanes,Va(t,e,i)}return pw(t,e,r,n,i)}function $F(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(Cc,gi),gi|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,er(Cc,gi),gi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,er(Cc,gi),gi|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,er(Cc,gi),gi|=n;return Vn(t,e,i,r),e.child}function zF(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function pw(t,e,r,n,i){var s=ai(r)?gu:Rn.current;return s=rf(e,s),Uc(e,i),r=OE(t,e,r,n,s,i),n=FE(),t!==null&&!ii?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Va(t,e,i)):(lr&&n&&EE(e),e.flags|=1,Vn(t,e,r,i),e.child)}function TT(t,e,r,n,i){if(ai(r)){var s=!0;Cv(e)}else s=!1;if(Uc(e,i),e.stateNode===null)Kg(t,e),FF(e,r,n),dw(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wi(u):(u=ai(r)?gu:Rn.current,u=rf(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&wT(e,a,n,u),fo=!1;var h=e.memoizedState;a.state=h,Rv(e,n,a,i),l=e.memoizedState,o!==n||h!==l||si.current||fo?(typeof c=="function"&&(hw(e,r,c,n),l=e.memoizedState),(o=fo||bT(e,r,o,n,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,pF(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:os(e.type,o),a.props=u,f=e.pendingProps,h=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Wi(l):(l=ai(r)?gu:Rn.current,l=rf(e,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==l)&&wT(e,a,n,l),fo=!1,h=e.memoizedState,a.state=h,Rv(e,n,a,i);var m=e.memoizedState;o!==f||h!==m||si.current||fo?(typeof d=="function"&&(hw(e,r,d,n),m=e.memoizedState),(u=fo||bT(e,r,u,n,h,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return gw(t,e,r,n,s,i)}function gw(t,e,r,n,i,s){zF(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&hT(e,r,!1),Va(t,e,s);n=e.stateNode,UU.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=sf(e,t.child,null,s),e.child=sf(e,null,o,s)):Vn(t,e,o,s),e.memoizedState=n.state,i&&hT(e,r,!0),e.child}function jF(t){var e=t.stateNode;e.pendingContext?fT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&fT(t,e.context,!1),IE(t,e.containerInfo)}function DT(t,e,r,n,i){return nf(),AE(i),e.flags|=256,Vn(t,e,r,n),e.child}var vw={dehydrated:null,treeContext:null,retryLane:0};function yw(t){return{baseLanes:t,cachePool:null,transitions:null}}function UF(t,e,r){var n=e.pendingProps,i=fr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),er(fr,i&1),t===null)return cw(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ny(a,n,0,null),t=uu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yw(r),e.memoizedState=vw,t):VE(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return qU(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Vo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Vo(o,s):(s=uu(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?yw(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=vw,n}return s=t.child,t=s.sibling,n=Vo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function VE(t,e){return e=Ny({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zp(t,e,r,n){return n!==null&&AE(n),sf(e,t.child,null,r),t=VE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function qU(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Cx(Error(Pe(422))),zp(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ny({mode:"visible",children:n.children},i,0,null),s=uu(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&sf(e,t.child,null,a),e.child.memoizedState=yw(a),e.memoizedState=vw,s);if(!(e.mode&1))return zp(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Pe(419)),n=Cx(s,n,void 0),zp(t,e,a,n)}if(o=(a&t.childLanes)!==0,ii||o){if(n=Jr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,La(t,i),ps(n,t,i,-1))}return HE(),n=Cx(Error(Pe(421))),zp(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nq.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xi=Oo(i.nextSibling),wi=e,lr=!0,cs=null,t!==null&&(Li[Vi++]=_a,Li[Vi++]=Ea,Li[Vi++]=vu,_a=t.id,Ea=t.overflow,vu=e),e=VE(e,n.children),e.flags|=4096,e)}function CT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fw(t.return,e,r)}function Mx(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function qF(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Vn(t,e,n.children,r),n=fr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CT(t,r,e);else if(t.tag===19)CT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(er(fr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ov(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Mx(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ov(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Mx(e,!0,r,null,s);break;case"together":Mx(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Va(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xu|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,r=Vo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Vo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function HU(t,e,r){switch(e.tag){case 3:jF(e),nf();break;case 5:gF(e);break;case 1:ai(e.type)&&Cv(e);break;case 4:IE(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;er(Pv,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(er(fr,fr.current&1),e.flags|=128,null):r&e.child.childLanes?UF(t,e,r):(er(fr,fr.current&1),t=Va(t,e,r),t!==null?t.sibling:null);er(fr,fr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return qF(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(fr,fr.current),n)break;return null;case 22:case 23:return e.lanes=0,$F(t,e,r)}return Va(t,e,r)}var HF,xw,WF,GF;HF=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};xw=function(){};WF=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Jl(js.current);var s=null;switch(r){case"input":i=zb(t,i),n=zb(t,n),s=[];break;case"select":i=mr({},i,{value:void 0}),n=mr({},n,{value:void 0}),s=[];break;case"textarea":i=qb(t,i),n=qb(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Tv)}Wb(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Td.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Td.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};GF=function(t,e,r,n){r!==n&&(e.flags|=4)};function _h(t,e){if(!lr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function WU(t,e,r){var n=e.pendingProps;switch(SE(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return ai(e.type)&&Dv(),bn(e),null;case 3:return n=e.stateNode,af(),sr(si),sr(Rn),kE(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cs!==null&&(Tw(cs),cs=null))),xw(t,e),bn(e),null;case 5:PE(e);var i=Jl(Vd.current);if(r=e.type,t!==null&&e.stateNode!=null)WF(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Pe(166));return bn(e),null}if(t=Jl(js.current),Vp(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ls]=e,n[Bd]=s,t=(e.mode&1)!==0,r){case"dialog":rr("cancel",n),rr("close",n);break;case"iframe":case"object":case"embed":rr("load",n);break;case"video":case"audio":for(i=0;i<Oh.length;i++)rr(Oh[i],n);break;case"source":rr("error",n);break;case"img":case"image":case"link":rr("error",n),rr("load",n);break;case"details":rr("toggle",n);break;case"input":LN(n,s),rr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},rr("invalid",n);break;case"textarea":$N(n,s),rr("invalid",n)}Wb(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Lp(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Lp(n.textContent,o,t),i=["children",""+o]):Td.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&rr("scroll",n)}switch(r){case"input":Mp(n),VN(n,s,!0);break;case"textarea":Mp(n),zN(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Tv)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=wO(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ls]=e,t[Bd]=n,HF(t,e,!1,!1),e.stateNode=t;e:{switch(a=Gb(r,n),r){case"dialog":rr("cancel",t),rr("close",t),i=n;break;case"iframe":case"object":case"embed":rr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Oh.length;i++)rr(Oh[i],t);i=n;break;case"source":rr("error",t),i=n;break;case"img":case"image":case"link":rr("error",t),rr("load",t),i=n;break;case"details":rr("toggle",t),i=n;break;case"input":LN(t,n),i=zb(t,n),rr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mr({},n,{value:void 0}),rr("invalid",t);break;case"textarea":$N(t,n),i=qb(t,n),rr("invalid",t);break;default:i=n}Wb(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?SO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_O(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Dd(t,l):typeof l=="number"&&Dd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Td.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rr("scroll",t):l!=null&&uE(t,s,l,a))}switch(r){case"input":Mp(t),VN(t,n,!1);break;case"textarea":Mp(t),zN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Go(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Vc(t,!!n.multiple,s,!1):n.defaultValue!=null&&Vc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)GF(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Pe(166));if(r=Jl(Vd.current),Jl(js.current),Vp(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ls]=e,(s=n.nodeValue!==r)&&(t=wi,t!==null))switch(t.tag){case 3:Lp(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Lp(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ls]=e,e.stateNode=n}return bn(e),null;case 13:if(sr(fr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lr&&xi!==null&&e.mode&1&&!(e.flags&128))fF(),nf(),e.flags|=98560,s=!1;else if(s=Vp(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[Ls]=e}else nf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else cs!==null&&(Tw(cs),cs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fr.current&1?$r===0&&($r=3):HE())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return af(),xw(t,e),t===null&&Od(e.stateNode.containerInfo),bn(e),null;case 10:return DE(e.type._context),bn(e),null;case 17:return ai(e.type)&&Dv(),bn(e),null;case 19:if(sr(fr),s=e.memoizedState,s===null)return bn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)_h(s,!1);else{if($r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ov(t),a!==null){for(e.flags|=128,_h(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return er(fr,fr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Tr()>lf&&(e.flags|=128,n=!0,_h(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ov(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_h(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lr)return bn(e),null}else 2*Tr()-s.renderingStartTime>lf&&r!==1073741824&&(e.flags|=128,n=!0,_h(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tr(),e.sibling=null,r=fr.current,er(fr,n?r&1|2:r&1),e):(bn(e),null);case 22:case 23:return qE(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gi&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function GU(t,e){switch(SE(e),e.tag){case 1:return ai(e.type)&&Dv(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return af(),sr(si),sr(Rn),kE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return PE(e),null;case 13:if(sr(fr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));nf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return sr(fr),null;case 4:return af(),null;case 10:return DE(e.type._context),null;case 22:case 23:return qE(),null;case 24:return null;default:return null}}var jp=!1,Tn=!1,KU=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Dc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xr(t,e,n)}else r.current=null}function bw(t,e,r){try{r()}catch(n){xr(t,e,n)}}var MT=!1;function YU(t,e){if(nw=Sv,t=JO(),_E(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var d;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===t)break t;if(h===r&&++u===i&&(o=a),h===s&&++c===n&&(l=a),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(iw={focusedElem:t,selectionRange:r},Sv=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){e=Ue;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?p:os(e.type,p),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(x){xr(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}return m=MT,MT=!1,m}function id(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bw(e,r,s)}i=i.next}while(i!==n)}}function Sy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ww(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function KF(t){var e=t.alternate;e!==null&&(t.alternate=null,KF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ls],delete e[Bd],delete e[ow],delete e[IU],delete e[PU])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YF(t){return t.tag===5||t.tag===3||t.tag===4}function IT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _w(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Tv));else if(n!==4&&(t=t.child,t!==null))for(_w(t,e,r),t=t.sibling;t!==null;)_w(t,e,r),t=t.sibling}function Ew(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ew(t,e,r),t=t.sibling;t!==null;)Ew(t,e,r),t=t.sibling}var rn=null,ls=!1;function so(t,e,r){for(r=r.child;r!==null;)QF(t,e,r),r=r.sibling}function QF(t,e,r){if(zs&&typeof zs.onCommitFiberUnmount=="function")try{zs.onCommitFiberUnmount(gy,r)}catch{}switch(r.tag){case 5:Tn||Dc(r,e);case 6:var n=rn,i=ls;rn=null,so(t,e,r),rn=n,ls=i,rn!==null&&(ls?(t=rn,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):rn.removeChild(r.stateNode));break;case 18:rn!==null&&(ls?(t=rn,r=r.stateNode,t.nodeType===8?Ex(t.parentNode,r):t.nodeType===1&&Ex(t,r),Pd(t)):Ex(rn,r.stateNode));break;case 4:n=rn,i=ls,rn=r.stateNode.containerInfo,ls=!0,so(t,e,r),rn=n,ls=i;break;case 0:case 11:case 14:case 15:if(!Tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bw(r,e,a),i=i.next}while(i!==n)}so(t,e,r);break;case 1:if(!Tn&&(Dc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xr(r,e,o)}so(t,e,r);break;case 21:so(t,e,r);break;case 22:r.mode&1?(Tn=(n=Tn)||r.memoizedState!==null,so(t,e,r),Tn=n):so(t,e,r);break;default:so(t,e,r)}}function PT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new KU),e.forEach(function(n){var i=iq.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function is(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:rn=o.stateNode,ls=!1;break e;case 3:rn=o.stateNode.containerInfo,ls=!0;break e;case 4:rn=o.stateNode.containerInfo,ls=!0;break e}o=o.return}if(rn===null)throw Error(Pe(160));QF(s,a,i),rn=null,ls=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)XF(e,t),e=e.sibling}function XF(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(is(e,t),Is(t),n&4){try{id(3,t,t.return),Sy(3,t)}catch(p){xr(t,t.return,p)}try{id(5,t,t.return)}catch(p){xr(t,t.return,p)}}break;case 1:is(e,t),Is(t),n&512&&r!==null&&Dc(r,r.return);break;case 5:if(is(e,t),Is(t),n&512&&r!==null&&Dc(r,r.return),t.flags&32){var i=t.stateNode;try{Dd(i,"")}catch(p){xr(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&xO(i,s),Gb(o,a);var u=Gb(o,s);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?SO(i,f):c==="dangerouslySetInnerHTML"?_O(i,f):c==="children"?Dd(i,f):uE(i,c,f,u)}switch(o){case"input":jb(i,s);break;case"textarea":bO(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Vc(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Vc(i,!!s.multiple,s.defaultValue,!0):Vc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Bd]=s}catch(p){xr(t,t.return,p)}}break;case 6:if(is(e,t),Is(t),n&4){if(t.stateNode===null)throw Error(Pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){xr(t,t.return,p)}}break;case 3:if(is(e,t),Is(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pd(e.containerInfo)}catch(p){xr(t,t.return,p)}break;case 4:is(e,t),Is(t);break;case 13:is(e,t),Is(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jE=Tr())),n&4&&PT(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Tn=(u=Tn)||c,is(e,t),Tn=u):is(e,t),Is(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ue=t,c=t.child;c!==null;){for(f=Ue=c;Ue!==null;){switch(h=Ue,d=h.child,h.tag){case 0:case 11:case 14:case 15:id(4,h,h.return);break;case 1:Dc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){xr(n,r,p)}}break;case 5:Dc(h,h.return);break;case 22:if(h.memoizedState!==null){RT(f);continue}}d!==null?(d.return=h,Ue=d):RT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=EO("display",a))}catch(p){xr(t,t.return,p)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){xr(t,t.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:is(e,t),Is(t),n&4&&PT(t);break;case 21:break;default:is(e,t),Is(t)}}function Is(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(YF(r)){var n=r;break e}r=r.return}throw Error(Pe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Dd(i,""),n.flags&=-33);var s=IT(t);Ew(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=IT(t);_w(t,o,a);break;default:throw Error(Pe(161))}}catch(l){xr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QU(t,e,r){Ue=t,JF(t)}function JF(t,e,r){for(var n=(t.mode&1)!==0;Ue!==null;){var i=Ue,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||jp;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Tn;o=jp;var u=Tn;if(jp=a,(Tn=l)&&!u)for(Ue=i;Ue!==null;)a=Ue,l=a.child,a.tag===22&&a.memoizedState!==null?OT(i):l!==null?(l.return=a,Ue=l):OT(i);for(;s!==null;)Ue=s,JF(s),s=s.sibling;Ue=i,jp=o,Tn=u}kT(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ue=s):kT(t)}}function kT(t){for(;Ue!==null;){var e=Ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Tn||Sy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Tn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:os(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vT(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vT(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Pd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Tn||e.flags&512&&ww(e)}catch(h){xr(e,e.return,h)}}if(e===t){Ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function RT(t){for(;Ue!==null;){var e=Ue;if(e===t){Ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ue=r;break}Ue=e.return}}function OT(t){for(;Ue!==null;){var e=Ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sy(4,e)}catch(l){xr(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xr(e,i,l)}}var s=e.return;try{ww(e)}catch(l){xr(e,s,l)}break;case 5:var a=e.return;try{ww(e)}catch(l){xr(e,a,l)}}}catch(l){xr(e,e.return,l)}if(e===t){Ue=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ue=o;break}Ue=e.return}}var XU=Math.ceil,Lv=Ya.ReactCurrentDispatcher,$E=Ya.ReactCurrentOwner,qi=Ya.ReactCurrentBatchConfig,Pt=0,Jr=null,Ir=null,cn=0,gi=0,Cc=cl(0),$r=0,Ud=null,xu=0,Ay=0,zE=0,sd=null,ei=null,jE=0,lf=1/0,va=null,Vv=!1,Sw=null,Bo=null,Up=!1,So=null,$v=0,ad=0,Aw=null,Yg=-1,Qg=0;function zn(){return Pt&6?Tr():Yg!==-1?Yg:Yg=Tr()}function Lo(t){return t.mode&1?Pt&2&&cn!==0?cn&-cn:RU.transition!==null?(Qg===0&&(Qg=FO()),Qg):(t=Gt,t!==0||(t=window.event,t=t===void 0?16:UO(t.type)),t):1}function ps(t,e,r,n){if(50<ad)throw ad=0,Aw=null,Error(Pe(185));Nm(t,r,n),(!(Pt&2)||t!==Jr)&&(t===Jr&&(!(Pt&2)&&(Ay|=r),$r===4&&vo(t,cn)),oi(t,n),r===1&&Pt===0&&!(e.mode&1)&&(lf=Tr()+500,wy&&fl()))}function oi(t,e){var r=t.callbackNode;R7(t,e);var n=Ev(t,t===Jr?cn:0);if(n===0)r!==null&&qN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&qN(r),e===1)t.tag===0?kU(FT.bind(null,t)):lF(FT.bind(null,t)),CU(function(){!(Pt&6)&&fl()}),r=null;else{switch(BO(n)){case 1:r=mE;break;case 4:r=RO;break;case 16:r=_v;break;case 536870912:r=OO;break;default:r=_v}r=a5(r,ZF.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function ZF(t,e){if(Yg=-1,Qg=0,Pt&6)throw Error(Pe(327));var r=t.callbackNode;if(qc()&&t.callbackNode!==r)return null;var n=Ev(t,t===Jr?cn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=zv(t,n);else{e=n;var i=Pt;Pt|=2;var s=t5();(Jr!==t||cn!==e)&&(va=null,lf=Tr()+500,lu(t,e));do try{eq();break}catch(o){e5(t,o)}while(!0);TE(),Lv.current=s,Pt=i,Ir!==null?e=0:(Jr=null,cn=0,e=$r)}if(e!==0){if(e===2&&(i=Jb(t),i!==0&&(n=i,e=Nw(t,i))),e===1)throw r=Ud,lu(t,0),vo(t,n),oi(t,Tr()),r;if(e===6)vo(t,n);else{if(i=t.current.alternate,!(n&30)&&!JU(i)&&(e=zv(t,n),e===2&&(s=Jb(t),s!==0&&(n=s,e=Nw(t,s))),e===1))throw r=Ud,lu(t,0),vo(t,n),oi(t,Tr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Pe(345));case 2:$l(t,ei,va);break;case 3:if(vo(t,n),(n&130023424)===n&&(e=jE+500-Tr(),10<e)){if(Ev(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aw($l.bind(null,t,ei,va),e);break}$l(t,ei,va);break;case 4:if(vo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ms(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XU(n/1960))-n,10<n){t.timeoutHandle=aw($l.bind(null,t,ei,va),n);break}$l(t,ei,va);break;case 5:$l(t,ei,va);break;default:throw Error(Pe(329))}}}return oi(t,Tr()),t.callbackNode===r?ZF.bind(null,t):null}function Nw(t,e){var r=sd;return t.current.memoizedState.isDehydrated&&(lu(t,e).flags|=256),t=zv(t,e),t!==2&&(e=ei,ei=r,e!==null&&Tw(e)),t}function Tw(t){ei===null?ei=t:ei.push.apply(ei,t)}function JU(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!xs(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vo(t,e){for(e&=~zE,e&=~Ay,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ms(e),n=1<<r;t[r]=-1,e&=~n}}function FT(t){if(Pt&6)throw Error(Pe(327));qc();var e=Ev(t,0);if(!(e&1))return oi(t,Tr()),null;var r=zv(t,e);if(t.tag!==0&&r===2){var n=Jb(t);n!==0&&(e=n,r=Nw(t,n))}if(r===1)throw r=Ud,lu(t,0),vo(t,e),oi(t,Tr()),r;if(r===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$l(t,ei,va),oi(t,Tr()),null}function UE(t,e){var r=Pt;Pt|=1;try{return t(e)}finally{Pt=r,Pt===0&&(lf=Tr()+500,wy&&fl())}}function bu(t){So!==null&&So.tag===0&&!(Pt&6)&&qc();var e=Pt;Pt|=1;var r=qi.transition,n=Gt;try{if(qi.transition=null,Gt=1,t)return t()}finally{Gt=n,qi.transition=r,Pt=e,!(Pt&6)&&fl()}}function qE(){gi=Cc.current,sr(Cc)}function lu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,DU(r)),Ir!==null)for(r=Ir.return;r!==null;){var n=r;switch(SE(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Dv();break;case 3:af(),sr(si),sr(Rn),kE();break;case 5:PE(n);break;case 4:af();break;case 13:sr(fr);break;case 19:sr(fr);break;case 10:DE(n.type._context);break;case 22:case 23:qE()}r=r.return}if(Jr=t,Ir=t=Vo(t.current,null),cn=gi=e,$r=0,Ud=null,zE=Ay=xu=0,ei=sd=null,Xl!==null){for(e=0;e<Xl.length;e++)if(r=Xl[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Xl=null}return t}function e5(t,e){do{var r=Ir;try{if(TE(),Wg.current=Bv,Fv){for(var n=dr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Fv=!1}if(yu=0,Qr=Or=dr=null,nd=!1,$d=0,$E.current=null,r===null||r.return===null){$r=1,Ud=e,Ir=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=cn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=ET(a);if(d!==null){d.flags&=-257,ST(d,a,o,s,e),d.mode&1&&_T(s,u,e),e=d,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){_T(s,u,e),HE();break e}l=Error(Pe(426))}}else if(lr&&o.mode&1){var g=ET(a);if(g!==null){!(g.flags&65536)&&(g.flags|=256),ST(g,a,o,s,e),AE(of(l,o));break e}}s=l=of(l,o),$r!==4&&($r=2),sd===null?sd=[s]:sd.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=BF(s,l,e);gT(s,v);break e;case 1:o=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bo===null||!Bo.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=LF(s,o,e);gT(s,x);break e}}s=s.return}while(s!==null)}n5(r)}catch(w){e=w,Ir===r&&r!==null&&(Ir=r=r.return);continue}break}while(!0)}function t5(){var t=Lv.current;return Lv.current=Bv,t===null?Bv:t}function HE(){($r===0||$r===3||$r===2)&&($r=4),Jr===null||!(xu&268435455)&&!(Ay&268435455)||vo(Jr,cn)}function zv(t,e){var r=Pt;Pt|=2;var n=t5();(Jr!==t||cn!==e)&&(va=null,lu(t,e));do try{ZU();break}catch(i){e5(t,i)}while(!0);if(TE(),Pt=r,Lv.current=n,Ir!==null)throw Error(Pe(261));return Jr=null,cn=0,$r}function ZU(){for(;Ir!==null;)r5(Ir)}function eq(){for(;Ir!==null&&!A7();)r5(Ir)}function r5(t){var e=s5(t.alternate,t,gi);t.memoizedProps=t.pendingProps,e===null?n5(t):Ir=e,$E.current=null}function n5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=GU(r,e),r!==null){r.flags&=32767,Ir=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$r=6,Ir=null;return}}else if(r=WU(r,e,gi),r!==null){Ir=r;return}if(e=e.sibling,e!==null){Ir=e;return}Ir=e=t}while(e!==null);$r===0&&($r=5)}function $l(t,e,r){var n=Gt,i=qi.transition;try{qi.transition=null,Gt=1,tq(t,e,r,n)}finally{qi.transition=i,Gt=n}return null}function tq(t,e,r,n){do qc();while(So!==null);if(Pt&6)throw Error(Pe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(O7(t,s),t===Jr&&(Ir=Jr=null,cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Up||(Up=!0,a5(_v,function(){return qc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=qi.transition,qi.transition=null;var a=Gt;Gt=1;var o=Pt;Pt|=4,$E.current=null,YU(t,r),XF(r,t),wU(iw),Sv=!!nw,iw=nw=null,t.current=r,QU(r),N7(),Pt=o,Gt=a,qi.transition=s}else t.current=r;if(Up&&(Up=!1,So=t,$v=i),s=t.pendingLanes,s===0&&(Bo=null),C7(r.stateNode),oi(t,Tr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Vv)throw Vv=!1,t=Sw,Sw=null,t;return $v&1&&t.tag!==0&&qc(),s=t.pendingLanes,s&1?t===Aw?ad++:(ad=0,Aw=t):ad=0,fl(),null}function qc(){if(So!==null){var t=BO($v),e=qi.transition,r=Gt;try{if(qi.transition=null,Gt=16>t?16:t,So===null)var n=!1;else{if(t=So,So=null,$v=0,Pt&6)throw Error(Pe(331));var i=Pt;for(Pt|=4,Ue=t.current;Ue!==null;){var s=Ue,a=s.child;if(Ue.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ue=u;Ue!==null;){var c=Ue;switch(c.tag){case 0:case 11:case 15:id(8,c,s)}var f=c.child;if(f!==null)f.return=c,Ue=f;else for(;Ue!==null;){c=Ue;var h=c.sibling,d=c.return;if(KF(c),c===u){Ue=null;break}if(h!==null){h.return=d,Ue=h;break}Ue=d}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}Ue=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ue=a;else e:for(;Ue!==null;){if(s=Ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:id(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,Ue=v;break e}Ue=s.return}}var b=t.current;for(Ue=b;Ue!==null;){a=Ue;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,Ue=y;else e:for(a=b;Ue!==null;){if(o=Ue,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Sy(9,o)}}catch(w){xr(o,o.return,w)}if(o===a){Ue=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Ue=x;break e}Ue=o.return}}if(Pt=i,fl(),zs&&typeof zs.onPostCommitFiberRoot=="function")try{zs.onPostCommitFiberRoot(gy,t)}catch{}n=!0}return n}finally{Gt=r,qi.transition=e}}return!1}function BT(t,e,r){e=of(r,e),e=BF(t,e,1),t=Fo(t,e,1),e=zn(),t!==null&&(Nm(t,1,e),oi(t,e))}function xr(t,e,r){if(t.tag===3)BT(t,t,r);else for(;e!==null;){if(e.tag===3){BT(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bo===null||!Bo.has(n))){t=of(r,t),t=LF(e,t,1),e=Fo(e,t,1),t=zn(),e!==null&&(Nm(e,1,t),oi(e,t));break}}e=e.return}}function rq(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zn(),t.pingedLanes|=t.suspendedLanes&r,Jr===t&&(cn&r)===r&&($r===4||$r===3&&(cn&130023424)===cn&&500>Tr()-jE?lu(t,0):zE|=r),oi(t,e)}function i5(t,e){e===0&&(t.mode&1?(e=kp,kp<<=1,!(kp&130023424)&&(kp=4194304)):e=1);var r=zn();t=La(t,e),t!==null&&(Nm(t,e,r),oi(t,r))}function nq(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),i5(t,r)}function iq(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(e),i5(t,r)}var s5;s5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||si.current)ii=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ii=!1,HU(t,e,r);ii=!!(t.flags&131072)}else ii=!1,lr&&e.flags&1048576&&uF(e,Iv,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Kg(t,e),t=e.pendingProps;var i=rf(e,Rn.current);Uc(e,r),i=OE(null,e,n,t,i,r);var s=FE();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ai(n)?(s=!0,Cv(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ME(e),i.updater=Ey,e.stateNode=i,i._reactInternals=e,dw(e,n,t,r),e=gw(null,e,n,!0,s,r)):(e.tag=0,lr&&s&&EE(e),Vn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Kg(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=aq(n),t=os(n,t),i){case 0:e=pw(null,e,n,t,r);break e;case 1:e=TT(null,e,n,t,r);break e;case 11:e=AT(null,e,n,t,r);break e;case 14:e=NT(null,e,n,os(n.type,t),r);break e}throw Error(Pe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:os(n,i),pw(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:os(n,i),TT(t,e,n,i,r);case 3:e:{if(jF(e),t===null)throw Error(Pe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,pF(t,e),Rv(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=of(Error(Pe(423)),e),e=DT(t,e,n,r,i);break e}else if(n!==i){i=of(Error(Pe(424)),e),e=DT(t,e,n,r,i);break e}else for(xi=Oo(e.stateNode.containerInfo.firstChild),wi=e,lr=!0,cs=null,r=dF(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nf(),n===i){e=Va(t,e,r);break e}Vn(t,e,n,r)}e=e.child}return e;case 5:return gF(e),t===null&&cw(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,sw(n,i)?a=null:s!==null&&sw(n,s)&&(e.flags|=32),zF(t,e),Vn(t,e,a,r),e.child;case 6:return t===null&&cw(e),null;case 13:return UF(t,e,r);case 4:return IE(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=sf(e,null,n,r):Vn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:os(n,i),AT(t,e,n,i,r);case 7:return Vn(t,e,e.pendingProps,r),e.child;case 8:return Vn(t,e,e.pendingProps.children,r),e.child;case 12:return Vn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,er(Pv,n._currentValue),n._currentValue=a,s!==null)if(xs(s.value,a)){if(s.children===i.children&&!si.current){e=Va(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ma(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),fw(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Pe(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),fw(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Uc(e,r),i=Wi(i),n=n(i),e.flags|=1,Vn(t,e,n,r),e.child;case 14:return n=e.type,i=os(n,e.pendingProps),i=os(n.type,i),NT(t,e,n,i,r);case 15:return VF(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:os(n,i),Kg(t,e),e.tag=1,ai(n)?(t=!0,Cv(e)):t=!1,Uc(e,r),FF(e,n,i),dw(e,n,i,r),gw(null,e,n,!0,t,r);case 19:return qF(t,e,r);case 22:return $F(t,e,r)}throw Error(Pe(156,e.tag))};function a5(t,e){return kO(t,e)}function sq(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(t,e,r,n){return new sq(t,e,r,n)}function WE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aq(t){if(typeof t=="function")return WE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fE)return 11;if(t===hE)return 14}return 2}function Vo(t,e){var r=t.alternate;return r===null?(r=ji(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xg(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")WE(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case xc:return uu(r.children,i,s,e);case cE:a=8,i|=8;break;case Bb:return t=ji(12,r,e,i|2),t.elementType=Bb,t.lanes=s,t;case Lb:return t=ji(13,r,e,i),t.elementType=Lb,t.lanes=s,t;case Vb:return t=ji(19,r,e,i),t.elementType=Vb,t.lanes=s,t;case gO:return Ny(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mO:a=10;break e;case pO:a=9;break e;case fE:a=11;break e;case hE:a=14;break e;case co:a=16,n=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=ji(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function uu(t,e,r,n){return t=ji(7,t,n,e),t.lanes=r,t}function Ny(t,e,r,n){return t=ji(22,t,n,e),t.elementType=gO,t.lanes=r,t.stateNode={isHidden:!1},t}function Ix(t,e,r){return t=ji(6,t,null,e),t.lanes=r,t}function Px(t,e,r){return e=ji(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oq(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hx(0),this.expirationTimes=hx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hx(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function GE(t,e,r,n,i,s,a,o,l){return t=new oq(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ji(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ME(s),t}function lq(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yc,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function o5(t){if(!t)return Ko;t=t._reactInternals;e:{if(ku(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ai(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var r=t.type;if(ai(r))return oF(t,r,e)}return e}function l5(t,e,r,n,i,s,a,o,l){return t=GE(r,n,!0,t,i,s,a,o,l),t.context=o5(null),r=t.current,n=zn(),i=Lo(r),s=Ma(n,i),s.callback=e??null,Fo(r,s,i),t.current.lanes=i,Nm(t,i,n),oi(t,n),t}function Ty(t,e,r,n){var i=e.current,s=zn(),a=Lo(i);return r=o5(r),e.context===null?e.context=r:e.pendingContext=r,e=Ma(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fo(i,e,a),t!==null&&(ps(t,i,a,s),Hg(t,i,a)),a}function jv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function LT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function KE(t,e){LT(t,e),(t=t.alternate)&&LT(t,e)}function uq(){return null}var u5=typeof reportError=="function"?reportError:function(t){console.error(t)};function YE(t){this._internalRoot=t}Dy.prototype.render=YE.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Ty(t,e,null,null)};Dy.prototype.unmount=YE.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bu(function(){Ty(null,t,null,null)}),e[Ba]=null}};function Dy(t){this._internalRoot=t}Dy.prototype.unstable_scheduleHydration=function(t){if(t){var e=$O();t={blockedOn:null,target:t,priority:e};for(var r=0;r<go.length&&e!==0&&e<go[r].priority;r++);go.splice(r,0,t),r===0&&jO(t)}};function QE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function VT(){}function cq(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=jv(a);s.call(u)}}var a=l5(e,n,t,0,null,!1,!1,"",VT);return t._reactRootContainer=a,t[Ba]=a.current,Od(t.nodeType===8?t.parentNode:t),bu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=jv(l);o.call(u)}}var l=GE(t,0,!1,null,null,!1,!1,"",VT);return t._reactRootContainer=l,t[Ba]=l.current,Od(t.nodeType===8?t.parentNode:t),bu(function(){Ty(e,l,r,n)}),l}function My(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=jv(a);o.call(l)}}Ty(e,a,t,i)}else a=cq(r,e,t,i,n);return jv(a)}LO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Rh(e.pendingLanes);r!==0&&(pE(e,r|1),oi(e,Tr()),!(Pt&6)&&(lf=Tr()+500,fl()))}break;case 13:bu(function(){var n=La(t,1);if(n!==null){var i=zn();ps(n,t,1,i)}}),KE(t,1)}};gE=function(t){if(t.tag===13){var e=La(t,134217728);if(e!==null){var r=zn();ps(e,t,134217728,r)}KE(t,134217728)}};VO=function(t){if(t.tag===13){var e=Lo(t),r=La(t,e);if(r!==null){var n=zn();ps(r,t,e,n)}KE(t,e)}};$O=function(){return Gt};zO=function(t,e){var r=Gt;try{return Gt=t,e()}finally{Gt=r}};Yb=function(t,e,r){switch(e){case"input":if(jb(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=by(n);if(!i)throw Error(Pe(90));yO(n),jb(n,i)}}}break;case"textarea":bO(t,r);break;case"select":e=r.value,e!=null&&Vc(t,!!r.multiple,e,!1)}};TO=UE;DO=bu;var fq={usingClientEntryPoint:!1,Events:[Dm,Ec,by,AO,NO,UE]},Eh={findFiberByHostInstance:Ql,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hq={bundleType:Eh.bundleType,version:Eh.version,rendererPackageName:Eh.rendererPackageName,rendererConfig:Eh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ya.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=IO(t),t===null?null:t.stateNode},findFiberByHostInstance:Eh.findFiberByHostInstance||uq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{gy=qp.inject(hq),zs=qp}catch{}}Ni.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fq;Ni.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QE(e))throw Error(Pe(200));return lq(t,e,null,r)};Ni.createRoot=function(t,e){if(!QE(t))throw Error(Pe(299));var r=!1,n="",i=u5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=GE(t,1,!1,null,null,r,!1,n,i),t[Ba]=e.current,Od(t.nodeType===8?t.parentNode:t),new YE(e)};Ni.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=IO(e),t=t===null?null:t.stateNode,t};Ni.flushSync=function(t){return bu(t)};Ni.hydrate=function(t,e,r){if(!Cy(e))throw Error(Pe(200));return My(null,t,e,!0,r)};Ni.hydrateRoot=function(t,e,r){if(!QE(t))throw Error(Pe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=u5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=l5(e,null,t,1,r??null,i,!1,s,a),t[Ba]=e.current,Od(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Dy(e)};Ni.render=function(t,e,r){if(!Cy(e))throw Error(Pe(200));return My(null,t,e,!1,r)};Ni.unmountComponentAtNode=function(t){if(!Cy(t))throw Error(Pe(40));return t._reactRootContainer?(bu(function(){My(null,null,t,!1,function(){t._reactRootContainer=null,t[Ba]=null})}),!0):!1};Ni.unstable_batchedUpdates=UE;Ni.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cy(r))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return My(t,e,r,!1,n)};Ni.version="18.3.1-next-f1338f8080-20240426";function c5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c5)}catch(t){console.error(t)}}c5(),cO.exports=Ni;var dq=cO.exports,f5,$T=dq;f5=$T.createRoot,$T.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qd.apply(this,arguments)}var Ao;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ao||(Ao={}));const zT="popstate";function mq(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return Dw("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Uv(i)}return gq(e,r,null,t)}function _r(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function h5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pq(){return Math.random().toString(36).substr(2,8)}function jT(t,e){return{usr:t.state,key:t.key,idx:e}}function Dw(t,e,r,n){return r===void 0&&(r=null),qd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Of(e):e,{state:r,key:e&&e.key||n||pq()})}function Uv(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Of(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function gq(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ao.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(qd({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=Ao.Pop;let g=c(),v=g==null?null:g-u;u=g,l&&l({action:o,location:p.location,delta:v})}function h(g,v){o=Ao.Push;let b=Dw(p.location,g,v);u=c()+1;let y=jT(b,u),x=p.createHref(b);try{a.pushState(y,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(x)}s&&l&&l({action:o,location:p.location,delta:1})}function d(g,v){o=Ao.Replace;let b=Dw(p.location,g,v);u=c();let y=jT(b,u),x=p.createHref(b);a.replaceState(y,"",x),s&&l&&l({action:o,location:p.location,delta:0})}function m(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof g=="string"?g:Uv(g);return b=b.replace(/ $/,"%20"),_r(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let p={get action(){return o},get location(){return t(i,a)},listen(g){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zT,f),l=g,()=>{i.removeEventListener(zT,f),l=null}},createHref(g){return e(i,g)},createURL:m,encodeLocation(g){let v=m(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:d,go(g){return a.go(g)}};return p}var UT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UT||(UT={}));function vq(t,e,r){return r===void 0&&(r="/"),yq(t,e,r)}function yq(t,e,r,n){let i=typeof e=="string"?Of(e):e,s=uf(i.pathname||"/",r);if(s==null)return null;let a=d5(t);xq(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Mq(s);o=Dq(a[l],u)}return o}function d5(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(_r(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=$o([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(_r(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),d5(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Nq(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of m5(s.path))i(s,a,l)}),e}function m5(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=m5(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function xq(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Tq(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const bq=/^:[\w-]+$/,wq=3,_q=2,Eq=1,Sq=10,Aq=-2,qT=t=>t==="*";function Nq(t,e){let r=t.split("/"),n=r.length;return r.some(qT)&&(n+=Aq),e&&(n+=_q),r.filter(i=>!qT(i)).reduce((i,s)=>i+(bq.test(s)?wq:s===""?Eq:Sq),n)}function Tq(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Dq(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=Cw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:$o([s,f.pathname]),pathnameBase:Rq($o([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=$o([s,f.pathnameBase]))}return a}function Cw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Cq(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,f)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let p=o[f]||"";a=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[f];return d&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Cq(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),h5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Mq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return h5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Iq(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Of(t):t;return{pathname:r?r.startsWith("/")?r:Pq(r,e):e,search:Oq(n),hash:Fq(i)}}function Pq(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kx(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kq(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function p5(t,e){let r=kq(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function g5(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Of(t):(i=qd({},t),_r(!i.pathname||!i.pathname.includes("?"),kx("?","pathname","search",i)),_r(!i.pathname||!i.pathname.includes("#"),kx("#","pathname","hash",i)),_r(!i.search||!i.search.includes("#"),kx("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}o=f>=0?e[f]:"/"}let l=Iq(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const $o=t=>t.join("/").replace(/\/\/+/g,"/"),Rq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Oq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Fq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Bq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const v5=["post","put","patch","delete"];new Set(v5);const Lq=["get",...v5];new Set(Lq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hd(){return Hd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hd.apply(this,arguments)}const Iy=ne.createContext(null),y5=ne.createContext(null),hl=ne.createContext(null),Py=ne.createContext(null),Ru=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),x5=ne.createContext(null);function Vq(t,e){let{relative:r}=e===void 0?{}:e;Mm()||_r(!1);let{basename:n,navigator:i}=ne.useContext(hl),{hash:s,pathname:a,search:o}=ky(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:$o([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Mm(){return ne.useContext(Py)!=null}function Ff(){return Mm()||_r(!1),ne.useContext(Py).location}function b5(t){ne.useContext(hl).static||ne.useLayoutEffect(t)}function w5(){let{isDataRoute:t}=ne.useContext(Ru);return t?Jq():$q()}function $q(){Mm()||_r(!1);let t=ne.useContext(Iy),{basename:e,future:r,navigator:n}=ne.useContext(hl),{matches:i}=ne.useContext(Ru),{pathname:s}=Ff(),a=JSON.stringify(p5(i,r.v7_relativeSplatPath)),o=ne.useRef(!1);return b5(()=>{o.current=!0}),ne.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=g5(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$o([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,s,t])}function ky(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=ne.useContext(hl),{matches:i}=ne.useContext(Ru),{pathname:s}=Ff(),a=JSON.stringify(p5(i,n.v7_relativeSplatPath));return ne.useMemo(()=>g5(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function zq(t,e){return jq(t,e)}function jq(t,e,r,n){Mm()||_r(!1);let{navigator:i}=ne.useContext(hl),{matches:s}=ne.useContext(Ru),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Ff(),c;if(e){var f;let g=typeof e=="string"?Of(e):e;l==="/"||(f=g.pathname)!=null&&f.startsWith(l)||_r(!1),c=g}else c=u;let h=c.pathname||"/",d=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=vq(t,{pathname:d}),p=Gq(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:$o([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:$o([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n);return e&&p?ne.createElement(Py.Provider,{value:{location:Hd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ao.Pop}},p):p}function Uq(){let t=Xq(),e=Bq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),r?ne.createElement("pre",{style:i},r):null,null)}const qq=ne.createElement(Uq,null);class Hq extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ne.createElement(Ru.Provider,{value:this.props.routeContext},ne.createElement(x5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Wq(t){let{routeContext:e,match:r,children:n}=t,i=ne.useContext(Iy);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ne.createElement(Ru.Provider,{value:e},n)}function Gq(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||_r(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:d}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let d,m=!1,p=null,g=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,p=f.route.errorElement||qq,l&&(u<0&&h===0?(Zq("route-fallback"),m=!0,g=null):u===h&&(m=!0,g=f.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,h+1)),b=()=>{let y;return d?y=p:m?y=g:f.route.Component?y=ne.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,ne.createElement(Wq,{match:f,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:y})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ne.createElement(Hq,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var _5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_5||{}),E5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(E5||{});function Kq(t){let e=ne.useContext(Iy);return e||_r(!1),e}function Yq(t){let e=ne.useContext(y5);return e||_r(!1),e}function Qq(t){let e=ne.useContext(Ru);return e||_r(!1),e}function S5(t){let e=Qq(),r=e.matches[e.matches.length-1];return r.route.id||_r(!1),r.route.id}function Xq(){var t;let e=ne.useContext(x5),r=Yq(),n=S5();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Jq(){let{router:t}=Kq(_5.UseNavigateStable),e=S5(E5.UseNavigateStable),r=ne.useRef(!1);return b5(()=>{r.current=!0}),ne.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Hd({fromRouteId:e},s)))},[t,e])}const HT={};function Zq(t,e,r){HT[t]||(HT[t]=!0)}function eH(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ks(t){_r(!1)}function tH(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ao.Pop,navigator:s,static:a=!1,future:o}=t;Mm()&&_r(!1);let l=e.replace(/^\/*/,"/"),u=ne.useMemo(()=>({basename:l,navigator:s,static:a,future:Hd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Of(n));let{pathname:c="/",search:f="",hash:h="",state:d=null,key:m="default"}=n,p=ne.useMemo(()=>{let g=uf(c,l);return g==null?null:{location:{pathname:g,search:f,hash:h,state:d,key:m},navigationType:i}},[l,c,f,h,d,m,i]);return p==null?null:ne.createElement(hl.Provider,{value:u},ne.createElement(Py.Provider,{children:r,value:p}))}function rH(t){let{children:e,location:r}=t;return zq(Mw(e),r)}new Promise(()=>{});function Mw(t,e){e===void 0&&(e=[]);let r=[];return ne.Children.forEach(t,(n,i)=>{if(!ne.isValidElement(n))return;let s=[...e,i];if(n.type===ne.Fragment){r.push.apply(r,Mw(n.props.children,s));return}n.type!==ks&&_r(!1),!n.props.index||!n.props.children||_r(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Mw(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qv(){return qv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qv.apply(this,arguments)}function A5(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function nH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iH(t,e){return t.button===0&&(!e||e==="_self")&&!nH(t)}const sH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],aH=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],oH="6";try{window.__reactRouterVersion=oH}catch{}const lH=ne.createContext({isTransitioning:!1}),uH="startTransition",WT=r7[uH];function cH(t){let{basename:e,children:r,future:n,window:i}=t,s=ne.useRef();s.current==null&&(s.current=mq({window:i,v5Compat:!0}));let a=s.current,[o,l]=ne.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=ne.useCallback(f=>{u&&WT?WT(()=>l(f)):l(f)},[l,u]);return ne.useLayoutEffect(()=>a.listen(c),[a,c]),ne.useEffect(()=>eH(n),[n]),ne.createElement(tH,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const fH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,N5=ne.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=A5(e,sH),{basename:d}=ne.useContext(hl),m,p=!1;if(typeof u=="string"&&hH.test(u)&&(m=u,fH))try{let y=new URL(window.location.href),x=u.startsWith("//")?new URL(y.protocol+u):new URL(u),w=uf(x.pathname,d);x.origin===y.origin&&w!=null?u=w+x.search+x.hash:p=!0}catch{}let g=Vq(u,{relative:i}),v=mH(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:f});function b(y){n&&n(y),y.defaultPrevented||v(y)}return ne.createElement("a",qv({},h,{href:m||g,onClick:p||s?n:b,ref:r,target:l}))}),Rl=ne.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=e,f=A5(e,aH),h=ky(l,{relative:f.relative}),d=Ff(),m=ne.useContext(y5),{navigator:p,basename:g}=ne.useContext(hl),v=m!=null&&pH(h)&&u===!0,b=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,y=d.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&g&&(x=uf(x,g)||x);const w=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let E=y===b||!a&&y.startsWith(b)&&y.charAt(w)==="/",S=x!=null&&(x===b||!a&&x.startsWith(b)&&x.charAt(b.length)==="/"),A={isActive:E,isPending:S,isTransitioning:v},N=E?n:void 0,D;typeof s=="function"?D=s(A):D=[s,E?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(A):o;return ne.createElement(N5,qv({},f,{"aria-current":N,className:D,ref:r,style:C,to:l,viewTransition:u}),typeof c=="function"?c(A):c)});var Iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Iw||(Iw={}));var GT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GT||(GT={}));function dH(t){let e=ne.useContext(Iy);return e||_r(!1),e}function mH(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=w5(),u=Ff(),c=ky(t,{relative:a});return ne.useCallback(f=>{if(iH(f,r)){f.preventDefault();let h=n!==void 0?n:Uv(u)===Uv(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}function pH(t,e){e===void 0&&(e={});let r=ne.useContext(lH);r==null&&_r(!1);let{basename:n}=dH(Iw.useViewTransitionState),i=ky(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=uf(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=uf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cw(i.pathname,a)!=null||Cw(i.pathname,s)!=null}let gH={data:""},vH=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||gH,yH=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xH=/\/\*[^]*?\*\/|  +/g,KT=/\n+/g,yo=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?yo(a,s):s+"{"+yo(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=yo(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=yo.p?yo.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},ca={},T5=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+T5(t[r]);return e}return t},bH=(t,e,r,n,i)=>{let s=T5(t),a=ca[s]||(ca[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!ca[a]){let l=s!==t?t:(u=>{let c,f,h=[{}];for(;c=yH.exec(u.replace(xH,""));)c[4]?h.shift():c[3]?(f=c[3].replace(KT," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(KT," ").trim();return h[0]})(t);ca[a]=yo(i?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&ca.g?ca.g:null;return r&&(ca.g=ca[a]),((l,u,c,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(ca[a],e,n,o),a},wH=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":yo(o,""):o===!1?"":o}return n+i+(a??"")},"");function Ry(t){let e=this||{},r=t.call?t(e.p):t;return bH(r.unshift?r.raw?wH(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,vH(e.target),e.g,e.o,e.k)}let D5,Pw,kw;Ry.bind({g:1});let $a=Ry.bind({k:1});function _H(t,e,r,n){yo.p=e,D5=t,Pw=r,kw=n}function dl(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;r.p=Object.assign({theme:Pw&&Pw()},o),r.o=/ *go\d+/.test(l),o.className=Ry.apply(r,n)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),kw&&u[0]&&kw(o),D5(u,o)}return i}}var EH=t=>typeof t=="function",Hv=(t,e)=>EH(t)?t(e):t,SH=(()=>{let t=0;return()=>(++t).toString()})(),C5=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),AH=20,XE="default",M5=(t,e)=>{let{toastLimit:r}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,r)};case 1:return{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:n}=e;return M5(t,{type:t.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=e;return{...t,toasts:t.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Jg=[],I5={toasts:[],pausedAt:void 0,settings:{toastLimit:AH}},Vs={},P5=(t,e=XE)=>{Vs[e]=M5(Vs[e]||I5,t),Jg.forEach(([r,n])=>{r===e&&n(Vs[e])})},k5=t=>Object.keys(Vs).forEach(e=>P5(t,e)),NH=t=>Object.keys(Vs).find(e=>Vs[e].toasts.some(r=>r.id===t)),Oy=(t=XE)=>e=>{P5(e,t)},TH={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DH=(t={},e=XE)=>{let[r,n]=ne.useState(Vs[e]||I5),i=ne.useRef(Vs[e]);ne.useEffect(()=>(i.current!==Vs[e]&&n(Vs[e]),Jg.push([e,n]),()=>{let a=Jg.findIndex(([o])=>o===e);a>-1&&Jg.splice(a,1)}),[e]);let s=r.toasts.map(a=>{var o,l,u;return{...t,...t[a.type],...a,removeDelay:a.removeDelay||((o=t[a.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:a.duration||((l=t[a.type])==null?void 0:l.duration)||(t==null?void 0:t.duration)||TH[a.type],style:{...t.style,...(u=t[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:s}},CH=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||SH()}),Im=t=>(e,r)=>{let n=CH(e,t,r);return Oy(n.toasterId||NH(n.id))({type:2,toast:n}),n.id},Br=(t,e)=>Im("blank")(t,e);Br.error=Im("error");Br.success=Im("success");Br.loading=Im("loading");Br.custom=Im("custom");Br.dismiss=(t,e)=>{let r={type:3,toastId:t};e?Oy(e)(r):k5(r)};Br.dismissAll=t=>Br.dismiss(void 0,t);Br.remove=(t,e)=>{let r={type:4,toastId:t};e?Oy(e)(r):k5(r)};Br.removeAll=t=>Br.remove(void 0,t);Br.promise=(t,e,r)=>{let n=Br.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Hv(e.success,i):void 0;return s?Br.success(s,{id:n,...r,...r==null?void 0:r.success}):Br.dismiss(n),i}).catch(i=>{let s=e.error?Hv(e.error,i):void 0;s?Br.error(s,{id:n,...r,...r==null?void 0:r.error}):Br.dismiss(n)}),t};var MH=1e3,IH=(t,e="default")=>{let{toasts:r,pausedAt:n}=DH(t,e),i=ne.useRef(new Map).current,s=ne.useCallback((f,h=MH)=>{if(i.has(f))return;let d=setTimeout(()=>{i.delete(f),a({type:4,toastId:f})},h);i.set(f,d)},[]);ne.useEffect(()=>{if(n)return;let f=Date.now(),h=r.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(f-d.createdAt);if(m<0){d.visible&&Br.dismiss(d.id);return}return setTimeout(()=>Br.dismiss(d.id,e),m)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[r,n,e]);let a=ne.useCallback(Oy(e),[e]),o=ne.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=ne.useCallback((f,h)=>{a({type:1,toast:{id:f,height:h}})},[a]),u=ne.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),c=ne.useCallback((f,h)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:p}=h||{},g=r.filter(y=>(y.position||p)===(f.position||p)&&y.height),v=g.findIndex(y=>y.id===f.id),b=g.filter((y,x)=>x<v&&y.visible).length;return g.filter(y=>y.visible).slice(...d?[b+1]:[0,b]).reduce((y,x)=>y+(x.height||0)+m,0)},[r]);return ne.useEffect(()=>{r.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=i.get(f.id);h&&(clearTimeout(h),i.delete(f.id))}})},[r,s]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:c}}},PH=$a`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,kH=$a`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,RH=$a`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,OH=dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${PH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${kH} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${RH} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FH=$a`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,BH=dl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${FH} 1s linear infinite;
`,LH=$a`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,VH=$a`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,$H=dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LH} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${VH} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zH=dl("div")`
  position: absolute;
`,jH=dl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,UH=$a`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qH=dl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${UH} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HH=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?ne.createElement(qH,null,e):e:r==="blank"?null:ne.createElement(jH,null,ne.createElement(BH,{...n}),r!=="loading"&&ne.createElement(zH,null,r==="error"?ne.createElement(OH,{...n}):ne.createElement($H,{...n})))},WH=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GH=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,KH="0%{opacity:0;} 100%{opacity:1;}",YH="0%{opacity:1;} 100%{opacity:0;}",QH=dl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,XH=dl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,JH=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=C5()?[KH,YH]:[WH(r),GH(r)];return{animation:e?`${$a(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$a(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ZH=ne.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?JH(t.position||e||"top-center",t.visible):{opacity:0},s=ne.createElement(HH,{toast:t}),a=ne.createElement(XH,{...t.ariaProps},Hv(t.message,t));return ne.createElement(QH,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):ne.createElement(ne.Fragment,null,s,a))});_H(ne.createElement);var eW=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=ne.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return ne.createElement("div",{ref:s,className:e,style:r},i)},tW=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:C5()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},rW=Ry`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Hp=16,R5=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:u}=IH(r,s);return ne.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Hp,left:Hp,right:Hp,bottom:Hp,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let f=c.position||e,h=u.calculateOffset(c,{reverseOrder:t,gutter:n,defaultPosition:e}),d=tW(f,h);return ne.createElement(eW,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?rW:"",style:d},c.type==="custom"?Hv(c.message,c):i?i(c):ne.createElement(ZH,{toast:c,position:f}))}))},Ft=Br;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ve=(t,e)=>{const r=ne.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>ne.createElement("svg",{ref:c,...nW,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${iW(t)}`,o].join(" "),...u},[...e.map(([f,h])=>ne.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ve("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=Ve("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Ve("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Ve("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=Ve("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Ve("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Ve("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=Ve("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Ve("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=Ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Ve("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ve("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=Ve("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Ve("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Ve("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=Ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Ve("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Ve("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Ve("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Ve("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=Ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Ve("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=Ve("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=Ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Ve("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Ve("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Ve("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Ve("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Ve("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Ve("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Ve("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Ve("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Ve("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=Ve("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=Ve("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=Ve("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Ve("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=Ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Ve("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=Ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Ve("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Ve("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=Ve("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Ve("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=Ve("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Ve("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=Ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=Ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=Ve("Stethoscope",[["path",{d:"M4.8 2.3A.3.3 0 1 0 5 2H4a2 2 0 0 0-2 2v5a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6V4a2 2 0 0 0-2-2h-1a.2.2 0 1 0 .3.3",key:"1jd90r"}],["path",{d:"M8 15v1a6 6 0 0 0 6 6v0a6 6 0 0 0 6-6v-4",key:"126ukv"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=Ve("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=Ve("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=Ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Ve("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=Ve("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=Ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=Ve("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=Ve("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=Ve("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=Ve("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=Ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Ve("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),tS=ne.createContext({});function rS(t){const e=ne.useRef(null);return e.current===null&&(e.current=t()),e.current}const $y=ne.createContext(null),nS=ne.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class OW extends ne.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function FW({children:t,isPresent:e}){const r=ne.useId(),n=ne.useRef(null),i=ne.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=ne.useContext(nS);return ne.useInsertionEffect(()=>{const{width:a,height:o,top:l,left:u}=i.current;if(e||!n.current||!a||!o)return;n.current.dataset.motionPopId=r;const c=document.createElement("style");return s&&(c.nonce=s),document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),T.jsx(OW,{isPresent:e,childRef:n,sizeRef:i,children:ne.cloneElement(t,{ref:n})})}const BW=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=rS(LW),l=ne.useId(),u=ne.useCallback(f=>{o.set(f,!0);for(const h of o.values())if(!h)return;n&&n()},[o,n]),c=ne.useMemo(()=>({id:l,initial:e,isPresent:r,custom:i,onExitComplete:u,register:f=>(o.set(f,!1),()=>o.delete(f))}),s?[Math.random(),u]:[r,u]);return ne.useMemo(()=>{o.forEach((f,h)=>o.set(h,!1))},[r]),ne.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(t=T.jsx(FW,{isPresent:r,children:t})),T.jsx($y.Provider,{value:c,children:t})};function LW(){return new Map}function U5(t=!0){const e=ne.useContext($y);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=ne.useId();ne.useEffect(()=>{t&&i(s)},[t]);const a=ne.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const Wp=t=>t.key||"";function eD(t){const e=[];return ne.Children.forEach(t,r=>{ne.isValidElement(r)&&e.push(r)}),e}const iS=typeof window<"u",q5=iS?ne.useLayoutEffect:ne.useEffect,ba=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1})=>{const[o,l]=U5(a),u=ne.useMemo(()=>eD(t),[t]),c=a&&!o?[]:u.map(Wp),f=ne.useRef(!0),h=ne.useRef(u),d=rS(()=>new Map),[m,p]=ne.useState(u),[g,v]=ne.useState(u);q5(()=>{f.current=!1,h.current=u;for(let x=0;x<g.length;x++){const w=Wp(g[x]);c.includes(w)?d.delete(w):d.get(w)!==!0&&d.set(w,!1)}},[g,c.length,c.join("-")]);const b=[];if(u!==m){let x=[...u];for(let w=0;w<g.length;w++){const E=g[w],S=Wp(E);c.includes(S)||(x.splice(w,0,E),b.push(E))}s==="wait"&&b.length&&(x=b),v(eD(x)),p(u);return}const{forceRender:y}=ne.useContext(tS);return T.jsx(T.Fragment,{children:g.map(x=>{const w=Wp(x),E=a&&!o?!1:u===g||c.includes(w),S=()=>{if(d.has(w))d.set(w,!0);else return;let A=!0;d.forEach(N=>{N||(A=!1)}),A&&(y==null||y(),v(h.current),a&&(l==null||l()),n&&n())};return T.jsx(BW,{isPresent:E,initial:!f.current||r?void 0:!1,custom:E?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:E?void 0:S,children:x},w)})})},_i=t=>t;let H5=_i;function sS(t){let e;return()=>(e===void 0&&(e=t()),e)}const ff=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Ia=t=>t*1e3,Pa=t=>t/1e3,VW={useManualTiming:!1};function $W(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(u){s.has(u)&&(l.schedule(u),t()),u(a)}const l={schedule:(u,c=!1,f=!1)=>{const d=f&&n?e:r;return c&&s.add(u),d.has(u)||d.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(a=u,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(o),e.clear(),n=!1,i&&(i=!1,l.process(u))}};return l}const Gp=["read","resolveKeyframes","update","preRender","render","postRender"],zW=40;function W5(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=Gp.reduce((v,b)=>(v[b]=$W(s),v),{}),{read:o,resolveKeyframes:l,update:u,preRender:c,render:f,postRender:h}=a,d=()=>{const v=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(v-i.timestamp,zW),1),i.timestamp=v,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),c.process(i),f.process(i),h.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(d))},m=()=>{r=!0,n=!0,i.isProcessing||t(d)};return{schedule:Gp.reduce((v,b)=>{const y=a[b];return v[b]=(x,w=!1,E=!1)=>(r||m(),y.schedule(x,w,E)),v},{}),cancel:v=>{for(let b=0;b<Gp.length;b++)a[Gp[b]].cancel(v)},state:i,steps:a}}const{schedule:ar,cancel:Yo,state:nn,steps:Bx}=W5(typeof requestAnimationFrame<"u"?requestAnimationFrame:_i,!0),G5=ne.createContext({strict:!1}),tD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hf={};for(const t in tD)hf[t]={isEnabled:e=>tD[t].some(r=>!!e[r])};function jW(t){for(const e in t)hf[e]={...hf[e],...t[e]}}const UW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||UW.has(t)}let K5=t=>!Zv(t);function qW(t){t&&(K5=e=>e.startsWith("on")?!Zv(e):t(e))}try{qW(require("@emotion/is-prop-valid").default)}catch{}function HW(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(K5(i)||r===!0&&Zv(i)||!e&&!Zv(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function WW(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const zy=ne.createContext({});function Yd(t){return typeof t=="string"||Array.isArray(t)}function jy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const aS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],oS=["initial",...aS];function Uy(t){return jy(t.animate)||oS.some(e=>Yd(t[e]))}function Y5(t){return!!(Uy(t)||t.variants)}function GW(t,e){if(Uy(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Yd(r)?r:void 0,animate:Yd(n)?n:void 0}}return t.inherit!==!1?e:{}}function KW(t){const{initial:e,animate:r}=GW(t,ne.useContext(zy));return ne.useMemo(()=>({initial:e,animate:r}),[rD(e),rD(r)])}function rD(t){return Array.isArray(t)?t.join(" "):t}const YW=Symbol.for("motionComponentSymbol");function Mc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QW(t,e,r){return ne.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Mc(r)&&(r.current=n))},[e])}const lS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XW="framerAppearId",Q5="data-"+lS(XW),{schedule:uS}=W5(queueMicrotask,!1),X5=ne.createContext({});function JW(t,e,r,n,i){var s,a;const{visualElement:o}=ne.useContext(zy),l=ne.useContext(G5),u=ne.useContext($y),c=ne.useContext(nS).reducedMotion,f=ne.useRef(null);n=n||l.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:o,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:c}));const h=f.current,d=ne.useContext(X5);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&ZW(f.current,r,i,d);const m=ne.useRef(!1);ne.useInsertionEffect(()=>{h&&m.current&&h.update(r,u)});const p=r[Q5],g=ne.useRef(!!p&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,p))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,p)));return q5(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),uS.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),ne.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,p)}),g.current=!1))}),h}function ZW(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:J5(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Mc(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:l,layoutRoot:u})}function J5(t){if(t)return t.options.allowProjection!==!1?t.projection:J5(t.parent)}function eG({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var s,a;t&&jW(t);function o(u,c){let f;const h={...ne.useContext(nS),...u,layoutId:tG(u)},{isStatic:d}=h,m=KW(u),p=n(u,d);if(!d&&iS){rG();const g=nG(h);f=g.MeasureLayout,m.visualElement=JW(i,p,h,e,g.ProjectionNode)}return T.jsxs(zy.Provider,{value:m,children:[f&&m.visualElement?T.jsx(f,{visualElement:m.visualElement,...h}):null,r(i,u,QW(p,m.visualElement,c),p,d,m.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${(a=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&a!==void 0?a:""})`}`;const l=ne.forwardRef(o);return l[YW]=i,l}function tG({layoutId:t}){const e=ne.useContext(tS).id;return e&&t!==void 0?e+"-"+t:t}function rG(t,e){ne.useContext(G5).strict}function nG(t){const{drag:e,layout:r}=hf;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const iG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cS(t){return typeof t!="string"||t.includes("-")?!1:!!(iG.indexOf(t)>-1||/[A-Z]/u.test(t))}function nD(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function fS(t,e,r,n){if(typeof e=="function"){const[i,s]=nD(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=nD(n);e=e(r!==void 0?r:t.custom,i,s)}return e}const Lw=t=>Array.isArray(t),sG=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),aG=t=>Lw(t)?t[t.length-1]||0:t,Mn=t=>!!(t&&t.getVelocity);function Zg(t){const e=Mn(t)?t.get():t;return sG(e)?e.toValue():e}function oG({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,s){const a={latestValues:lG(n,i,s,t),renderState:e()};return r&&(a.onMount=o=>r({props:n,current:o,...a}),a.onUpdate=o=>r(o)),a}const Z5=t=>(e,r)=>{const n=ne.useContext(zy),i=ne.useContext($y),s=()=>oG(t,e,n,i);return r?s():rS(s)};function lG(t,e,r,n){const i={},s=n(t,{});for(const h in s)i[h]=Zg(s[h]);let{initial:a,animate:o}=t;const l=Uy(t),u=Y5(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=r?r.initial===!1:!1;c=c||a===!1;const f=c?o:a;if(f&&typeof f!="boolean"&&!jy(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const m=fS(t,h[d]);if(m){const{transitionEnd:p,transition:g,...v}=m;for(const b in v){let y=v[b];if(Array.isArray(y)){const x=c?y.length-1:0;y=y[x]}y!==null&&(i[b]=y)}for(const b in p)i[b]=p[b]}}}return i}const Bf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ou=new Set(Bf),e6=t=>e=>typeof e=="string"&&e.startsWith(t),t6=e6("--"),uG=e6("var(--"),hS=t=>uG(t)?cG.test(t.split("/*")[0].trim()):!1,cG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,r6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,za=(t,e,r)=>r>e?e:r<t?t:r,Lf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qd={...Lf,transform:t=>za(0,1,t)},Kp={...Lf,default:1},Pm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),lo=Pm("deg"),Us=Pm("%"),rt=Pm("px"),fG=Pm("vh"),hG=Pm("vw"),iD={...Us,parse:t=>Us.parse(t)/100,transform:t=>Us.transform(t*100)},dG={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,radius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,backgroundPositionX:rt,backgroundPositionY:rt},mG={rotate:lo,rotateX:lo,rotateY:lo,rotateZ:lo,scale:Kp,scaleX:Kp,scaleY:Kp,scaleZ:Kp,skew:lo,skewX:lo,skewY:lo,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:Qd,originX:iD,originY:iD,originZ:rt},sD={...Lf,transform:Math.round},dS={...dG,...mG,zIndex:sD,size:rt,fillOpacity:Qd,strokeOpacity:Qd,numOctaves:sD},pG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},gG=Bf.length;function vG(t,e,r){let n="",i=!0;for(let s=0;s<gG;s++){const a=Bf[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=r6(o,dS[a]);if(!l){i=!1;const c=pG[a]||a;n+=`${c}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function mS(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(Ou.has(l)){a=!0;continue}else if(t6(l)){i[l]=u;continue}else{const c=r6(u,dS[l]);l.startsWith("origin")?(o=!0,s[l]=c):n[l]=c}}if(e.transform||(a||r?n.transform=vG(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;n.transformOrigin=`${l} ${u} ${c}`}}const yG={offset:"stroke-dashoffset",array:"stroke-dasharray"},xG={offset:"strokeDashoffset",array:"strokeDasharray"};function bG(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?yG:xG;t[s.offset]=rt.transform(-n);const a=rt.transform(e),o=rt.transform(r);t[s.array]=`${a} ${o}`}function aD(t,e,r){return typeof t=="string"?t:rt.transform(e+r*t)}function wG(t,e,r){const n=aD(e,t.x,t.width),i=aD(r,t.y,t.height);return`${n} ${i}`}function pS(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...u},c,f){if(mS(t,u,f),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:d,dimensions:m}=t;h.transform&&(m&&(d.transform=h.transform),delete h.transform),m&&(i!==void 0||s!==void 0||d.transform)&&(d.transformOrigin=wG(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),a!==void 0&&bG(h,a,o,l,!1)}const gS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),n6=()=>({...gS(),attrs:{}}),vS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function i6(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const s6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function a6(t,e,r,n){i6(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(s6.has(i)?i:lS(i),e.attrs[i])}const e0={};function _G(t){Object.assign(e0,t)}function o6(t,{layout:e,layoutId:r}){return Ou.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!e0[t]||t==="opacity")}function yS(t,e,r){var n;const{style:i}=t,s={};for(const a in i)(Mn(i[a])||e.style&&Mn(e.style[a])||o6(a,t)||((n=r==null?void 0:r.getValue(a))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function l6(t,e,r){const n=yS(t,e,r);for(const i in t)if(Mn(t[i])||Mn(e[i])){const s=Bf.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function EG(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const oD=["x","y","width","height","cx","cy","r"],SG={useVisualState:Z5({scrapeMotionValuesFromProps:l6,createRenderState:n6,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!t.drag;if(!s){for(const o in i)if(Ou.has(o)){s=!0;break}}if(!s)return;let a=!e;if(e)for(let o=0;o<oD.length;o++){const l=oD[o];t[l]!==e[l]&&(a=!0)}a&&ar.read(()=>{EG(r,n),ar.render(()=>{pS(n,i,vS(r.tagName),t.transformTemplate),a6(r,n)})})}})},AG={useVisualState:Z5({scrapeMotionValuesFromProps:yS,createRenderState:gS})};function u6(t,e,r){for(const n in e)!Mn(e[n])&&!o6(n,r)&&(t[n]=e[n])}function NG({transformTemplate:t},e){return ne.useMemo(()=>{const r=gS();return mS(r,e,t),Object.assign({},r.vars,r.style)},[e])}function TG(t,e){const r=t.style||{},n={};return u6(n,r,t),Object.assign(n,NG(t,e)),n}function DG(t,e){const r={},n=TG(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function CG(t,e,r,n){const i=ne.useMemo(()=>{const s=n6();return pS(s,e,vS(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};u6(s,t.style,t),i.style={...s,...i.style}}return i}function MG(t=!1){return(r,n,i,{latestValues:s},a)=>{const l=(cS(r)?CG:DG)(n,s,a,r),u=HW(n,typeof r=="string",t),c=r!==ne.Fragment?{...u,...l,ref:i}:{},{children:f}=n,h=ne.useMemo(()=>Mn(f)?f.get():f,[f]);return ne.createElement(r,{...c,children:h})}}function IG(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...cS(n)?SG:AG,preloadedFeatures:t,useRender:MG(i),createVisualElement:e,Component:n};return eG(a)}}function c6(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function qy(t,e,r){const n=t.getProps();return fS(n,e,r!==void 0?r:n.custom,t)}const PG=sS(()=>window.ScrollTimeline!==void 0);class kG{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(PG()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class RG extends kG{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function xS(t,e){return t?t[e]||t.default||t:void 0}const Vw=2e4;function f6(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<Vw;)e+=r,n=t.next(e);return e>=Vw?1/0:e}function bS(t){return typeof t=="function"}function lD(t,e){t.timeline=e,t.onfinish=null}const wS=t=>Array.isArray(t)&&typeof t[0]=="number",OG={linearEasing:void 0};function FG(t,e){const r=sS(t);return()=>{var n;return(n=OG[e])!==null&&n!==void 0?n:r()}}const t0=FG(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),h6=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(ff(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function d6(t){return!!(typeof t=="function"&&t0()||!t||typeof t=="string"&&(t in $w||t0())||wS(t)||Array.isArray(t)&&t.every(d6))}const Fh=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,$w={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fh([0,.65,.55,1]),circOut:Fh([.55,0,1,.45]),backIn:Fh([.31,.01,.66,-.59]),backOut:Fh([.33,1.53,.69,.99])};function m6(t,e){if(t)return typeof t=="function"&&t0()?h6(t,e):wS(t)?Fh(t):Array.isArray(t)?t.map(r=>m6(r,e)||$w.easeOut):$w[t]}const as={x:!1,y:!1};function p6(){return as.x||as.y}function BG(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function g6(t,e){const r=BG(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function uD(t){return e=>{e.pointerType==="touch"||p6()||t(e)}}function LG(t,e,r={}){const[n,i,s]=g6(t,r),a=uD(o=>{const{target:l}=o,u=e(o);if(typeof u!="function"||!l)return;const c=uD(f=>{u(f),l.removeEventListener("pointerleave",c)});l.addEventListener("pointerleave",c,i)});return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const v6=(t,e)=>e?t===e?!0:v6(t,e.parentElement):!1,_S=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,VG=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $G(t){return VG.has(t.tagName)||t.tabIndex!==-1}const Bh=new WeakSet;function cD(t){return e=>{e.key==="Enter"&&t(e)}}function Lx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zG=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=cD(()=>{if(Bh.has(r))return;Lx(r,"down");const i=cD(()=>{Lx(r,"up")}),s=()=>Lx(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function fD(t){return _S(t)&&!p6()}function jG(t,e,r={}){const[n,i,s]=g6(t,r),a=o=>{const l=o.currentTarget;if(!fD(o)||Bh.has(l))return;Bh.add(l);const u=e(o),c=(d,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!fD(d)||!Bh.has(l))&&(Bh.delete(l),typeof u=="function"&&u(d,{success:m}))},f=d=>{c(d,r.useGlobalTarget||v6(l,d.target))},h=d=>{c(d,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(o=>{!$G(o)&&o.getAttribute("tabindex")===null&&(o.tabIndex=0),(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),o.addEventListener("focus",u=>zG(u,i),i)}),s}function UG(t){return t==="x"||t==="y"?as[t]?null:(as[t]=!0,()=>{as[t]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}const y6=new Set(["width","height","top","left","right","bottom",...Bf]);let ev;function qG(){ev=void 0}const qs={now:()=>(ev===void 0&&qs.set(nn.isProcessing||VW.useManualTiming?nn.timestamp:performance.now()),ev),set:t=>{ev=t,queueMicrotask(qG)}};function ES(t,e){t.indexOf(e)===-1&&t.push(e)}function SS(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class AS{constructor(){this.subscriptions=[]}add(e){return ES(this.subscriptions,e),()=>SS(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function x6(t,e){return e?t*(1e3/e):0}const hD=30,HG=t=>!isNaN(parseFloat(t));class WG{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=qs.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=qs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=HG(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new AS);const n=this.events[e].add(r);return e==="change"?()=>{n(),ar.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=qs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>hD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,hD);return x6(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xd(t,e){return new WG(t,e)}function GG(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Xd(r))}function KG(t,e){const r=qy(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=aG(s[a]);GG(t,a,o)}}function YG(t){return!!(Mn(t)&&t.add)}function zw(t,e){const r=t.getValue("willChange");if(YG(r))return r.add(e)}function b6(t){return t.props[Q5]}const w6=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,QG=1e-7,XG=12;function JG(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=w6(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>QG&&++o<XG);return a}function km(t,e,r,n){if(t===e&&r===n)return _i;const i=s=>JG(s,0,1,t,r);return s=>s===0||s===1?s:w6(i(s),e,n)}const _6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,E6=t=>e=>1-t(1-e),S6=km(.33,1.53,.69,.99),NS=E6(S6),A6=_6(NS),N6=t=>(t*=2)<1?.5*NS(t):.5*(2-Math.pow(2,-10*(t-1))),TS=t=>1-Math.sin(Math.acos(t)),T6=E6(TS),D6=_6(TS),C6=t=>/^0[^.\s]+$/u.test(t);function ZG(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||C6(t):!0}const ld=t=>Math.round(t*1e5)/1e5,DS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eK(t){return t==null}const tK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,CS=(t,e)=>r=>!!(typeof r=="string"&&tK.test(r)&&r.startsWith(t)||e&&!eK(r)&&Object.prototype.hasOwnProperty.call(r,e)),M6=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(DS);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},rK=t=>za(0,255,t),Vx={...Lf,transform:t=>Math.round(rK(t))},Zl={test:CS("rgb","red"),parse:M6("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Vx.transform(t)+", "+Vx.transform(e)+", "+Vx.transform(r)+", "+ld(Qd.transform(n))+")"};function nK(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const jw={test:CS("#"),parse:nK,transform:Zl.transform},Ic={test:CS("hsl","hue"),parse:M6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Us.transform(ld(e))+", "+Us.transform(ld(r))+", "+ld(Qd.transform(n))+")"},An={test:t=>Zl.test(t)||jw.test(t)||Ic.test(t),parse:t=>Zl.test(t)?Zl.parse(t):Ic.test(t)?Ic.parse(t):jw.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zl.transform(t):Ic.transform(t)},iK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sK(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(DS))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(iK))===null||r===void 0?void 0:r.length)||0)>0}const I6="number",P6="color",aK="var",oK="var(",dD="${}",lK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jd(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(lK,l=>(An.test(l)?(n.color.push(s),i.push(P6),r.push(An.parse(l))):l.startsWith(oK)?(n.var.push(s),i.push(aK),r.push(l)):(n.number.push(s),i.push(I6),r.push(parseFloat(l))),++s,dD)).split(dD);return{values:r,split:o,indexes:n,types:i}}function k6(t){return Jd(t).values}function R6(t){const{split:e,types:r}=Jd(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===I6?s+=ld(i[a]):o===P6?s+=An.transform(i[a]):s+=i[a]}return s}}const uK=t=>typeof t=="number"?0:t;function cK(t){const e=k6(t);return R6(t)(e.map(uK))}const Qo={test:sK,parse:k6,createTransformer:R6,getAnimatableNone:cK},fK=new Set(["brightness","contrast","saturate","opacity"]);function hK(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(DS)||[];if(!n)return t;const i=r.replace(n,"");let s=fK.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const dK=/\b([a-z-]*)\(.*?\)/gu,Uw={...Qo,getAnimatableNone:t=>{const e=t.match(dK);return e?e.map(hK).join(" "):t}},mK={...dS,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:Uw,WebkitFilter:Uw},MS=t=>mK[t];function O6(t,e){let r=MS(t);return r!==Uw&&(r=Qo),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const pK=new Set(["auto","none","0"]);function gK(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!pK.has(s)&&Jd(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=O6(r,i)}const mD=t=>t===Lf||t===rt,pD=(t,e)=>parseFloat(t.split(", ")[e]),gD=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return pD(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?pD(s[1],t):0}},vK=new Set(["x","y","z"]),yK=Bf.filter(t=>!vK.has(t));function xK(t){const e=[];return yK.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const df={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:gD(4,13),y:gD(5,14)};df.translateX=df.x;df.translateY=df.y;const cu=new Set;let qw=!1,Hw=!1;function F6(){if(Hw){const t=Array.from(cu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=xK(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))===null||o===void 0||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Hw=!1,qw=!1,cu.forEach(t=>t.complete()),cu.clear()}function B6(){cu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Hw=!0)})}function bK(){B6(),F6()}class IS{constructor(e,r,n,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(cu.add(this),qw||(qw=!0,ar.read(B6),ar.resolveKeyframes(F6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=e[e.length-1];if(a!==void 0)e[0]=a;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),i&&a===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),cu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,cu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const L6=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function _K(t){const e=wK.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function V6(t,e,r=1){const[n,i]=_K(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return L6(a)?parseFloat(a):a}return hS(i)?V6(i,e,r+1):i}const $6=t=>e=>e.test(t),EK={test:t=>t==="auto",parse:t=>t},z6=[Lf,rt,Us,lo,hG,fG,EK],vD=t=>z6.find($6(t));class j6 extends IS{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),hS(u))){const c=V6(u,r.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!y6.has(n)||e.length!==2)return;const[i,s]=e,a=vD(i),o=vD(s);if(a!==o)if(mD(a)&&mD(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)ZG(e[i])&&n.push(i);n.length&&gK(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=df[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=df[n](r.measureViewportBox(),window.getComputedStyle(r.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,u])=>{r.getValue(l).set(u)}),this.resolveNoneKeyframes()}}const yD=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qo.test(t)||t==="0")&&!t.startsWith("url("));function SK(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function AK(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=yD(i,e),o=yD(s,e);return!a||!o?!1:SK(t)||(r==="spring"||bS(r))&&n}const NK=t=>t!==null;function Hy(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(NK),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const TK=40;class U6{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=qs.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>TK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&bK(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=qs.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:a,onComplete:o,onUpdate:l,isGenerator:u}=this.options;if(!u&&!AK(e,n,i,s))if(a)this.options.duration=0;else{l&&l(Hy(e,this.options,r)),o&&o(),this.resolveFinishedPromise();return}const c=this.initPlayback(e,r);c!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...c},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const hr=(t,e,r)=>t+(e-t)*r;function $x(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function DK({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=$x(l,o,t+1/3),s=$x(l,o,t),a=$x(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function r0(t,e){return r=>r>0?e:t}const zx=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},CK=[jw,Zl,Ic],MK=t=>CK.find(e=>e.test(t));function xD(t){const e=MK(t);if(!e)return!1;let r=e.parse(t);return e===Ic&&(r=DK(r)),r}const bD=(t,e)=>{const r=xD(t),n=xD(e);if(!r||!n)return r0(t,e);const i={...r};return s=>(i.red=zx(r.red,n.red,s),i.green=zx(r.green,n.green,s),i.blue=zx(r.blue,n.blue,s),i.alpha=hr(r.alpha,n.alpha,s),Zl.transform(i))},IK=(t,e)=>r=>e(t(r)),Rm=(...t)=>t.reduce(IK),Ww=new Set(["none","hidden"]);function PK(t,e){return Ww.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function kK(t,e){return r=>hr(t,e,r)}function PS(t){return typeof t=="number"?kK:typeof t=="string"?hS(t)?r0:An.test(t)?bD:FK:Array.isArray(t)?q6:typeof t=="object"?An.test(t)?bD:RK:r0}function q6(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>PS(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function RK(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=PS(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function OK(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],o=t.indexes[a][i[a]],l=(r=t.values[o])!==null&&r!==void 0?r:0;n[s]=l,i[a]++}return n}const FK=(t,e)=>{const r=Qo.createTransformer(e),n=Jd(t),i=Jd(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ww.has(t)&&!i.values.length||Ww.has(e)&&!n.values.length?PK(t,e):Rm(q6(OK(n,i),i.values),r):r0(t,e)};function H6(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?hr(t,e,r):PS(t)(t,e)}const BK=5;function W6(t,e,r){const n=Math.max(e-BK,0);return x6(r-t(n),e-n)}const yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jx=.001;function LK({duration:t=yr.duration,bounce:e=yr.bounce,velocity:r=yr.velocity,mass:n=yr.mass}){let i,s,a=1-e;a=za(yr.minDamping,yr.maxDamping,a),t=za(yr.minDuration,yr.maxDuration,Pa(t)),a<1?(i=u=>{const c=u*a,f=c*t,h=c-r,d=Gw(u,a),m=Math.exp(-f);return jx-h/d*m},s=u=>{const f=u*a*t,h=f*r+r,d=Math.pow(a,2)*Math.pow(u,2)*t,m=Math.exp(-f),p=Gw(Math.pow(u,2),a);return(-i(u)+jx>0?-1:1)*((h-d)*m)/p}):(i=u=>{const c=Math.exp(-u*t),f=(u-r)*t+1;return-jx+c*f},s=u=>{const c=Math.exp(-u*t),f=(r-u)*(t*t);return c*f});const o=5/t,l=$K(i,s,o);if(t=Ia(t),isNaN(l))return{stiffness:yr.stiffness,damping:yr.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const VK=12;function $K(t,e,r){let n=r;for(let i=1;i<VK;i++)n=n-t(n)/e(n);return n}function Gw(t,e){return t*Math.sqrt(1-e*e)}const zK=["duration","bounce"],jK=["stiffness","damping","mass"];function wD(t,e){return e.some(r=>t[r]!==void 0)}function UK(t){let e={velocity:yr.velocity,stiffness:yr.stiffness,damping:yr.damping,mass:yr.mass,isResolvedFromDuration:!1,...t};if(!wD(t,jK)&&wD(t,zK))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*za(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yr.mass,stiffness:i,damping:s}}else{const r=LK(t);e={...e,...r,mass:yr.mass},e.isResolvedFromDuration=!0}return e}function G6(t=yr.visualDuration,e=yr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:h,isResolvedFromDuration:d}=UK({...r,velocity:-Pa(r.velocity||0)}),m=h||0,p=u/(2*Math.sqrt(l*c)),g=a-s,v=Pa(Math.sqrt(l/c)),b=Math.abs(g)<5;n||(n=b?yr.restSpeed.granular:yr.restSpeed.default),i||(i=b?yr.restDelta.granular:yr.restDelta.default);let y;if(p<1){const w=Gw(v,p);y=E=>{const S=Math.exp(-p*v*E);return a-S*((m+p*v*g)/w*Math.sin(w*E)+g*Math.cos(w*E))}}else if(p===1)y=w=>a-Math.exp(-v*w)*(g+(m+v*g)*w);else{const w=v*Math.sqrt(p*p-1);y=E=>{const S=Math.exp(-p*v*E),A=Math.min(w*E,300);return a-S*((m+p*v*g)*Math.sinh(A)+w*g*Math.cosh(A))/w}}const x={calculatedDuration:d&&f||null,next:w=>{const E=y(w);if(d)o.done=w>=f;else{let S=0;p<1&&(S=w===0?Ia(m):W6(y,w,E));const A=Math.abs(S)<=n,N=Math.abs(a-E)<=i;o.done=A&&N}return o.value=o.done?a:E,o},toString:()=>{const w=Math.min(f6(x),Vw),E=h6(S=>x.next(w*S).value,w,30);return w+"ms "+E}};return x}function _D({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=t[0],h={done:!1,value:f},d=A=>o!==void 0&&A<o||l!==void 0&&A>l,m=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let p=r*e;const g=f+p,v=a===void 0?g:a(g);v!==g&&(p=v-f);const b=A=>-p*Math.exp(-A/n),y=A=>v+b(A),x=A=>{const N=b(A),D=y(A);h.done=Math.abs(N)<=u,h.value=h.done?v:D};let w,E;const S=A=>{d(h.value)&&(w=A,E=G6({keyframes:[h.value,m(h.value)],velocity:W6(y,A,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return S(0),{calculatedDuration:null,next:A=>{let N=!1;return!E&&w===void 0&&(N=!0,x(A),S(A)),w!==void 0&&A>=w?E.next(A-w):(!N&&x(A),h)}}}const qK=km(.42,0,1,1),HK=km(0,0,.58,1),K6=km(.42,0,.58,1),WK=t=>Array.isArray(t)&&typeof t[0]!="number",GK={linear:_i,easeIn:qK,easeInOut:K6,easeOut:HK,circIn:TS,circInOut:D6,circOut:T6,backIn:NS,backInOut:A6,backOut:S6,anticipate:N6},ED=t=>{if(wS(t)){H5(t.length===4);const[e,r,n,i]=t;return km(e,r,n,i)}else if(typeof t=="string")return GK[t];return t};function KK(t,e,r){const n=[],i=r||H6,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||_i:e;o=Rm(l,o)}n.push(o)}return n}function YK(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(H5(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=KK(e,n,i),l=o.length,u=c=>{if(a&&c<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const h=ff(t[f],t[f+1],c);return o[f](h)};return r?c=>u(za(t[0],t[s-1],c)):u}function QK(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=ff(0,e,n);t.push(hr(r,1,i))}}function XK(t){const e=[0];return QK(e,t.length-1),e}function JK(t,e){return t.map(r=>r*e)}function ZK(t,e){return t.map(()=>e||K6).splice(0,t.length-1)}function n0({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=WK(n)?n.map(ED):ED(n),s={done:!1,value:e[0]},a=JK(r&&r.length===e.length?r:XK(e),t),o=YK(a,e,{ease:Array.isArray(i)?i:ZK(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const eY=t=>{const e=({timestamp:r})=>t(r);return{start:()=>ar.update(e,!0),stop:()=>Yo(e),now:()=>nn.isProcessing?nn.timestamp:qs.now()}},tY={decay:_D,inertia:_D,tween:n0,keyframes:n0,spring:G6},rY=t=>t/100;class kS extends U6{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||IS,o=(l,u)=>this.onKeyframesResolved(l,u);this.resolver=new a(s,o,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=bS(r)?r:tY[r]||n0;let l,u;o!==n0&&typeof e[0]!="number"&&(l=Rm(rY,H6(e[0],e[1])),e=[0,100]);const c=o({...this.options,keyframes:e});s==="mirror"&&(u=o({...this.options,keyframes:[...e].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=f6(c));const{calculatedDuration:f}=c,h=f+i,d=h*(n+1)-i;return{generator:c,mirroredGenerator:u,mapPercentToKeyframes:l,calculatedDuration:f,resolvedDuration:h,totalDuration:d}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:l,calculatedDuration:u,totalDuration:c,resolvedDuration:f}=n;if(this.startTime===null)return s.next(0);const{delay:h,repeat:d,repeatType:m,repeatDelay:p,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-c/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-h*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>c;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let y=this.currentTime,x=s;if(d){const A=Math.min(this.currentTime,c)/f;let N=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&N--,N=Math.min(N,d+1),!!(N%2)&&(m==="reverse"?(D=1-D,p&&(D-=p/f)):m==="mirror"&&(x=a)),y=za(0,1,D)*f}const w=b?{done:!1,value:l[0]}:x.next(y);o&&(w.value=o(w.value));let{done:E}=w;!b&&u!==null&&(E=this.speed>=0?this.currentTime>=c:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return S&&i!==void 0&&(w.value=Hy(l,this.options,i)),g&&g(w.value),S&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Pa(e.calculatedDuration):0}get time(){return Pa(this.currentTime)}set time(e){e=Ia(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Pa(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=eY,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nY=new Set(["opacity","clipPath","filter","transform"]);function iY(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:l}={}){const u={[e]:r};l&&(u.offset=l);const c=m6(o,i);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:n,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}const sY=sS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),i0=10,aY=2e4;function oY(t){return bS(t.type)||t.type==="spring"||!d6(t.ease)}function lY(t,e){const r=new kS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<aY;)n=r.sample(s),i.push(n.value),s+=i0;return{times:void 0,keyframes:i,duration:s-i0,ease:"linear"}}const Y6={anticipate:N6,backInOut:A6,circInOut:D6};function uY(t){return t in Y6}class SD extends U6{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new j6(s,(a,o)=>this.onKeyframesResolved(a,o),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:s,type:a,motionValue:o,name:l,startTime:u}=this.options;if(!o.owner||!o.owner.current)return!1;if(typeof s=="string"&&t0()&&uY(s)&&(s=Y6[s]),oY(this.options)){const{onComplete:f,onUpdate:h,motionValue:d,element:m,...p}=this.options,g=lY(e,p);e=g.keyframes,e.length===1&&(e[1]=e[0]),n=g.duration,i=g.times,s=g.ease,a="keyframes"}const c=iY(o.owner.current,l,e,{...this.options,duration:n,times:i,ease:s});return c.startTime=u??this.calcStartTime(),this.pendingTimeline?(lD(c,this.pendingTimeline),this.pendingTimeline=void 0):c.onfinish=()=>{const{onComplete:f}=this.options;o.set(Hy(e,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:c,duration:n,times:i,type:a,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Pa(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Pa(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Ia(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return _i;const{animation:n}=r;lD(n,e)}return _i}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:a,times:o}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:c,onComplete:f,element:h,...d}=this.options,m=new kS({...d,keyframes:n,duration:i,type:s,ease:a,times:o,isGenerator:!0}),p=Ia(this.time);u.setWithVelocity(m.sample(p-i0).value,m.sample(p).value,i0)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:a,type:o}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=r.owner.getProps();return sY()&&n&&nY.has(n)&&!l&&!u&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const cY={type:"spring",stiffness:500,damping:25,restSpeed:10},fY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hY={type:"keyframes",duration:.8},dY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mY=(t,{keyframes:e})=>e.length>2?hY:Ou.has(t)?t.startsWith("scale")?fY(e[1]):cY:dY;function pY({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const RS=(t,e,r,n={},i,s)=>a=>{const o=xS(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Ia(l);let c={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:h=>{e.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};pY(o)||(c={...c,...mY(t,c)}),c.duration&&(c.duration=Ia(c.duration)),c.repeatDelay&&(c.repeatDelay=Ia(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const h=Hy(c.keyframes,o);if(h!==void 0)return ar.update(()=>{c.onUpdate(h),c.onComplete()}),new RG([])}return!s&&SD.supports(c)?new SD(c):new kS(c)};function gY({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function Q6(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:a=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(a=n);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const f in l){const h=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),d=l[f];if(d===void 0||c&&gY(c,f))continue;const m={delay:r,...xS(a||{},f)};let p=!1;if(window.MotionHandoffAnimation){const v=b6(t);if(v){const b=window.MotionHandoffAnimation(v,f,ar);b!==null&&(m.startTime=b,p=!0)}}zw(t,f),h.start(RS(f,h,d,t.shouldReduceMotion&&y6.has(f)?{type:!1}:m,t,p));const g=h.animation;g&&u.push(g)}return o&&Promise.all(u).then(()=>{ar.update(()=>{o&&KG(t,o)})}),u}function Kw(t,e,r={}){var n;const i=qy(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const a=i?()=>Promise.all(Q6(t,i,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:h}=s;return vY(t,e,c+u,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,c]=l==="beforeChildren"?[a,o]:[o,a];return u().then(()=>c())}else return Promise.all([a(),o(r.delay)])}function vY(t,e,r=0,n=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*n,l=i===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(t.variantChildren).sort(yY).forEach((u,c)=>{u.notify("AnimationStart",e),a.push(Kw(u,e,{...s,delay:r+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function yY(t,e){return t.sortNodePosition(e)}function xY(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Kw(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Kw(t,e,r);else{const i=typeof e=="function"?qy(t,e,r.custom):e;n=Promise.all(Q6(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const bY=oS.length;function X6(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?X6(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<bY;r++){const n=oS[r],i=t.props[n];(Yd(i)||i===!1)&&(e[n]=i)}return e}const wY=[...aS].reverse(),_Y=aS.length;function EY(t){return e=>Promise.all(e.map(({animation:r,options:n})=>xY(t,r,n)))}function SY(t){let e=EY(t),r=AD(),n=!0;const i=l=>(u,c)=>{var f;const h=qy(t,c,l==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:d,transitionEnd:m,...p}=h;u={...u,...p,...m}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,c=X6(t.parent)||{},f=[],h=new Set;let d={},m=1/0;for(let g=0;g<_Y;g++){const v=wY[g],b=r[v],y=u[v]!==void 0?u[v]:c[v],x=Yd(y),w=v===l?b.isActive:null;w===!1&&(m=g);let E=y===c[v]&&y!==u[v]&&x;if(E&&n&&t.manuallyAnimateOnMount&&(E=!1),b.protectedKeys={...d},!b.isActive&&w===null||!y&&!b.prevProp||jy(y)||typeof y=="boolean")continue;const S=AY(b.prevProp,y);let A=S||v===l&&b.isActive&&!E&&x||g>m&&x,N=!1;const D=Array.isArray(y)?y:[y];let C=D.reduce(i(v),{});w===!1&&(C={});const{prevResolvedValues:M={}}=b,I={...M,...C},z=L=>{A=!0,h.has(L)&&(N=!0,h.delete(L)),b.needsAnimating[L]=!0;const B=t.getValue(L);B&&(B.liveStyle=!1)};for(const L in I){const B=C[L],$=M[L];if(d.hasOwnProperty(L))continue;let Y=!1;Lw(B)&&Lw($)?Y=!c6(B,$):Y=B!==$,Y?B!=null?z(L):h.add(L):B!==void 0&&h.has(L)?z(L):b.protectedKeys[L]=!0}b.prevProp=y,b.prevResolvedValues=C,b.isActive&&(d={...d,...C}),n&&t.blockInitialAnimation&&(A=!1),A&&(!(E&&S)||N)&&f.push(...D.map(L=>({animation:L,options:{type:v}})))}if(h.size){const g={};h.forEach(v=>{const b=t.getBaseTarget(v),y=t.getValue(v);y&&(y.liveStyle=!0),g[v]=b??null}),f.push({animation:g})}let p=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),n=!1,p?e(f):Promise.resolve()}function o(l,u){var c;if(r[l].isActive===u)return Promise.resolve();(c=t.variantChildren)===null||c===void 0||c.forEach(h=>{var d;return(d=h.animationState)===null||d===void 0?void 0:d.setActive(l,u)}),r[l].isActive=u;const f=a(l);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=AD(),n=!0}}}function AY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!c6(e,t):!1}function Ol(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AD(){return{animate:Ol(!0),whileInView:Ol(),whileHover:Ol(),whileTap:Ol(),whileDrag:Ol(),whileFocus:Ol(),exit:Ol()}}class ml{constructor(e){this.isMounted=!1,this.node=e}update(){}}class NY extends ml{constructor(e){super(e),e.animationState||(e.animationState=SY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let TY=0;class DY extends ml{constructor(){super(...arguments),this.id=TY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const CY={animation:{Feature:NY},exit:{Feature:DY}};function Zd(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Om(t){return{point:{x:t.pageX,y:t.pageY}}}const MY=t=>e=>_S(e)&&t(e,Om(e));function ud(t,e,r,n){return Zd(t,e,MY(r),n)}const ND=(t,e)=>Math.abs(t-e);function IY(t,e){const r=ND(t.x,e.x),n=ND(t.y,e.y);return Math.sqrt(r**2+n**2)}class J6{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=qx(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=IY(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:m}=f,{timestamp:p}=nn;this.history.push({...m,timestamp:p});const{onStart:g,onMove:v}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ux(h,this.transformPagePoint),ar.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=qx(f.type==="pointercancel"?this.lastMoveEventInfo:Ux(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,g),m&&m(f,g)},!_S(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const a=Om(e),o=Ux(a,this.transformPagePoint),{point:l}=o,{timestamp:u}=nn;this.history=[{...l,timestamp:u}];const{onSessionStart:c}=r;c&&c(e,qx(o,this.history)),this.removeListeners=Rm(ud(this.contextWindow,"pointermove",this.handlePointerMove),ud(this.contextWindow,"pointerup",this.handlePointerUp),ud(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Yo(this.updatePoint)}}function Ux(t,e){return e?{point:e(t.point)}:t}function TD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qx({point:t},e){return{point:t,delta:TD(t,Z6(e)),offset:TD(t,PY(e)),velocity:kY(e,.1)}}function PY(t){return t[0]}function Z6(t){return t[t.length-1]}function kY(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=Z6(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Ia(e)));)r--;if(!n)return{x:0,y:0};const s=Pa(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const eB=1e-4,RY=1-eB,OY=1+eB,tB=.01,FY=0-tB,BY=0+tB;function Ai(t){return t.max-t.min}function LY(t,e,r){return Math.abs(t-e)<=r}function DD(t,e,r,n=.5){t.origin=n,t.originPoint=hr(e.min,e.max,t.origin),t.scale=Ai(r)/Ai(e),t.translate=hr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=RY&&t.scale<=OY||isNaN(t.scale))&&(t.scale=1),(t.translate>=FY&&t.translate<=BY||isNaN(t.translate))&&(t.translate=0)}function cd(t,e,r,n){DD(t.x,e.x,r.x,n?n.originX:void 0),DD(t.y,e.y,r.y,n?n.originY:void 0)}function CD(t,e,r){t.min=r.min+e.min,t.max=t.min+Ai(e)}function VY(t,e,r){CD(t.x,e.x,r.x),CD(t.y,e.y,r.y)}function MD(t,e,r){t.min=e.min-r.min,t.max=t.min+Ai(e)}function fd(t,e,r){MD(t.x,e.x,r.x),MD(t.y,e.y,r.y)}function $Y(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?hr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?hr(r,t,n.max):Math.min(t,r)),t}function ID(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function zY(t,{top:e,left:r,bottom:n,right:i}){return{x:ID(t.x,r,i),y:ID(t.y,e,n)}}function PD(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function jY(t,e){return{x:PD(t.x,e.x),y:PD(t.y,e.y)}}function UY(t,e){let r=.5;const n=Ai(t),i=Ai(e);return i>n?r=ff(e.min,e.max-n,t.min):n>i&&(r=ff(t.min,t.max-i,e.min)),za(0,1,r)}function qY(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Yw=.35;function HY(t=Yw){return t===!1?t=0:t===!0&&(t=Yw),{x:kD(t,"left","right"),y:kD(t,"top","bottom")}}function kD(t,e,r){return{min:RD(t,e),max:RD(t,r)}}function RD(t,e){return typeof t=="number"?t:t[e]||0}const OD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pc=()=>({x:OD(),y:OD()}),FD=()=>({min:0,max:0}),Sr=()=>({x:FD(),y:FD()});function Ri(t){return[t("x"),t("y")]}function rB({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function WY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GY(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Hx(t){return t===void 0||t===1}function Qw({scale:t,scaleX:e,scaleY:r}){return!Hx(t)||!Hx(e)||!Hx(r)}function zl(t){return Qw(t)||nB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function nB(t){return BD(t.x)||BD(t.y)}function BD(t){return t&&t!=="0%"}function s0(t,e,r){const n=t-r,i=e*n;return r+i}function LD(t,e,r,n,i){return i!==void 0&&(t=s0(t,i,n)),s0(t,r,n)+e}function Xw(t,e=0,r=1,n,i){t.min=LD(t.min,e,r,n,i),t.max=LD(t.max,e,r,n,i)}function iB(t,{x:e,y:r}){Xw(t.x,e.translate,e.scale,e.originPoint),Xw(t.y,r.translate,r.scale,r.originPoint)}const VD=.999999999999,$D=1.0000000000001;function KY(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Rc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,iB(t,a)),n&&zl(s.latestValues)&&Rc(t,s.latestValues))}e.x<$D&&e.x>VD&&(e.x=1),e.y<$D&&e.y>VD&&(e.y=1)}function kc(t,e){t.min=t.min+e,t.max=t.max+e}function zD(t,e,r,n,i=.5){const s=hr(t.min,t.max,i);Xw(t,e,r,s,n)}function Rc(t,e){zD(t.x,e.x,e.scaleX,e.scale,e.originX),zD(t.y,e.y,e.scaleY,e.scale,e.originY)}function sB(t,e){return rB(GY(t.getBoundingClientRect(),e))}function YY(t,e,r){const n=sB(t,r),{scroll:i}=e;return i&&(kc(n.x,i.offset.x),kc(n.y,i.offset.y)),n}const aB=({current:t})=>t?t.ownerDocument.defaultView:null,QY=new WeakMap;class XY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sr(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Om(c).point)},s=(c,f)=>{const{drag:h,dragPropagation:d,onDragStart:m}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=UG(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ri(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Us.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const y=b.layout.layoutBox[g];y&&(v=Ai(y)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&ar.postRender(()=>m(c,f)),zw(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},a=(c,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:m,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(d&&this.currentDirection===null){this.currentDirection=JY(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),p&&p(c,f)},o=(c,f)=>this.stop(c,f),l=()=>Ri(c=>{var f;return this.getAnimationState(c)==="paused"&&((f=this.getAxisMotionValue(c).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new J6(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:aB(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ar.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!Yp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=$Y(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&Mc(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=zY(i.layoutBox,r):this.constraints=!1,this.elastic=HY(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ri(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=qY(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Mc(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=YY(n,i.root,this.visualElement.getTransformPagePoint());let a=jY(i.layout.layoutBox,s);if(r){const o=r(WY(a));this.hasMutatedConstraints=!!o,o&&(a=rB(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ri(c=>{if(!Yp(c,r,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,m={type:"inertia",velocity:n?e[c]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,m)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return zw(this.visualElement,e),n.start(RS(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ri(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ri(r=>{const{drag:n}=this.getProps();if(!Yp(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-hr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Mc(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ri(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=UY({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ri(a=>{if(!Yp(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(hr(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;QY.set(this.visualElement,this);const e=this.visualElement.current,r=ud(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Mc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ar.read(n);const a=Zd(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ri(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Yw,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Yp(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function JY(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class ZY extends ml{constructor(e){super(e),this.removeGroupControls=_i,this.removeListeners=_i,this.controls=new XY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_i}unmount(){this.removeGroupControls(),this.removeListeners()}}const jD=t=>(e,r)=>{t&&ar.postRender(()=>t(e,r))};class eQ extends ml{constructor(){super(...arguments),this.removePointerDownListener=_i}onPointerDown(e){this.session=new J6(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aB(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:jD(e),onStart:jD(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ar.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ud(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const tv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(rt.test(t))t=parseFloat(t);else return t;const r=UD(t,e.target.x),n=UD(t,e.target.y);return`${r}% ${n}%`}},tQ={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Qo.parse(t);if(i.length>5)return n;const s=Qo.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=hr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};class rQ extends ne.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;_G(nQ),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),tv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,a=n.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ar.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),uS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oB(t){const[e,r]=U5(),n=ne.useContext(tS);return T.jsx(rQ,{...t,layoutGroup:n,switchLayoutGroup:ne.useContext(X5),isPresent:e,safeToRemove:r})}const nQ={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:tQ};function iQ(t,e,r){const n=Mn(t)?t:Xd(t);return n.start(RS("",n,e,r)),n.animation}function sQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}const aQ=(t,e)=>t.depth-e.depth;class oQ{constructor(){this.children=[],this.isDirty=!1}add(e){ES(this.children,e),this.isDirty=!0}remove(e){SS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(aQ),this.isDirty=!1,this.children.forEach(e)}}function lQ(t,e){const r=qs.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Yo(n),t(s-e))};return ar.read(n,!0),()=>Yo(n)}const lB=["TopLeft","TopRight","BottomLeft","BottomRight"],uQ=lB.length,qD=t=>typeof t=="string"?parseFloat(t):t,HD=t=>typeof t=="number"||rt.test(t);function cQ(t,e,r,n,i,s){i?(t.opacity=hr(0,r.opacity!==void 0?r.opacity:1,fQ(n)),t.opacityExit=hr(e.opacity!==void 0?e.opacity:1,0,hQ(n))):s&&(t.opacity=hr(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<uQ;a++){const o=`border${lB[a]}Radius`;let l=WD(e,o),u=WD(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||HD(l)===HD(u)?(t[o]=Math.max(hr(qD(l),qD(u),n),0),(Us.test(u)||Us.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=hr(e.rotate||0,r.rotate||0,n))}function WD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const fQ=uB(0,.5,T6),hQ=uB(.5,.95,_i);function uB(t,e,r){return n=>n<t?0:n>e?1:r(ff(t,e,n))}function GD(t,e){t.min=e.min,t.max=e.max}function Mi(t,e){GD(t.x,e.x),GD(t.y,e.y)}function KD(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YD(t,e,r,n,i){return t-=e,t=s0(t,1/r,n),i!==void 0&&(t=s0(t,1/i,n)),t}function dQ(t,e=0,r=1,n=.5,i,s=t,a=t){if(Us.test(e)&&(e=parseFloat(e),e=hr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=hr(s.min,s.max,n);t===s&&(o-=e),t.min=YD(t.min,e,r,o,i),t.max=YD(t.max,e,r,o,i)}function QD(t,e,[r,n,i],s,a){dQ(t,e[r],e[n],e[i],e.scale,s,a)}const mQ=["x","scaleX","originX"],pQ=["y","scaleY","originY"];function XD(t,e,r,n){QD(t.x,e,mQ,r?r.x:void 0,n?n.x:void 0),QD(t.y,e,pQ,r?r.y:void 0,n?n.y:void 0)}function JD(t){return t.translate===0&&t.scale===1}function cB(t){return JD(t.x)&&JD(t.y)}function ZD(t,e){return t.min===e.min&&t.max===e.max}function gQ(t,e){return ZD(t.x,e.x)&&ZD(t.y,e.y)}function eC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function fB(t,e){return eC(t.x,e.x)&&eC(t.y,e.y)}function tC(t){return Ai(t.x)/Ai(t.y)}function rC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class vQ{constructor(){this.members=[]}add(e){ES(this.members,e),e.scheduleRender()}remove(e){if(SS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yQ(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:h,skewX:d,skewY:m}=r;u&&(n=`perspective(${u}px) ${n}`),c&&(n+=`rotate(${c}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const jl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Lh=typeof window<"u"&&window.MotionDebug!==void 0,Wx=["","X","Y","Z"],xQ={visibility:"hidden"},nC=1e3;let bQ=0;function Gx(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function hB(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=b6(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ar,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&hB(n)}function dB({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=bQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Lh&&(jl.totalNodes=jl.resolvedTargetDeltas=jl.recalculatedProjection=0),this.nodes.forEach(EQ),this.nodes.forEach(DQ),this.nodes.forEach(CQ),this.nodes.forEach(SQ),Lh&&window.MotionDebug.record(jl)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new oQ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new AS),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=sQ(a),this.instance=a;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),t){let f;const h=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=lQ(h,250),tv.hasAnimatedSinceResize&&(tv.hasAnimatedSinceResize=!1,this.nodes.forEach(sC))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:d,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||RQ,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),b=!this.targetLayout||!fB(this.targetLayout,m)||d,y=!h&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,y);const x={...xS(p,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||sC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Yo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hB(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(iC);return}this.isUpdating||this.nodes.forEach(NQ),this.isUpdating=!1,this.nodes.forEach(TQ),this.nodes.forEach(wQ),this.nodes.forEach(_Q),this.clearAllSnapshots();const o=qs.now();nn.delta=za(0,1e3/60,o-nn.timestamp),nn.timestamp=o,nn.isProcessing=!0,Bx.update.process(nn),Bx.preRender.process(nn),Bx.render.process(nn),nn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,uS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(AQ),this.sharedNodes.forEach(IQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ar.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ar.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!cB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&(o||zl(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),OQ(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return Sr();const l=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(FQ))){const{scroll:c}=this.root;c&&(kc(l.x,c.offset.x),kc(l.y,c.offset.y))}return l}removeElementScroll(a){var o;const l=Sr();if(Mi(l,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return l;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:h}=c;c!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Mi(l,a),kc(l.x,f.offset.x),kc(l.y,f.offset.y))}return l}applyTransform(a,o=!1){const l=Sr();Mi(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Rc(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),zl(c.latestValues)&&Rc(l,c.latestValues)}return zl(this.latestValues)&&Rc(l,this.latestValues),l}removeTransform(a){const o=Sr();Mi(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!zl(u.latestValues))continue;Qw(u.latestValues)&&u.updateSnapshot();const c=Sr(),f=u.measurePageBox();Mi(c,f),XD(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return zl(this.latestValues)&&XD(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=nn.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),fd(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Sr(),this.targetWithTransforms=Sr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VY(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Mi(this.target,this.layout.layoutBox),iB(this.target,this.targetDelta)):Mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sr(),this.relativeTargetOrigin=Sr(),fd(this.relativeTargetOrigin,this.target,d.target),Mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Lh&&jl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Qw(this.parent.latestValues)||nB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===nn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;Mi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;KY(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Sr());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(KD(this.prevProjectionDelta.x,this.projectionDelta.x),KD(this.prevProjectionDelta.y,this.projectionDelta.y)),cd(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==d||!rC(this.projectionDelta.x,this.prevProjectionDelta.x)||!rC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Lh&&jl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pc(),this.projectionDelta=Pc(),this.projectionDeltaWithTransform=Pc()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=Pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Sr(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=d!==m,g=this.getStack(),v=!g||g.members.length<=1,b=!!(p&&!v&&this.options.crossfade===!0&&!this.path.some(kQ));this.animationProgress=0;let y;this.mixTargetDelta=x=>{const w=x/1e3;aC(f.x,a.x,w),aC(f.y,a.y,w),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(fd(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PQ(this.relativeTarget,this.relativeTargetOrigin,h,w),y&&gQ(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Sr()),Mi(y,this.relativeTarget)),p&&(this.animationValues=c,cQ(c,u,this.latestValues,w,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Yo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ar.update(()=>{tv.hasAnimatedSinceResize=!0,this.currentAnimation=iQ(0,nC,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&mB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Sr();const f=Ai(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const h=Ai(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+h}Mi(o,l),Rc(o,c),cd(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new vQ),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&Gx("z",a,u,this.animationValues);for(let c=0;c<Wx.length;c++)Gx(`rotate${Wx[c]}`,a,u,this.animationValues),Gx(`skew${Wx[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return xQ;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Zg(a==null?void 0:a.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const p={};return this.options.layoutId&&(p.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,p.pointerEvents=Zg(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!zl(this.latestValues)&&(p.transform=c?c({},""):"none",this.hasProjected=!1),p}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=yQ(this.projectionDeltaWithTransform,this.treeScale,h),c&&(u.transform=c(h,u.transform));const{x:d,y:m}=this.projectionDelta;u.transformOrigin=`${d.origin*100}% ${m.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const p in e0){if(h[p]===void 0)continue;const{correct:g,applyTo:v}=e0[p],b=u.transform==="none"?h[p]:g(h[p],f);if(v){const y=v.length;for(let x=0;x<y;x++)u[v[x]]=b}else u[p]=b}return this.options.layoutId&&(u.pointerEvents=f===this?Zg(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(iC),this.root.sharedNodes.clear()}}}function wQ(t){t.updateLayout()}function _Q(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=r.source!==t.layout.source;s==="size"?Ri(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],d=Ai(h);h.min=n[f].min,h.max=h.min+d}):mB(s,r.layoutBox,n)&&Ri(f=>{const h=a?r.measuredBox[f]:r.layoutBox[f],d=Ai(n[f]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+d)});const o=Pc();cd(o,n,r.layoutBox);const l=Pc();a?cd(l,t.applyTransform(i,!0),r.measuredBox):cd(l,n,r.layoutBox);const u=!cB(o);let c=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const m=Sr();fd(m,r.layoutBox,h.layoutBox);const p=Sr();fd(p,n,d.layoutBox),fB(m,p)||(c=!0),f.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function EQ(t){Lh&&jl.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function AQ(t){t.clearSnapshot()}function iC(t){t.clearMeasurements()}function NQ(t){t.isLayoutDirty=!1}function TQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function sC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DQ(t){t.resolveTargetDelta()}function CQ(t){t.calcProjection()}function MQ(t){t.resetSkewAndRotation()}function IQ(t){t.removeLeadSnapshot()}function aC(t,e,r){t.translate=hr(e.translate,0,r),t.scale=hr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function oC(t,e,r,n){t.min=hr(e.min,r.min,n),t.max=hr(e.max,r.max,n)}function PQ(t,e,r,n){oC(t.x,e.x,r.x,n),oC(t.y,e.y,r.y,n)}function kQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RQ={duration:.45,ease:[.4,0,.1,1]},lC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uC=lC("applewebkit/")&&!lC("chrome/")?Math.round:_i;function cC(t){t.min=uC(t.min),t.max=uC(t.max)}function OQ(t){cC(t.x),cC(t.y)}function mB(t,e,r){return t==="position"||t==="preserve-aspect"&&!LY(tC(e),tC(r),.2)}function FQ(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const BQ=dB({attachResizeListener:(t,e)=>Zd(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kx={current:void 0},pB=dB({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kx.current){const t=new BQ({});t.mount(window),t.setOptions({layoutScroll:!0}),Kx.current=t}return Kx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),LQ={pan:{Feature:eQ},drag:{Feature:ZY,ProjectionNode:pB,MeasureLayout:oB}};function fC(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ar.postRender(()=>s(e,Om(e)))}class VQ extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=LG(e,r=>(fC(this.node,r,"Start"),n=>fC(this.node,n,"End"))))}unmount(){}}class $Q extends ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rm(Zd(this.node.current,"focus",()=>this.onFocus()),Zd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hC(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ar.postRender(()=>s(e,Om(e)))}class zQ extends ml{mount(){const{current:e}=this.node;e&&(this.unmount=jG(e,r=>(hC(this.node,r,"Start"),(n,{success:i})=>hC(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jw=new WeakMap,Yx=new WeakMap,jQ=t=>{const e=Jw.get(t.target);e&&e(t)},UQ=t=>{t.forEach(jQ)};function qQ({root:t,...e}){const r=t||document;Yx.has(r)||Yx.set(r,{});const n=Yx.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(UQ,{root:t,...e})),n[i]}function HQ(t,e,r){const n=qQ(e);return Jw.set(t,r),n.observe(t),()=>{Jw.delete(t),n.unobserve(t)}}const WQ={some:0,all:1};class GQ extends ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:WQ[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),h=u?c:f;h&&h(l)};return HQ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(KQ(e,r))&&this.startObserver()}unmount(){}}function KQ({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const YQ={inView:{Feature:GQ},tap:{Feature:zQ},focus:{Feature:$Q},hover:{Feature:VQ}},QQ={layout:{ProjectionNode:pB,MeasureLayout:oB}},Zw={current:null},gB={current:!1};function XQ(){if(gB.current=!0,!!iS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Zw.current=t.matches;t.addListener(e),e()}else Zw.current=!1}const JQ=[...z6,An,Qo],ZQ=t=>JQ.find($6(t)),dC=new WeakMap;function eX(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Mn(i))t.addValue(n,i);else if(Mn(s))t.addValue(n,Xd(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Xd(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const mC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tX{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=IS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=qs.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,ar.render(this.render,!1,!0))};const{latestValues:l,renderState:u,onUpdate:c}=a;this.onUpdate=c,this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Uy(r),this.isVariantNode=Y5(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const d in h){const m=h[d];l[d]!==void 0&&Mn(m)&&m.set(l[d],!1)}}mount(e){this.current=e,dC.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),gB.current||XQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zw.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dC.delete(this.current),this.projection&&this.projection.unmount(),Yo(this.notifyUpdate),Yo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ou.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ar.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in hf){const r=hf[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<mC.length;n++){const i=mC[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=eX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Xd(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(L6(i)||C6(i))?i=parseFloat(i):!ZQ(i)&&Qo.test(r)&&(i=O6(e,r)),this.setBaseTarget(e,Mn(i)?i.get():i)),Mn(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const a=fS(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);a&&(i=a[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Mn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new AS),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class vB extends tX{constructor(){super(...arguments),this.KeyframeResolver=j6}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Mn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function rX(t){return window.getComputedStyle(t)}class nX extends vB{constructor(){super(...arguments),this.type="html",this.renderInstance=i6}readValueFromInstance(e,r){if(Ou.has(r)){const n=MS(r);return n&&n.default||0}else{const n=rX(e),i=(t6(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return sB(e,r)}build(e,r,n){mS(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return yS(e,r,n)}}class iX extends vB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Ou.has(r)){const n=MS(r);return n&&n.default||0}return r=s6.has(r)?r:lS(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return l6(e,r,n)}build(e,r,n){pS(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){a6(e,r,n,i)}mount(e){this.isSVGTag=vS(e.tagName),super.mount(e)}}const sX=(t,e)=>cS(t)?new iX(e):new nX(e,{allowProjection:t!==ne.Fragment}),aX=IG({...CY,...YQ,...LQ,...QQ},sX),Oe=WW(aX),oX={},pC=t=>{let e;const r=new Set,n=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const d=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(m=>m(e,d))}},i=()=>e,l={setState:n,getState:i,getInitialState:()=>u,subscribe:c=>(r.add(c),()=>r.delete(c)),destroy:()=>{(oX?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=e=t(n,i,l);return l},lX=t=>t?pC(t):pC;var yB={exports:{}},xB={},bB={exports:{}},wB={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=ne;function uX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var cX=typeof Object.is=="function"?Object.is:uX,fX=mf.useState,hX=mf.useEffect,dX=mf.useLayoutEffect,mX=mf.useDebugValue;function pX(t,e){var r=e(),n=fX({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return dX(function(){i.value=r,i.getSnapshot=e,Qx(i)&&s({inst:i})},[t,r,e]),hX(function(){return Qx(i)&&s({inst:i}),t(function(){Qx(i)&&s({inst:i})})},[t]),mX(r),r}function Qx(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!cX(t,r)}catch{return!0}}function gX(t,e){return e()}var vX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gX:pX;wB.useSyncExternalStore=mf.useSyncExternalStore!==void 0?mf.useSyncExternalStore:vX;bB.exports=wB;var yX=bB.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy=ne,xX=yX;function bX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wX=typeof Object.is=="function"?Object.is:bX,_X=xX.useSyncExternalStore,EX=Wy.useRef,SX=Wy.useEffect,AX=Wy.useMemo,NX=Wy.useDebugValue;xB.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=EX(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=AX(function(){function l(d){if(!u){if(u=!0,c=d,d=n(d),i!==void 0&&a.hasValue){var m=a.value;if(i(m,d))return f=m}return f=d}if(m=f,wX(c,d))return m;var p=n(d);return i!==void 0&&i(m,p)?(c=d,m):(c=d,f=p)}var u=!1,c,f,h=r===void 0?null:r;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,r,n,i]);var o=_X(t,s[0],s[1]);return SX(function(){a.hasValue=!0,a.value=o},[o]),NX(o),o};yB.exports=xB;var TX=yB.exports;const DX=Sm(TX),_B={},{useDebugValue:CX}=py,{useSyncExternalStoreWithSelector:MX}=DX;let gC=!1;const IX=t=>t;function PX(t,e=IX,r){(_B?"production":void 0)!=="production"&&r&&!gC&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gC=!0);const n=MX(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return CX(n),n}const kX=t=>{(_B?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?lX(t):t,r=(n,i)=>PX(e,n,i);return Object.assign(r,e),r},Gy=t=>kX,RX={};function OX(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var s;const a=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(i))!=null?s:null;return o instanceof Promise?o.then(a):a(o)},setItem:(i,s)=>r.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>r.removeItem(i)}}const em=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return em(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return em(n)(r)}}}},FX=(t,e)=>(r,n,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...e},a=!1;const o=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return t((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...g)},n,i);const c=em(s.serialize),f=()=>{const g=s.partialize({...n()});let v;const b=c({state:g,version:s.version}).then(y=>u.setItem(s.name,y)).catch(y=>{v=y});if(v)throw v;return b},h=i.setState;i.setState=(g,v)=>{h(g,v),f()};const d=t((...g)=>{r(...g),f()},n,i);let m;const p=()=>{var g;if(!u)return;a=!1,o.forEach(b=>b(n()));const v=((g=s.onRehydrateStorage)==null?void 0:g.call(s,n()))||void 0;return em(u.getItem.bind(u))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var y;return m=s.merge(b,(y=n())!=null?y:d),r(m,!0),f()}).then(()=>{v==null||v(m,void 0),a=!0,l.forEach(b=>b(m))}).catch(b=>{v==null||v(void 0,b)})};return i.persist={setOptions:g=>{s={...s,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>p(),hasHydrated:()=>a,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},p(),m||d},BX=(t,e)=>(r,n,i)=>{let s={storage:OX(()=>localStorage),partialize:p=>p,version:0,merge:(p,g)=>({...g,...p}),...e},a=!1;const o=new Set,l=new Set;let u=s.storage;if(!u)return t((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...p)},n,i);const c=()=>{const p=s.partialize({...n()});return u.setItem(s.name,{state:p,version:s.version})},f=i.setState;i.setState=(p,g)=>{f(p,g),c()};const h=t((...p)=>{r(...p),c()},n,i);i.getInitialState=()=>h;let d;const m=()=>{var p,g;if(!u)return;a=!1,o.forEach(b=>{var y;return b((y=n())!=null?y:h)});const v=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(p=n())!=null?p:h))||void 0;return em(u.getItem.bind(u))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return[!0,s.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[x,w]=b;if(d=s.merge(w,(y=n())!=null?y:h),r(d,!0),x)return c()}).then(()=>{v==null||v(d,void 0),d=n(),a=!0,l.forEach(b=>b(d))}).catch(b=>{v==null||v(void 0,b)})};return i.persist={setOptions:p=>{s={...s,...p},p.storage&&(u=p.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:p=>(o.add(p),()=>{o.delete(p)}),onFinishHydration:p=>(l.add(p),()=>{l.delete(p)})},s.skipHydration||m(),d||h},LX=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((RX?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),FX(t,e)):BX(t,e),Ky=LX,OS=Gy()(Ky((t,e)=>({time:25*60,isActive:!1,isBreak:!1,sessions:0,totalStudyTime:0,studyStreak:0,lastStudyDate:null,setTime:r=>t({time:r}),setIsActive:r=>t({isActive:r}),setIsBreak:r=>t({isBreak:r}),incrementSessions:()=>{const r=e(),n=new Date().toDateString();let i=r.studyStreak;if(r.lastStudyDate!==n){const s=new Date;s.setDate(s.getDate()-1),r.lastStudyDate===s.toDateString()?i+=1:i=1}t({sessions:r.sessions+1,studyStreak:i,lastStudyDate:n})},addStudyTime:r=>{t(n=>({totalStudyTime:n.totalStudyTime+r}))},resetTimer:()=>{t({time:25*60,isActive:!1,isBreak:!1})},initializeTimer:()=>{const r=new Date().toDateString(),n=e();if(n.lastStudyDate&&n.lastStudyDate!==r){const i=new Date;i.setDate(i.getDate()-1),n.lastStudyDate!==i.toDateString()&&t({studyStreak:0})}}}),{name:"timer-storage"}));function VX(){const{time:t,isActive:e,isBreak:r,sessions:n,setTime:i,setIsActive:s,setIsBreak:a,incrementSessions:o,addStudyTime:l,resetTimer:u}=OS();ne.useEffect(()=>{let p;return e&&t>0?p=setInterval(()=>{i(t-1)},1e3):t===0&&(s(!1),r?(a(!1),i(25*60)):(o(),l(25),a(!0),i(5*60))),()=>{p&&clearInterval(p)}},[e,t,r,i,s,a,o,l]);const c=()=>{s(!e)},f=p=>{e||i(Math.max(60,t+p*60))},h=Math.floor(t/60),d=t%60,m=r?(5*60-t)/(5*60)*100:(25*60-t)/(25*60)*100;return T.jsxs("div",{className:"text-center",children:[T.jsxs(Oe.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center mb-4",children:[T.jsx(Qv,{className:"text-white/80 mr-2",size:20}),T.jsxs("span",{className:"text-white/80 text-sm",children:["Sessions: ",n]})]}),T.jsx("div",{className:"relative mb-6",children:T.jsxs(Oe.div,{className:"w-32 h-32 mx-auto rounded-full border-4 border-white/20 flex items-center justify-center relative overflow-hidden",whileHover:{scale:1.05},children:[T.jsx(Oe.div,{className:`absolute inset-0 rounded-full border-4 ${r?"border-green-400":"border-blue-400"}`,style:{background:`conic-gradient(${r?"#4ade80":"#60a5fa"} ${m*3.6}deg, transparent 0deg)`},animate:{rotate:e?360:0},transition:{duration:2,repeat:e?1/0:0,ease:"linear"}}),T.jsxs("div",{className:"relative z-10 text-center",children:[T.jsx(ba,{mode:"wait",children:T.jsxs(Oe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.2,opacity:0},transition:{duration:.2},className:"text-2xl font-bold text-white tabular-nums",children:[String(h).padStart(2,"0"),":",String(d).padStart(2,"0")]},`${h}-${d}`)}),T.jsx("div",{className:"text-white/60 text-xs mt-1",children:r?"Break Time":"Focus Time"})]})]})}),T.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[T.jsx(Oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(-5),disabled:e,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:T.jsx(xW,{size:18})}),T.jsx(Oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:c,className:`p-4 rounded-full text-white shadow-lg transition-all ${r?"bg-green-500 hover:bg-green-600":"bg-blue-500 hover:bg-blue-600"}`,children:e?T.jsx(JE,{size:24}):T.jsx(Vy,{size:24})}),T.jsx(Oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>f(5),disabled:e,className:"p-2 rounded-full bg-white/20 hover:bg-white/30 text-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:T.jsx(V5,{size:18})})]}),T.jsxs(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"flex items-center justify-center mx-auto px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg text-sm transition-all",children:[T.jsx($5,{size:16,className:"mr-2"}),"Reset"]}),T.jsx(ba,{children:r&&T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-4 flex items-center justify-center text-green-300",children:[T.jsx(cW,{size:16,className:"mr-2"}),T.jsx("span",{className:"text-sm",children:"Take a break! You've earned it."})]})})]})}class $X{constructor(){je(this,"clientId","98c86a30b01a4b63b55ddc7230efa0e9");je(this,"clientSecret","487a056b23454d1f846b52cbba7b9147");je(this,"redirectUri","https://stupendous-paprenjak-1053a3.netlify.app/callback");je(this,"baseUrl","https://api.spotify.com/v1");je(this,"authUrl","https://accounts.spotify.com")}generateRandomString(e){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let i=0;i<e;i++)n+=r.charAt(Math.floor(Math.random()*r.length));return n}getAuthUrl(){const e=this.generateRandomString(16);localStorage.setItem("spotify_auth_state",e);const r=["user-read-private","user-read-email","playlist-read-private","playlist-read-collaborative","user-top-read","user-read-recently-played","streaming","user-read-playback-state","user-modify-playback-state"].join(" "),n=new URLSearchParams({response_type:"code",client_id:this.clientId,scope:r,redirect_uri:this.redirectUri,state:e,show_dialog:"true"});return`${this.authUrl}/authorize?${n.toString()}`}async exchangeCodeForToken(e,r){const n=localStorage.getItem("spotify_auth_state");if(r!==n)throw new Error("State mismatch error");try{const i="https://accounts.spotify.com/api/token",s=new URLSearchParams({grant_type:"authorization_code",code:e,redirect_uri:this.redirectUri,client_id:this.clientId,client_secret:this.clientSecret}),a=await fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:s.toString()});if(!a.ok){const l=await a.json().catch(()=>({}));throw console.error("Token exchange error:",l),a.status===400&&l.error==="invalid_client"?new Error("Invalid client configuration. Please check Spotify app settings."):a.status===400&&l.error==="invalid_grant"?new Error("Invalid authorization code. Please try logging in again."):a.status===400&&l.error==="redirect_uri_mismatch"?new Error("Redirect URI mismatch. Expected: https://stupendous-paprenjak-1053a3.netlify.app/callback"):new Error(`Authentication failed: ${l.error_description||a.status}`)}const o=await a.json();return this.storeTokens(o),o}catch(i){throw console.error("Spotify authentication error:",i),i}}storeTokens(e){const r=Date.now()+e.expires_in*1e3;localStorage.setItem("spotify_access_token",e.access_token),localStorage.setItem("spotify_refresh_token",e.refresh_token),localStorage.setItem("spotify_token_expires_at",r.toString())}getAccessToken(){const e=localStorage.getItem("spotify_access_token"),r=localStorage.getItem("spotify_token_expires_at");return!e||!r?null:Date.now()>parseInt(r)?(this.refreshAccessToken(),localStorage.getItem("spotify_access_token")):e}async refreshAccessToken(){const e=localStorage.getItem("spotify_refresh_token");if(!e)throw new Error("No refresh token available");const r=window.location.hostname==="localhost"?"/api/spotify/refresh":"https://spotify-token-exchange.vercel.app/api/refresh",n=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:e,client_id:this.clientId})});if(!n.ok)throw new Error("Failed to refresh token");const i=await n.json();this.storeTokens({...i,refresh_token:e})}async apiRequest(e,r={}){const n=this.getAccessToken();if(!n)throw new Error("No access token available");const i=await fetch(`${this.baseUrl}${e}`,{...r,headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json",...r.headers}});if(i.status===401)return await this.refreshAccessToken(),this.apiRequest(e,r);if(!i.ok)throw new Error(`Spotify API error: ${i.status}`);return i.json()}isAuthenticated(){return!!this.getAccessToken()}logout(){localStorage.removeItem("spotify_access_token"),localStorage.removeItem("spotify_refresh_token"),localStorage.removeItem("spotify_token_expires_at"),localStorage.removeItem("spotify_auth_state")}async getCurrentUser(){return this.apiRequest("/me")}async getUserPlaylists(e=20,r=0){return this.apiRequest(`/me/playlists?limit=${e}&offset=${r}`)}async getTopTracks(e="medium_term",r=20){return this.apiRequest(`/me/top/tracks?time_range=${e}&limit=${r}`)}async getTopArtists(e="medium_term",r=20){return this.apiRequest(`/me/top/artists?time_range=${e}&limit=${r}`)}async search(e,r=["track"],n=20){var o,l,u,c,f,h;const i=e.trim();if(!i)throw new Error("Search query cannot be empty");console.log("Spotify Search:",{originalQuery:e,trimmedQuery:i,type:r,limit:n});const s=r.join(","),a=encodeURIComponent(i);try{const d=await this.apiRequest(`/search?q=${a}&type=${s}&limit=${n}`);return console.log("Search Results:",{query:i,tracksFound:((l=(o=d.tracks)==null?void 0:o.items)==null?void 0:l.length)||0,artistsFound:((c=(u=d.artists)==null?void 0:u.items)==null?void 0:c.length)||0,playlistsFound:((h=(f=d.playlists)==null?void 0:f.items)==null?void 0:h.length)||0}),d}catch(d){throw console.error("Search API Error:",d),d}}async searchWithFallbacks(e,r=["track"],n=20){var s,a,o,l,u,c,f,h,d,m,p,g,v,b,y,x,w,E;const i=e.trim();if(!i)return{results:{tracks:{items:[]},artists:{items:[]},playlists:{items:[]}},fallbackUsed:!1,message:"Please enter a search term"};try{let S=await this.search(i,r,n);if(((a=(s=S.tracks)==null?void 0:s.items)==null?void 0:a.length)>0||((l=(o=S.artists)==null?void 0:o.items)==null?void 0:l.length)>0||((c=(u=S.playlists)==null?void 0:u.items)==null?void 0:c.length)>0)return{results:S,fallbackUsed:!1};console.log("No exact results, trying partial match...");const N=`${i}*`;if(S=await this.search(N,r,n),((h=(f=S.tracks)==null?void 0:f.items)==null?void 0:h.length)>0||((m=(d=S.artists)==null?void 0:d.items)==null?void 0:m.length)>0||((g=(p=S.playlists)==null?void 0:p.items)==null?void 0:g.length)>0)return{results:S,fallbackUsed:!0,fallbackType:"partial",message:"Showing partial matches for your search"};const C=i.split(" ").filter(I=>I.length>2);if(C.length>1){console.log("Trying individual words:",C);const I=C.join(" OR ");if(S=await this.search(I,r,n),((b=(v=S.tracks)==null?void 0:v.items)==null?void 0:b.length)>0||((x=(y=S.artists)==null?void 0:y.items)==null?void 0:x.length)>0||((E=(w=S.playlists)==null?void 0:w.items)==null?void 0:E.length)>0)return{results:S,fallbackUsed:!0,fallbackType:"words",message:"Showing results matching some of your search terms"}}return console.log("No results found, using Indian music fallback..."),{results:await this.getIndianMusicFallback(r,n),fallbackUsed:!0,fallbackType:"indian",message:"No exact matches found. Here are some popular Indian tracks you might enjoy"}}catch(S){console.error("Search with fallbacks failed:",S);try{return{results:await this.getIndianMusicFallback(r,Math.min(n,10)),fallbackUsed:!0,fallbackType:"emergency",message:"Search temporarily unavailable. Here are some popular tracks"}}catch(A){throw console.error("Emergency fallback failed:",A),new Error("Search service temporarily unavailable")}}}async getIndianMusicFallback(e=["track"],r=20){var i,s;const n=["bollywood hits","indian classical","hindi songs","ar rahman","lata mangeshkar","kishore kumar","arijit singh","shreya ghoshal"];for(const a of n)try{const o=await this.search(a,e,Math.ceil(r/2));if(((s=(i=o.tracks)==null?void 0:i.items)==null?void 0:s.length)>0)return o}catch(o){console.warn(`Fallback query "${a}" failed:`,o);continue}return await this.search("popular music",e,r)}async getRecommendations(e){const r=new URLSearchParams;return e.seed_tracks&&r.append("seed_tracks",e.seed_tracks.join(",")),e.seed_artists&&r.append("seed_artists",e.seed_artists.join(",")),e.seed_genres&&r.append("seed_genres",e.seed_genres.join(",")),e.limit&&r.append("limit",e.limit.toString()),e.target_energy&&r.append("target_energy",e.target_energy.toString()),e.target_valence&&r.append("target_valence",e.target_valence.toString()),e.target_danceability&&r.append("target_danceability",e.target_danceability.toString()),this.apiRequest(`/recommendations?${r.toString()}`)}async getPlaylistTracks(e,r=50,n=0){return this.apiRequest(`/playlists/${e}/tracks?limit=${r}&offset=${n}`)}async getRecentlyPlayed(e=20){return this.apiRequest(`/me/player/recently-played?limit=${e}`)}async getAvailableGenres(){return this.apiRequest("/recommendations/available-genre-seeds")}initializeWebPlayback(e,r){if(!window.Spotify){this.loadSpotifySDK().then(()=>{this.setupPlayer(e,r)});return}this.setupPlayer(e,r)}async loadSpotifySDK(){return new Promise(e=>{if(window.Spotify){e();return}const r=document.createElement("script");r.src="https://sdk.scdn.co/spotify-player.js",r.async=!0,window.onSpotifyWebPlaybackSDKReady=()=>{e()},document.head.appendChild(r)})}setupPlayer(e,r){if(!this.getAccessToken()){console.error("No access token for playback");return}const i=new window.Spotify.Player({name:"FocusFlow Player",getOAuthToken:s=>{const a=this.getAccessToken();a&&s(a)},volume:.5});i.addListener("ready",({device_id:s})=>{console.log("Ready with Device ID",s),e(s)}),i.addListener("not_ready",({device_id:s})=>{console.log("Device ID has gone offline",s)}),i.addListener("player_state_changed",s=>{s&&r(s)}),i.connect(),window.spotifyPlayer=i}async playTrack(e,r,n){const i={uris:r,device_ids:[e]};n!==void 0&&(i.position_ms=n),await this.apiRequest("/me/player/play",{method:"PUT",body:JSON.stringify(i)})}async pausePlayback(e){await this.apiRequest(`/me/player/pause?device_id=${e}`,{method:"PUT"})}async resumePlayback(e){await this.apiRequest(`/me/player/play?device_id=${e}`,{method:"PUT"})}async skipToNext(e){await this.apiRequest(`/me/player/next?device_id=${e}`,{method:"POST"})}async skipToPrevious(e){await this.apiRequest(`/me/player/previous?device_id=${e}`,{method:"POST"})}async setVolume(e,r){await this.apiRequest(`/me/player/volume?volume_percent=${Math.round(r*100)}&device_id=${e}`,{method:"PUT"})}}const wn=new $X,tm=Gy()(Ky((t,e)=>({isAuthenticated:!1,user:null,playlists:[],topTracks:[],topArtists:[],searchResults:{tracks:[],artists:[],playlists:[]},searchFallback:{used:!1},recommendations:[],currentTrack:null,isPlaying:!1,deviceId:null,volume:.5,position:0,duration:0,loading:{auth:!1,playlists:!1,topTracks:!1,topArtists:!1,search:!1,recommendations:!1},login:()=>{const r=wn.getAuthUrl();window.location.href=r},handleCallback:async(r,n)=>{t(i=>({loading:{...i.loading,auth:!0}}));try{await wn.exchangeCodeForToken(r,n),t({isAuthenticated:!0}),await e().fetchUserData(),await e().fetchRecommendations()}catch(i){console.error("Authentication error:",i),t({isAuthenticated:!1})}finally{t(i=>({loading:{...i.loading,auth:!1}}))}},logout:()=>{wn.logout(),t({isAuthenticated:!1,user:null,playlists:[],topTracks:[],topArtists:[],searchResults:{tracks:[],artists:[],playlists:[]},recommendations:[],currentTrack:null,isPlaying:!1,deviceId:null})},fetchUserData:async()=>{try{const r=await wn.getCurrentUser();t({user:r,isAuthenticated:!0})}catch(r){console.error("Failed to fetch user data:",r),r.message.includes("401")&&t({isAuthenticated:!1,user:null})}},fetchPlaylists:async()=>{t(r=>({loading:{...r.loading,playlists:!0}}));try{const r=await wn.getUserPlaylists(50);t({playlists:r.items})}catch(r){console.error("Failed to fetch playlists:",r)}finally{t(r=>({loading:{...r.loading,playlists:!1}}))}},fetchTopTracks:async(r="medium_term")=>{t(n=>({loading:{...n.loading,topTracks:!0}}));try{const n=await wn.getTopTracks(r,50);t({topTracks:n.items})}catch(n){console.error("Failed to fetch top tracks:",n)}finally{t(n=>({loading:{...n.loading,topTracks:!1}}))}},fetchTopArtists:async(r="medium_term")=>{t(n=>({loading:{...n.loading,topArtists:!0}}));try{const n=await wn.getTopArtists(r,50);t({topArtists:n.items})}catch(n){console.error("Failed to fetch top artists:",n)}finally{t(n=>({loading:{...n.loading,topArtists:!1}}))}},search:async(r,n=["track","artist","playlist"])=>{var i,s,a;if(!r.trim()){t({searchResults:{tracks:[],artists:[],playlists:[]}});return}t(o=>({loading:{...o.loading,search:!0}}));try{const o=await wn.searchWithFallbacks(r,n);t({searchResults:{tracks:((i=o.results.tracks)==null?void 0:i.items)||[],artists:((s=o.results.artists)==null?void 0:s.items)||[],playlists:((a=o.results.playlists)==null?void 0:a.items)||[]},searchFallback:{used:o.fallbackUsed,type:o.fallbackType,message:o.message}})}catch(o){console.error("Search failed:",o),t({searchResults:{tracks:[],artists:[],playlists:[]},searchFallback:{used:!0,type:"error",message:"Search temporarily unavailable. Please try again."}})}finally{t(o=>({loading:{...o.loading,search:!1}}))}},fetchRecommendations:async(r={})=>{t(n=>({loading:{...n.loading,recommendations:!0}}));try{const n={seed_genres:["ambient","chill","study"],limit:20,target_energy:.4,target_valence:.5,target_danceability:.2,target_instrumentalness:.8,...r},i=await wn.getRecommendations(n);t({recommendations:i.tracks})}catch(n){console.error("Failed to fetch recommendations:",n)}finally{t(n=>({loading:{...n.loading,recommendations:!1}}))}},initializePlayer:()=>{e().isAuthenticated&&setTimeout(()=>{wn.initializeWebPlayback(r=>{t({deviceId:r}),console.log("Spotify player ready with device ID:",r)},r=>{e().updatePlaybackState(r)})},1e3)},playTrack:async r=>{const{deviceId:n}=e();if(n)try{await wn.playTrack(n,[r.uri]),t({currentTrack:r,isPlaying:!0})}catch(i){console.error("Failed to play track:",i)}},pauseTrack:async()=>{const{deviceId:r}=e();if(r)try{await wn.pausePlayback(r),t({isPlaying:!1})}catch(n){console.error("Failed to pause track:",n)}},resumeTrack:async()=>{const{deviceId:r}=e();if(r)try{await wn.resumePlayback(r),t({isPlaying:!0})}catch(n){console.error("Failed to resume track:",n)}},skipNext:async()=>{const{deviceId:r}=e();if(r)try{await wn.skipToNext(r)}catch(n){console.error("Failed to skip to next:",n)}},skipPrevious:async()=>{const{deviceId:r}=e();if(r)try{await wn.skipToPrevious(r)}catch(n){console.error("Failed to skip to previous:",n)}},setVolume:async r=>{const{deviceId:n}=e();if(n)try{await wn.setVolume(n,r),t({volume:r})}catch(i){console.error("Failed to set volume:",i)}},updatePlaybackState:r=>{var i;if(!r)return;const n=(i=r.track_window)==null?void 0:i.current_track;t({currentTrack:n?{id:n.id,name:n.name,artists:n.artists,album:n.album,duration_ms:n.duration_ms,preview_url:null,external_urls:{spotify:`https://open.spotify.com/track/${n.id}`},uri:n.uri}:null,isPlaying:!r.paused,position:r.position,duration:r.duration})}}),{name:"spotify-storage",partialize:t=>({isAuthenticated:t.isAuthenticated,user:t.user,volume:t.volume})}));function zX(){var ie,O;const[t,e]=ne.useState(""),[r,n]=ne.useState("search"),[i,s]=ne.useState(!0),[a,o]=ne.useState("medium_term"),[l,u]=ne.useState(null),{isAuthenticated:c,user:f,playlists:h,topTracks:d,searchResults:m,recommendations:p,currentTrack:g,isPlaying:v,volume:b,loading:y,login:x,logout:w,fetchPlaylists:E,fetchTopTracks:S,fetchRecommendations:A,search:N,initializePlayer:D,playTrack:C,pauseTrack:M,resumeTrack:I,skipNext:z,skipPrevious:V,setVolume:k}=tm();ne.useEffect(()=>{c&&!f&&tm.getState().fetchUserData()},[c,f]),ne.useEffect(()=>{f&&u(f.id?!1:null)},[f]),ne.useEffect(()=>{c&&(D(),A())},[c]);const L=async q=>{q.preventDefault(),t.trim()&&(await N(t),n("search"))},B=async q=>{switch(n(q),q){case"playlists":h.length===0&&await E();break;case"top":d.length===0&&await S(a);break;case"recommendations":p.length===0&&await A();break}},$=async q=>{l?(g==null?void 0:g.id)===q.id?v?await M():await I():await C(q):Y(q.external_urls.spotify)},Y=q=>{const j=q.replace("https://open.spotify.com/","spotify:"),me=document.createElement("a");me.href=j,me.click(),setTimeout(()=>{window.open(q,"_blank")},1e3)};return c?T.jsxs("div",{className:"bg-gradient-to-br from-green-900 via-black to-green-800 rounded-2xl p-6 text-white",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(Bw,{className:"text-green-400 mr-3",size:24}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-semibold",children:"Spotify Player"}),f&&T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("img",{src:((O=(ie=f.images)==null?void 0:ie[0])==null?void 0:O.url)||"/default-avatar.png",alt:f.display_name,className:"w-6 h-6 rounded-full"}),T.jsx("p",{className:"text-white/70 text-sm",children:f.display_name})]})]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:()=>s(!i),className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:T.jsx(Wd,{size:18})}),T.jsx("button",{onClick:w,className:"p-2 rounded-full bg-red-500/20 hover:bg-red-500/30 transition-colors",children:T.jsx(Xv,{size:18})})]})]}),T.jsx("form",{onSubmit:L,className:"mb-6",children:T.jsxs("div",{className:"relative",children:[T.jsx(Gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:18}),T.jsx("input",{type:"text",value:t,onChange:q=>e(q.target.value),placeholder:"Search for songs, artists, or albums...",className:"w-full pl-10 pr-4 py-3 bg-white/20 rounded-xl text-white placeholder-white/60 border border-white/30 focus:border-green-400 focus:outline-none"})]})}),T.jsx("div",{className:"flex space-x-1 mb-6 bg-white/10 rounded-xl p-1",children:[{id:"search",label:"Search",icon:Gd},{id:"playlists",label:"Playlists",icon:hW},{id:"top",label:"Top Tracks",icon:Kd},{id:"recommendations",label:"For You",icon:cf}].map(({id:q,label:j,icon:me})=>T.jsxs("button",{onClick:()=>B(q),className:`flex-1 flex items-center justify-center py-2 px-3 rounded-lg text-sm font-medium transition-colors ${r===q?"bg-green-500 text-white":"text-white/70 hover:text-white hover:bg-white/10"}`,children:[T.jsx(me,{size:16,className:"mr-1"}),j]},q))}),T.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-2",children:[l===!1&&T.jsx(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-orange-500/20 border border-orange-400/50 rounded-xl p-3 mb-4",children:T.jsxs("div",{className:"flex items-center text-orange-300 text-sm",children:[T.jsx(Kl,{size:16,className:"mr-2 flex-shrink-0"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium",children:"🔒 In-browser playback requires Spotify Premium"}),T.jsx("p",{className:"text-xs text-orange-200 mt-1",children:"Click tracks to open in your Spotify app instead"})]})]})}),r==="search"&&T.jsx(ba,{children:y.search?T.jsx("div",{className:"flex items-center justify-center py-8",children:T.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"})}):m.tracks.length>0?m.tracks.map((q,j)=>T.jsx(Xx,{track:q,index:j,isCurrentTrack:(g==null?void 0:g.id)===q.id,isPlaying:v,userHasPremium:l,onPlay:()=>$(q),onOpenInApp:()=>Y(q.external_urls.spotify)},q.id)):t?T.jsxs("div",{className:"text-center py-8 text-white/60",children:['No results found for "',t,'"']}):T.jsx("div",{className:"text-center py-8 text-white/60",children:"Search for your favorite study music"})}),r==="playlists"&&T.jsx(ba,{children:y.playlists?T.jsx("div",{className:"flex items-center justify-center py-8",children:T.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"})}):h.map((q,j)=>T.jsx(PlaylistItem,{playlist:q,index:j},q.id))}),r==="top"&&T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"flex space-x-2 mb-4",children:[{id:"short_term",label:"4 Weeks"},{id:"medium_term",label:"6 Months"},{id:"long_term",label:"All Time"}].map(({id:q,label:j})=>T.jsx("button",{onClick:()=>{o(q),S(q)},className:`px-3 py-1 rounded-lg text-xs transition-colors ${a===q?"bg-green-500 text-white":"bg-white/20 text-white/70 hover:bg-white/30"}`,children:j},q))}),T.jsx(ba,{children:y.topTracks?T.jsx("div",{className:"flex items-center justify-center py-8",children:T.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"})}):d.map((q,j)=>T.jsx(Xx,{track:q,index:j,isCurrentTrack:(g==null?void 0:g.id)===q.id,isPlaying:v,userHasPremium:l,userHasPremium:l,onPlay:()=>$(q),onOpenInApp:()=>Y(q.external_urls.spotify),onOpenInApp:()=>Y(q.external_urls.spotify)},q.id))})]}),r==="recommendations"&&T.jsx(ba,{children:y.recommendations?T.jsx("div",{className:"flex items-center justify-center py-8",children:T.jsx("div",{className:"w-6 h-6 border-2 border-green-400 border-t-transparent rounded-full animate-spin"})}):p.map((q,j)=>T.jsx(Xx,{track:q,index:j,isCurrentTrack:(g==null?void 0:g.id)===q.id,isPlaying:v,onPlay:()=>$(q)},q.id))})]}),T.jsx(ba,{children:g&&i&&T.jsxs(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-6 pt-6 border-t border-white/20",children:[T.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[g.album.images[0]&&T.jsx("img",{src:g.album.images[0].url,alt:g.album.name,className:"w-16 h-16 rounded-lg object-cover shadow-lg"}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("h4",{className:"font-bold text-white text-lg truncate",children:g.name}),T.jsx("p",{className:"text-white/80 text-sm truncate mb-1",children:g.artists.map(q=>q.name).join(", ")}),T.jsx("p",{className:"text-white/60 text-xs truncate",children:g.album.name})]}),T.jsx("a",{href:g.external_urls.spotify,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-full bg-green-500/20 hover:bg-green-500/30 transition-colors",children:T.jsx(Yv,{size:18,className:"text-green-400"})})]}),T.jsxs("div",{className:"flex items-center justify-center space-x-6 mb-6",children:[T.jsx("button",{onClick:V,className:"p-3 rounded-full bg-white/20 hover:bg-white/30 transition-all hover:scale-110",children:T.jsx(AW,{size:22})}),T.jsx(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:v?M:I,className:"p-4 rounded-full bg-green-500 hover:bg-green-600 transition-colors shadow-lg",children:v?T.jsx(JE,{size:28}):T.jsx(Vy,{size:28})}),T.jsx("button",{onClick:z,className:"p-3 rounded-full bg-white/20 hover:bg-white/30 transition-all hover:scale-110",children:T.jsx(NW,{size:22})})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsx(PW,{size:18,className:"text-white/70"}),T.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:b,onChange:q=>k(parseFloat(q.target.value)),className:"flex-1 h-2 bg-white/20 rounded-lg appearance-none slider"}),T.jsxs("span",{className:"text-white/70 text-sm w-10 text-right",children:[Math.round(b*100),"%"]})]})]})})]}):T.jsx("div",{className:"bg-gradient-to-br from-green-900 via-black to-green-800 rounded-2xl p-6 text-white",children:T.jsxs("div",{className:"text-center",children:[T.jsxs("div",{className:"flex items-center justify-center mb-4",children:[T.jsx(Bw,{className:"text-green-400 mr-3",size:32}),T.jsx("h3",{className:"text-2xl font-bold",children:"Spotify Integration"})]}),T.jsxs("p",{className:"text-white/80 mb-6",children:["Connect your Spotify account to access your playlists, top tracks, and get personalized music recommendations for studying.",T.jsx("br",{}),T.jsx("br",{}),T.jsx("span",{className:"text-green-400 text-sm",children:"🎵 Premium users can enjoy in-browser playback!"})]}),T.jsxs(Oe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:x,className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-xl transition-colors flex items-center mx-auto",children:[T.jsx(Wd,{className:"mr-2",size:20}),"Connect Spotify"]})]})})}function Xx({track:t,index:e,isCurrentTrack:r,isPlaying:n,userHasPremium:i,onPlay:s,onOpenInApp:a}){return T.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.05},className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${r?"bg-green-500/20 border border-green-400/50 shadow-lg":"bg-white/10 hover:bg-white/20"}`,children:[T.jsxs("div",{className:"relative",children:[t.album.images[0]?T.jsx("img",{src:t.album.images[0].url,alt:t.album.name,className:"w-12 h-12 rounded-lg object-cover"}):T.jsx("div",{className:"w-12 h-12 rounded-lg bg-white/20 flex items-center justify-center",children:T.jsx(Wd,{size:16})}),r&&i&&T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/60 rounded-lg",children:n?T.jsx(JE,{size:18,className:"text-green-400"}):T.jsx(Vy,{size:18,className:"text-green-400"})})]}),T.jsxs("div",{className:"flex-1 min-w-0",onClick:s,children:[T.jsx("p",{className:"text-sm font-semibold text-white truncate",children:t.name}),T.jsx("p",{className:"text-xs text-white/70 truncate",children:t.artists.map(o=>o.name).join(", ")})]}),T.jsxs("div",{className:"text-right flex items-center space-x-2",children:[i===!1&&T.jsx(Oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:o=>{o.stopPropagation(),a()},className:"p-2 rounded-full bg-green-500/20 hover:bg-green-500/30 transition-colors",title:"Open in Spotify App",children:T.jsx(TW,{size:14,className:"text-green-400"})}),T.jsx("span",{className:"text-xs text-white/70 block",children:jX(t.duration_ms)}),r&&i&&T.jsx("span",{className:"text-xs text-green-400",children:"Now Playing"})]})]})}function jX(t){const e=Math.floor(t/6e4),r=Math.floor(t%6e4/1e3);return`${e}:${r.toString().padStart(2,"0")}`}const UX=()=>T.jsx(zX,{}),vC={engineering:[{text:"Innovation distinguishes between a leader and a follower.",author:"Steve Jobs"},{text:"Design is not just what it looks like and feels like. Design is how it works.",author:"Steve Jobs"},{text:"Technology is nothing. What's important is that you have a faith in people.",author:"Steve Jobs"},{text:"The desktop metaphor is a revolutionary step forward, but I think it's time we moved beyond it.",author:"Steve Jobs"},{text:"We're here to put a dent in the universe. Otherwise why else even be here?",author:"Steve Jobs"}],medical:[{text:"The good physician treats the disease; the great physician treats the patient who has the disease.",author:"William Osler"},{text:"Medicine is not only a science; it is also an art. It does not consist of compounding pills and plasters.",author:"Paracelsus"},{text:"Wherever the art of medicine is loved, there is also a love of humanity.",author:"Hippocrates"},{text:"The best doctor gives the least medicines.",author:"Benjamin Franklin"},{text:"To cure sometimes, to relieve often, to comfort always.",author:"Hippocrates"}],arts:[{text:"Creativity takes courage.",author:"Henri Matisse"},{text:"Art is not what you see, but what you make others see.",author:"Edgar Degas"},{text:"Every artist was first an amateur.",author:"Ralph Waldo Emerson"},{text:"The aim of art is to represent not the outward appearance of things, but their inward significance.",author:"Aristotle"},{text:"Art enables us to find ourselves and lose ourselves at the same time.",author:"Thomas Merton"}],science:[{text:"The important thing is not to stop questioning. Curiosity has its own reason for existing.",author:"Albert Einstein"},{text:"Science is organized knowledge. Wisdom is organized life.",author:"Immanuel Kant"},{text:"Research is what I'm doing when I don't know what I'm doing.",author:"Wernher von Braun"},{text:"In science there is only physics; all the rest is stamp collecting.",author:"Ernest Rutherford"},{text:"Science is not only compatible with spirituality; it is a profound source of spirituality.",author:"Carl Sagan"}],commerce:[{text:"Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work.",author:"Steve Jobs"},{text:"Innovation distinguishes between a leader and a follower.",author:"Steve Jobs"},{text:"The way to get started is to quit talking and begin doing.",author:"Walt Disney"},{text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill"},{text:"Quality is more important than quantity. One home run is much better than two doubles.",author:"Steve Jobs"}],general:[{text:"Stay hungry. Stay foolish.",author:"Steve Jobs"},{text:"The people in the Indian countryside don't use their intellect like we do, they use their intuition instead, and their intuition is far more developed than in the rest of the world.",author:"Steve Jobs"},{text:"Education is the most powerful weapon which you can use to change the world.",author:"Nelson Mandela"},{text:"The beautiful thing about learning is that no one can take it away from you.",author:"B.B. King"},{text:"Study hard what interests you the most in the most undisciplined, irreverent and original manner possible.",author:"Richard Feynman"}]};function qX({userType:t}){const[e,r]=ne.useState(0),n=vC[t]||vC.general;return ne.useEffect(()=>{const i=setInterval(()=>{r(s=>(s+1)%n.length)},1e4);return()=>clearInterval(i)},[n.length]),T.jsx(Oe.div,{className:"bg-gradient-to-r from-yellow-400 via-pink-500 to-purple-600 p-1 rounded-2xl",animate:{background:["linear-gradient(45deg, #fbbf24, #ec4899, #8b5cf6)","linear-gradient(45deg, #10b981, #3b82f6, #8b5cf6)","linear-gradient(45deg, #f59e0b, #ef4444, #ec4899)","linear-gradient(45deg, #fbbf24, #ec4899, #8b5cf6)"]},transition:{duration:8,repeat:1/0},children:T.jsxs("div",{className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 text-center",children:[T.jsxs("div",{className:"flex items-center justify-center mb-3",children:[T.jsx(od,{className:"text-yellow-300 mr-2",size:20}),T.jsx(wW,{className:"text-white",size:20}),T.jsx(od,{className:"text-yellow-300 ml-2",size:20})]}),T.jsx(ba,{mode:"wait",children:T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},children:[T.jsxs("p",{className:"text-white font-medium text-sm mb-2 leading-relaxed",children:['"',n[e].text,'"']}),T.jsxs("p",{className:"text-white/80 text-xs",children:["— ",n[e].author]})]},e)}),T.jsx("div",{className:"flex justify-center mt-3 space-x-1",children:n.map((i,s)=>T.jsx("div",{className:`w-2 h-2 rounded-full transition-all ${s===e?"bg-white":"bg-white/40"}`},s))})]})})}const HX=()=>{};var yC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},WX=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},SB={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|u>>6,d=u&63;l||(d=64,a||(h=64)),n.push(r[c],r[f],r[h],r[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WX(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new GX;const h=s<<2|o>>4;if(n.push(h),u!==64){const d=o<<4&240|u>>2;if(n.push(d),f!==64){const m=u<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GX extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KX=function(t){const e=EB(t);return SB.encodeByteArray(e,!0)},a0=function(t){return KX(t).replace(/\./g,"")},AB=function(t){try{return SB.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YX(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QX=()=>YX().__FIREBASE_DEFAULTS__,XX=()=>{if(typeof process>"u"||typeof yC>"u")return;const t=yC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JX=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&AB(t[1]);return e&&JSON.parse(e)},Yy=()=>{try{return HX()||QX()||XX()||JX()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NB=t=>{var e,r;return(r=(e=Yy())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},TB=t=>{const e=NB(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},DB=()=>{var t;return(t=Yy())==null?void 0:t.config},CB=t=>{var e;return(e=Yy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[a0(JSON.stringify(r)),a0(JSON.stringify(a)),""].join(".")}const hd={};function eJ(){const t={prod:[],emulator:[]};for(const e of Object.keys(hd))hd[e]?t.emulator.push(e):t.prod.push(e);return t}function tJ(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let xC=!1;function BS(t,e){if(typeof window>"u"||typeof document>"u"||!Fu(window.location.host)||hd[t]===e||hd[t]||xC)return;hd[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",s=eJ().prod.length>0;function a(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{xC=!0,a()},h}function c(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=tJ(n),d=r("text"),m=document.getElementById(d)||document.createElement("span"),p=r("learnmore"),g=document.getElementById(p)||document.createElement("a"),v=r("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const y=h.element;o(y),c(g,p);const x=u();l(b,v),y.append(b,m,g,x),document.body.appendChild(y)}s?(m.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rJ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function nJ(){var e;const t=(e=Yy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(globalThis.process)==="[object process]"}catch{return!1}}function iJ(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sJ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aJ(){const t=On();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function oJ(){return!nJ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PB(){try{return typeof indexedDB=="object"}catch{return!1}}function kB(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}function lJ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uJ="FirebaseError";class es extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=uJ,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cJ(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new es(i,o,n)}}function cJ(t,e){return t.replace(fJ,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const fJ=/\{\$([^}]+)}/g;function hJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(bC(s)&&bC(a)){if(!Xo(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function bC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Vh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function $h(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function dJ(t,e){const r=new mJ(t,e);return r.subscribe.bind(r)}class mJ{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");pJ(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Jx),i.error===void 0&&(i.error=Jx),i.complete===void 0&&(i.complete=Jx);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pJ(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Jx(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=1e3,vJ=2,yJ=4*60*60*1e3,xJ=.5;function wC(t,e=gJ,r=vJ){const n=e*Math.pow(r,t),i=Math.round(xJ*n*(Math.random()-.5)*2);return Math.min(yJ,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t){return t&&t._delegate?t._delegate:t}class Ki{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ZX;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_J(e))try{this.getOrInitializeService({instanceIdentifier:Ul})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=Ul){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ul){return this.instances.has(e)}getOptions(e=Ul){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:wJ(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ul){return this.component?this.component.multipleInstances?e:Ul:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wJ(t){return t===Ul?void 0:t}function _J(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new bJ(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(St||(St={}));const SJ={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},AJ=St.INFO,NJ={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},TJ=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=NJ[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=AJ,this._logHandler=TJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in St))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?SJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...e),this._logHandler(this,St.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...e),this._logHandler(this,St.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,St.INFO,...e),this._logHandler(this,St.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,St.WARN,...e),this._logHandler(this,St.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...e),this._logHandler(this,St.ERROR,...e)}}const DJ=(t,e)=>e.some(r=>t instanceof r);let _C,EC;function CJ(){return _C||(_C=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MJ(){return EC||(EC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RB=new WeakMap,e_=new WeakMap,OB=new WeakMap,Zx=new WeakMap,LS=new WeakMap;function IJ(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(zo(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&RB.set(r,t)}).catch(()=>{}),LS.set(e,t),e}function PJ(t){if(e_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});e_.set(t,e)}let t_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return e_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OB.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return zo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kJ(t){t_=t(t_)}function RJ(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(eb(this),e,...r);return OB.set(n,e.sort?e.sort():[e]),zo(n)}:MJ().includes(t)?function(...e){return t.apply(eb(this),e),zo(RB.get(this))}:function(...e){return zo(t.apply(eb(this),e))}}function OJ(t){return typeof t=="function"?RJ(t):(t instanceof IDBTransaction&&PJ(t),DJ(t,CJ())?new Proxy(t,t_):t)}function zo(t){if(t instanceof IDBRequest)return IJ(t);if(Zx.has(t))return Zx.get(t);const e=OJ(t);return e!==t&&(Zx.set(t,e),LS.set(e,t)),e}const eb=t=>LS.get(t);function FB(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=zo(a);return n&&a.addEventListener("upgradeneeded",l=>{n(zo(a.result),l.oldVersion,l.newVersion,zo(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const FJ=["get","getKey","getAll","getAllKeys","count"],BJ=["put","add","delete","clear"],tb=new Map;function SC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tb.get(e))return tb.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=BJ.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||FJ.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return tb.set(e,s),s}kJ(t=>({...t,get:(e,r,n)=>SC(e,r)||t.get(e,r,n),has:(e,r)=>!!SC(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(VJ(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function VJ(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const r_="@firebase/app",AC="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=new Qy("@firebase/app"),$J="@firebase/app-compat",zJ="@firebase/analytics-compat",jJ="@firebase/analytics",UJ="@firebase/app-check-compat",qJ="@firebase/app-check",HJ="@firebase/auth",WJ="@firebase/auth-compat",GJ="@firebase/database",KJ="@firebase/data-connect",YJ="@firebase/database-compat",QJ="@firebase/functions",XJ="@firebase/functions-compat",JJ="@firebase/installations",ZJ="@firebase/installations-compat",eZ="@firebase/messaging",tZ="@firebase/messaging-compat",rZ="@firebase/performance",nZ="@firebase/performance-compat",iZ="@firebase/remote-config",sZ="@firebase/remote-config-compat",aZ="@firebase/storage",oZ="@firebase/storage-compat",lZ="@firebase/firestore",uZ="@firebase/ai",cZ="@firebase/firestore-compat",fZ="firebase",hZ="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="[DEFAULT]",dZ={[r_]:"fire-core",[$J]:"fire-core-compat",[jJ]:"fire-analytics",[zJ]:"fire-analytics-compat",[qJ]:"fire-app-check",[UJ]:"fire-app-check-compat",[HJ]:"fire-auth",[WJ]:"fire-auth-compat",[GJ]:"fire-rtdb",[KJ]:"fire-data-connect",[YJ]:"fire-rtdb-compat",[QJ]:"fire-fn",[XJ]:"fire-fn-compat",[JJ]:"fire-iid",[ZJ]:"fire-iid-compat",[eZ]:"fire-fcm",[tZ]:"fire-fcm-compat",[rZ]:"fire-perf",[nZ]:"fire-perf-compat",[iZ]:"fire-rc",[sZ]:"fire-rc-compat",[aZ]:"fire-gcs",[oZ]:"fire-gcs-compat",[lZ]:"fire-fst",[cZ]:"fire-fst-compat",[uZ]:"fire-vertex","fire-js":"fire-js",[fZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map,mZ=new Map,i_=new Map;function NC(t,e){try{t.container.addComponent(e)}catch(r){ja.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bs(t){const e=t.name;if(i_.has(e))return ja.debug(`There were multiple attempts to register component ${e}.`),!1;i_.set(e,t);for(const r of o0.values())NC(r,t);for(const r of mZ.values())NC(r,t);return!0}function pl(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function ti(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pZ={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new Bu("app","Firebase",pZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ki("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=hZ;function BB(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:n_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw jo.create("bad-app-name",{appName:String(i)});if(r||(r=DB()),!r)throw jo.create("no-options");const s=o0.get(i);if(s){if(Xo(r,s.options)&&Xo(n,s.config))return s;throw jo.create("duplicate-app",{appName:i})}const a=new EJ(i);for(const l of i_.values())a.addComponent(l);const o=new gZ(r,n,a);return o0.set(i,o),o}function Xy(t=n_){const e=o0.get(t);if(!e&&t===n_&&DB())return BB();if(!e)throw jo.create("no-app",{appName:t});return e}function li(t,e,r){let n=dZ[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ja.warn(a.join(" "));return}bs(new Ki(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ="firebase-heartbeat-database",yZ=1,rm="firebase-heartbeat-store";let rb=null;function LB(){return rb||(rb=FB(vZ,yZ,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rm)}catch(r){console.warn(r)}}}}).catch(t=>{throw jo.create("idb-open",{originalErrorMessage:t.message})})),rb}async function xZ(t){try{const r=(await LB()).transaction(rm),n=await r.objectStore(rm).get(VB(t));return await r.done,n}catch(e){if(e instanceof es)ja.warn(e.message);else{const r=jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ja.warn(r.message)}}}async function TC(t,e){try{const n=(await LB()).transaction(rm,"readwrite");await n.objectStore(rm).put(e,VB(t)),await n.done}catch(r){if(r instanceof es)ja.warn(r.message);else{const n=jo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ja.warn(n.message)}}}function VB(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bZ=1024,wZ=30;class _Z{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new SZ(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DC();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wZ){const a=AZ(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ja.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=DC(),{heartbeatsToSend:n,unsentEntries:i}=EZ(this._heartbeatsCache.heartbeats),s=a0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ja.warn(r),""}}}function DC(){return new Date().toISOString().substring(0,10)}function EZ(t,e=bZ){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),CC(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),CC(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class SZ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PB()?kB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await xZ(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return TC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return TC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function CC(t){return a0(JSON.stringify({version:2,heartbeats:t})).length}function AZ(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(t){bs(new Ki("platform-logger",e=>new LJ(e),"PRIVATE")),bs(new Ki("heartbeat",e=>new _Z(e),"PRIVATE")),li(r_,AC,t),li(r_,AC,"esm2020"),li("fire-js","")}NZ("");function $B(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TZ=$B,zB=new Bu("auth","Firebase",$B());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=new Qy("@firebase/auth");function DZ(t,...e){l0.logLevel<=St.WARN&&l0.warn(`Auth (${Lu}): ${t}`,...e)}function rv(t,...e){l0.logLevel<=St.ERROR&&l0.error(`Auth (${Lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,...e){throw $S(t,...e)}function gs(t,...e){return $S(t,...e)}function VS(t,e,r){const n={...TZ(),[e]:r};return new Bu("auth","Firebase",n).create(e,{appName:t.name})}function ka(t){return VS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CZ(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Yi(t,"argument-error"),VS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $S(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return zB.create(t,...e)}function nt(t,e,...r){if(!t)throw $S(e,...r)}function Sa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rv(e),new Error(e)}function Ua(t,e){t||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function MZ(){return MC()==="http:"||MC()==="https:"}function MC(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MZ()||IB()||"connection"in navigator)?navigator.onLine:!0}function PZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ua(r>e,"Short delay should be less than long delay!"),this.isMobile=rJ()||sJ()}get(){return IZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e){Ua(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OZ=new Bm(3e4,6e4);function Qa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ta(t,e,r,n,i={}){return UB(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Fm({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return iJ()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Fu(t.emulatorConfig.host)&&(u.credentials="include"),jB.fetch()(await qB(t,t.config.apiHost,r,o),u)})}async function UB(t,e,r){t._canInitEmulator=!1;const n={...kZ,...e};try{const i=new BZ(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Qp(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qp(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Qp(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Qp(t,"user-disabled",a);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VS(t,c,u);Yi(t,c)}}catch(i){if(i instanceof es)throw i;Yi(t,"network-request-failed",{message:String(i)})}}async function Lm(t,e,r,n,i={}){const s=await ta(t,e,r,n,i);return"mfaPendingCredential"in s&&Yi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function qB(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?zS(t.config,i):`${t.config.apiScheme}://${i}`;return RZ.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function FZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(gs(this.auth,"network-request-failed")),OZ.get())})}}function Qp(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=gs(t,e,n);return i.customData._tokenResponse=r,i}function IC(t){return t!==void 0&&t.enterprise!==void 0}class LZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return FZ(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VZ(t,e){return ta(t,"GET","/v2/recaptchaConfig",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $Z(t,e){return ta(t,"POST","/v1/accounts:delete",e)}async function u0(t,e){return ta(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zZ(t,e=!1){const r=pr(t),n=await r.getIdToken(e),i=jS(n);nt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:dd(nb(i.auth_time)),issuedAtTime:dd(nb(i.iat)),expirationTime:dd(nb(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function nb(t){return Number(t)*1e3}function jS(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return rv("JWT malformed, contained fewer than 3 sections"),null;try{const i=AB(r);return i?JSON.parse(i):(rv("Failed to decode base64 JWT payload"),null)}catch(i){return rv("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function PC(t){const e=jS(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof es&&jZ(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function jZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c0(t){var f;const e=t.auth,r=await t.getIdToken(),n=await pf(t,u0(e,{idToken:r}));nt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?HB(i.providerUserInfo):[],a=HZ(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,c)}async function qZ(t){const e=pr(t);await c0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HZ(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function HB(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WZ(t,e){const r=await UB(t,{},async()=>{const n=Fm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await qB(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Fu(t.emulatorConfig.host)&&(l.credentials="include"),jB.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function GZ(t,e){return ta(t,"POST","/v2/accounts:revokeToken",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const r=PC(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await WZ(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Wc;return n&&(nt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(nt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(nt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hs{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new UZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new a_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await pf(this,this.stsTokenManager.getToken(this.auth,e));return nt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return zZ(this,e)}reload(){return qZ(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new hs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await c0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(ka(this.auth));const e=await this.getIdToken();return await pf(this,$Z(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,c=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:d,providerData:m,stsTokenManager:p}=r;nt(f&&p,e,"internal-error");const g=Wc.fromJSON(this.name,p);nt(typeof f=="string",e,"internal-error"),ao(n,e.name),ao(i,e.name),nt(typeof h=="boolean",e,"internal-error"),nt(typeof d=="boolean",e,"internal-error"),ao(s,e.name),ao(a,e.name),ao(o,e.name),ao(l,e.name),ao(u,e.name),ao(c,e.name);const v=new hs({uid:f,auth:e,email:i,emailVerified:h,displayName:n,isAnonymous:d,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:g,createdAt:u,lastLoginAt:c});return m&&Array.isArray(m)&&(v.providerData=m.map(b=>({...b}))),l&&(v._redirectEventId=l),v}static async _fromIdTokenResponse(e,r,n=!1){const i=new Wc;i.updateFromServerResponse(r);const s=new hs({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await c0(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];nt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?HB(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Wc;o.updateFromIdToken(n);const l=new hs({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new a_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=new Map;function Aa(t){Ua(t instanceof Function,"Expected a class definition");let e=kC.get(t);return e?(Ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}WB.type="NONE";const RC=WB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(t,e,r){return`firebase:${t}:${e}:${r}`}class Gc{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=nv(this.userKey,i.apiKey,s),this.fullPersistenceKey=nv("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await u0(this.auth,{idToken:e}).catch(()=>{});return r?hs._fromGetAccountInfoResponse(this.auth,r,e):null}return hs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Gc(Aa(RC),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Aa(RC);const a=nv(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const c=await u._get(a);if(c){let f;if(typeof c=="string"){const h=await u0(e,{idToken:c}).catch(()=>{});if(!h)break;f=await hs._fromGetAccountInfoResponse(e,h,c)}else f=hs._fromJSON(e,c);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Gc(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Gc(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JB(e))return"Blackberry";if(ZB(e))return"Webos";if(KB(e))return"Safari";if((e.includes("chrome/")||YB(e))&&!e.includes("edge/"))return"Chrome";if(XB(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function GB(t=On()){return/firefox\//i.test(t)}function KB(t=On()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YB(t=On()){return/crios\//i.test(t)}function QB(t=On()){return/iemobile/i.test(t)}function XB(t=On()){return/android/i.test(t)}function JB(t=On()){return/blackberry/i.test(t)}function ZB(t=On()){return/webos/i.test(t)}function US(t=On()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KZ(t=On()){var e;return US(t)&&!!((e=window.navigator)!=null&&e.standalone)}function YZ(){return aJ()&&document.documentMode===10}function eL(t=On()){return US(t)||XB(t)||ZB(t)||JB(t)||/windows phone/i.test(t)||QB(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tL(t,e=[]){let r;switch(t){case"Browser":r=OC(On());break;case"Worker":r=`${OC(On())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Lu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XZ(t,e={}){return ta(t,"GET","/v2/passwordPolicy",Qa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JZ=6;class ZZ{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??JZ,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FC(this),this.idTokenSubscription=new FC(this),this.beforeStateQueue=new QZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Aa(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Gc.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await u0(this,{idToken:e}),n=await hs._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ti(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await c0(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(ka(this));const r=e?pr(e):null;return r&&nt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XZ(this),r=new ZZ(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await GZ(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Aa(e)||this._popupRedirectResolver;nt(r,this,"argument-error"),this.redirectPersistenceManager=await Gc.create(this,[Aa(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&DZ(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Xa(t){return pr(t)}class FC{constructor(e){this.auth=e,this.observer=null,this.addObserver=dJ(r=>this.observer=r)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tee(t){Jy=t}function rL(t){return Jy.loadJS(t)}function ree(){return Jy.recaptchaEnterpriseScript}function nee(){return Jy.gapiScript}function iee(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class see{constructor(){this.enterprise=new aee}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class aee{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const oee="recaptcha-enterprise",nL="NO_RECAPTCHA";class lee{constructor(e){this.type=oee,this.auth=Xa(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{VZ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new LZ(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;IC(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(nL)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new see().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&IC(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ree();l.length!==0&&(l+=o),rL(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function BC(t,e,r,n=!1,i=!1){const s=new lee(t);let a;if(i)a=nL;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function f0(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await BC(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await BC(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uee(t,e){const r=pl(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Xo(s,e??{}))return i;Yi(i,"already-initialized")}return r.initialize({options:e})}function cee(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Aa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function fee(t,e,r){const n=Xa(t);nt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=iL(e),{host:a,port:o}=hee(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},c=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){nt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),nt(Xo(u,n.config.emulator)&&Xo(c,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=c,n.settings.appVerificationDisabledForTesting=!0,Fu(a)?(FS(`${s}//${a}${l}`),BS("Auth",!0)):dee()}function iL(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function hee(t){const e=iL(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:LC(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:LC(a)}}}function LC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function dee(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,r){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}async function mee(t,e){return ta(t,"POST","/v1/accounts:update",e)}async function pee(t,e){return ta(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gee(t,e){return Lm(t,"POST","/v1/accounts:signInWithPassword",Qa(t,e))}async function vee(t,e){return ta(t,"POST","/v1/accounts:sendOobCode",Qa(t,e))}async function yee(t,e){return vee(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xee(t,e){return Lm(t,"POST","/v1/accounts:signInWithEmailLink",Qa(t,e))}async function bee(t,e){return Lm(t,"POST","/v1/accounts:signInWithEmailLink",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends qS{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new nm(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new nm(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f0(e,r,"signInWithPassword",gee);case"emailLink":return xee(e,{email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return f0(e,n,"signUpPassword",pee);case"emailLink":return bee(e,{idToken:r,email:this._email,oobCode:this._password});default:Yi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e){return Lm(t,"POST","/v1/accounts:signInWithIdp",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee="http://localhost";class wu extends qS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new wu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Yi("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new wu(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Kc(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Kc(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Kc(e,r)}buildRequest(){const e={requestUri:wee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Fm(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Eee(t){const e=Vh($h(t)).link,r=e?Vh($h(e)).deep_link_id:null,n=Vh($h(t)).deep_link_id;return(n?Vh($h(n)).link:null)||n||r||e||t}class HS{constructor(e){const r=Vh($h(e)),n=r.apiKey??null,i=r.oobCode??null,s=_ee(r.mode??null);nt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=Eee(e);try{return new HS(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this.providerId=Vf.PROVIDER_ID}static credential(e,r){return nm._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=HS.parseLink(r);return nt(n,"argument-error"),nm._fromEmailAndCode(e,n.code,n.tenantId)}}Vf.PROVIDER_ID="password";Vf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends WS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Vm{constructor(){super("facebook.com")}static credential(e){return wu._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xo.credential(e.oauthAccessToken)}catch{return null}}}xo.FACEBOOK_SIGN_IN_METHOD="facebook.com";xo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Vm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return wu._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wa.credential(r,n)}catch{return null}}}wa.GOOGLE_SIGN_IN_METHOD="google.com";wa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Vm{constructor(){super("github.com")}static credential(e){return wu._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.GITHUB_SIGN_IN_METHOD="github.com";bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Vm{constructor(){super("twitter.com")}static credential(e,r){return wu._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return wo.credential(r,n)}catch{return null}}}wo.TWITTER_SIGN_IN_METHOD="twitter.com";wo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function See(t,e){return Lm(t,"POST","/v1/accounts:signUp",Qa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await hs._fromIdTokenResponse(e,n,i),a=VC(n);return new _u({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=VC(n);return new _u({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function VC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends es{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,h0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new h0(e,r,n,i)}}function sL(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?h0._fromErrorAndOperation(t,s,e,n):s})}async function Aee(t,e,r=!1){const n=await pf(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return _u._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nee(t,e,r=!1){const{auth:n}=t;if(ti(n.app))return Promise.reject(ka(n));const i="reauthenticate";try{const s=await pf(t,sL(n,i,e,t),r);nt(s.idToken,n,"internal-error");const a=jS(s.idToken);nt(a,n,"internal-error");const{sub:o}=a;return nt(t.uid===o,n,"user-mismatch"),_u._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Yi(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(t,e,r=!1){if(ti(t.app))return Promise.reject(ka(t));const n="signIn",i=await sL(t,n,e),s=await _u._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function Tee(t,e){return aL(Xa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t){const e=Xa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Dee(t,e,r){const n=Xa(t);await f0(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",yee)}async function $C(t,e,r){if(ti(t.app))return Promise.reject(ka(t));const n=Xa(t),a=await f0(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",See).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&oL(t),l}),o=await _u._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function Cee(t,e,r){return ti(t.app)?Promise.reject(ka(t)):Tee(pr(t),Vf.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&oL(t),n})}function Mee(t,e){return Iee(pr(t),null,e)}async function Iee(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const a=await pf(t,mee(n,s));await t._updateTokensIfNecessary(a,!0)}function Pee(t,e,r,n){return pr(t).onIdTokenChanged(e,r,n)}function kee(t,e,r){return pr(t).beforeAuthStateChanged(e,r)}function Ree(t,e,r,n){return pr(t).onAuthStateChanged(e,r,n)}function Oee(t){return pr(t).signOut()}const d0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(d0,"1"),this.storage.removeItem(d0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee=1e3,Bee=10;class uL extends lL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);YZ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Bee):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Fee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}uL.type="LOCAL";const Lee=uL;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL extends lL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}cL.type="SESSION";const fL=cL;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Zy(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await Vee(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=GS("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(){return window}function zee(t){Hs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof Hs().WorkerGlobalScope<"u"&&typeof Hs().importScripts=="function"}async function jee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Uee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function qee(){return hL()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="firebaseLocalStorageDb",Hee=1,m0="firebaseLocalStorage",mL="fbase_key";class $m{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function e1(t,e){return t.transaction([m0],e?"readwrite":"readonly").objectStore(m0)}function Wee(){const t=indexedDB.deleteDatabase(dL);return new $m(t).toPromise()}function o_(){const t=indexedDB.open(dL,Hee);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(m0,{keyPath:mL})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(m0)?e(n):(n.close(),await Wee(),e(await o_()))})})}async function zC(t,e,r){const n=e1(t,!0).put({[mL]:e,value:r});return new $m(n).toPromise()}async function Gee(t,e){const r=e1(t,!1).get(e),n=await new $m(r).toPromise();return n===void 0?null:n.value}function jC(t,e){const r=e1(t,!0).delete(e);return new $m(r).toPromise()}const Kee=800,Yee=3;class pL{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await o_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Yee)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hL()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zy._getInstance(qee()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await jee(),!this.activeServiceWorker)return;this.sender=new $ee(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Uee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await o_();return await zC(e,d0,"1"),await jC(e,d0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>zC(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Gee(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>jC(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=e1(i,!1).getAll();return new $m(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pL.type="LOCAL";const Qee=pL;new Bm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){return e?Aa(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS extends qS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Kc(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Kc(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Kc(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Xee(t){return aL(t.auth,new KS(t),t.bypassAuthState)}function Jee(t){const{auth:e,user:r}=t;return nt(r,e,"internal-error"),Nee(r,new KS(t),t.bypassAuthState)}async function Zee(t){const{auth:e,user:r}=t;return nt(r,e,"internal-error"),Aee(r,new KS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xee;case"linkViaPopup":case"linkViaRedirect":return Zee;case"reauthViaPopup":case"reauthViaRedirect":return Jee;default:Yi(this.auth,"internal-error")}}resolve(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ete=new Bm(2e3,1e4);async function tte(t,e,r){if(ti(t.app))return Promise.reject(gs(t,"operation-not-supported-in-this-environment"));const n=Xa(t);CZ(t,e,WS);const i=gL(n,r);return new eu(n,"signInViaPopup",e,i).executeNotNull()}class eu extends vL{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,eu.currentPopupAction&&eu.currentPopupAction.cancel(),eu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){Ua(this.filter.length===1,"Popup operations only handle one event");const e=GS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ete.get())};e()}}eu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rte="pendingRedirect",iv=new Map;class nte extends vL{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=iv.get(this.auth._key());if(!e){try{const n=await ite(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}iv.set(this.auth._key(),e)}return this.bypassAuthState||iv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ite(t,e){const r=ote(e),n=ate(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function ste(t,e){iv.set(t._key(),e)}function ate(t){return Aa(t._redirectPersistence)}function ote(t){return nv(rte,t.config.apiKey,t.name)}async function lte(t,e,r=!1){if(ti(t.app))return Promise.reject(ka(t));const n=Xa(t),i=gL(n,e),a=await new nte(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=10*60*1e3;class cte{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fte(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!yL(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(gs(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ute&&this.cachedEventUids.clear(),this.cachedEventUids.has(UC(e))}saveEventToCache(e){this.cachedEventUids.add(UC(e)),this.lastProcessedEventTime=Date.now()}}function UC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yL({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fte(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yL(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hte(t,e={}){return ta(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mte=/^https?/;async function pte(t){if(t.config.emulator)return;const{authorizedDomains:e}=await hte(t);for(const r of e)try{if(gte(r))return}catch{}Yi(t,"unauthorized-domain")}function gte(t){const e=s_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!mte.test(r))return!1;if(dte.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vte=new Bm(3e4,6e4);function qC(){const t=Hs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function yte(t){return new Promise((e,r)=>{var i,s,a;function n(){qC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qC(),r(gs(t,"network-request-failed"))},timeout:vte.get()})}if((s=(i=Hs().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Hs().gapi)!=null&&a.load)n();else{const o=iee("iframefcb");return Hs()[o]=()=>{gapi.load?n():r(gs(t,"network-request-failed"))},rL(`${nee()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw sv=null,e})}let sv=null;function xte(t){return sv=sv||yte(t),sv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte=new Bm(5e3,15e3),wte="__/auth/iframe",_te="emulator/auth/iframe",Ete={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ste=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ate(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?zS(e,_te):`https://${t.config.authDomain}/${wte}`,n={apiKey:e.apiKey,appName:t.name,v:Lu},i=Ste.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Fm(n).slice(1)}`}async function Nte(t){const e=await xte(t),r=Hs().gapi;return nt(r,t,"internal-error"),e.open({where:document.body,url:Ate(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ete,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=gs(t,"network-request-failed"),o=Hs().setTimeout(()=>{s(a)},bte.get());function l(){Hs().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dte=500,Cte=600,Mte="_blank",Ite="http://localhost";class HC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Pte(t,e,r,n=Dte,i=Cte){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Tte,width:n.toString(),height:i.toString(),top:s,left:a},u=On().toLowerCase();r&&(o=YB(u)?Mte:r),GB(u)&&(e=e||Ite,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[d,m])=>`${h}${d}=${m},`,"");if(KZ(u)&&o!=="_self")return kte(e||"",o),new HC(null);const f=window.open(e||"",o,c);nt(f,t,"popup-blocked");try{f.focus()}catch{}return new HC(f)}function kte(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte="__/auth/handler",Ote="emulator/auth/handler",Fte=encodeURIComponent("fac");async function WC(t,e,r,n,i,s){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Lu,eventId:i};if(e instanceof WS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",hJ(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof Vm){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await t._getAppCheckToken(),u=l?`#${Fte}=${encodeURIComponent(l)}`:"";return`${Bte(t)}?${Fm(o).slice(1)}${u}`}function Bte({config:t}){return t.emulator?zS(t,Ote):`https://${t.authDomain}/${Rte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="webStorageSupport";class Lte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fL,this._completeRedirectFn=lte,this._overrideRedirectResult=ste}async _openPopup(e,r,n,i){var a;Ua((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await WC(e,r,n,s_(),i);return Pte(e,s,GS())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await WC(e,r,n,s_(),i);return zee(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Ua(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await Nte(e),n=new cte(e);return r.register("authEvent",i=>(nt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(ib,{type:ib},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[ib];s!==void 0&&r(!!s),Yi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=pte(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return eL()||KB()||US()}}const Vte=Lte;var GC="@firebase/auth",KC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zte(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jte(t){bs(new Ki("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;nt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tL(t)},u=new eee(n,i,s,l);return cee(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bs(new Ki("auth-internal",e=>{const r=Xa(e.getProvider("auth").getImmediate());return(n=>new $te(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),li(GC,KC,zte(t)),li(GC,KC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ute=5*60,qte=CB("authIdTokenMaxAge")||Ute;let YC=null;const Hte=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>qte)return;const i=r==null?void 0:r.token;YC!==i&&(YC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wte(t=Xy()){const e=pl(t,"auth");if(e.isInitialized())return e.getImmediate();const r=uee(t,{popupRedirectResolver:Vte,persistence:[Qee,Lee,fL]}),n=CB("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=Hte(s.toString());kee(r,a,()=>a(r.currentUser)),Pee(r,o=>a(o))}}const i=NB("auth");return i&&fee(r,`http://${i}`),r}function Gte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}tee({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=gs("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",Gte().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jte("Browser");var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uo,xL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,A){function N(){}N.prototype=A.prototype,S.D=A.prototype,S.prototype=new N,S.prototype.constructor=S,S.C=function(D,C,M){for(var I=Array(arguments.length-2),z=2;z<arguments.length;z++)I[z-2]=arguments[z];return A.prototype[C].apply(D,I)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,A,N){N||(N=0);var D=Array(16);if(typeof A=="string")for(var C=0;16>C;++C)D[C]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(C=0;16>C;++C)D[C]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=S.g[0],N=S.g[1],C=S.g[2];var M=S.g[3],I=A+(M^N&(C^M))+D[0]+3614090360&4294967295;A=N+(I<<7&4294967295|I>>>25),I=M+(C^A&(N^C))+D[1]+3905402710&4294967295,M=A+(I<<12&4294967295|I>>>20),I=C+(N^M&(A^N))+D[2]+606105819&4294967295,C=M+(I<<17&4294967295|I>>>15),I=N+(A^C&(M^A))+D[3]+3250441966&4294967295,N=C+(I<<22&4294967295|I>>>10),I=A+(M^N&(C^M))+D[4]+4118548399&4294967295,A=N+(I<<7&4294967295|I>>>25),I=M+(C^A&(N^C))+D[5]+1200080426&4294967295,M=A+(I<<12&4294967295|I>>>20),I=C+(N^M&(A^N))+D[6]+2821735955&4294967295,C=M+(I<<17&4294967295|I>>>15),I=N+(A^C&(M^A))+D[7]+4249261313&4294967295,N=C+(I<<22&4294967295|I>>>10),I=A+(M^N&(C^M))+D[8]+1770035416&4294967295,A=N+(I<<7&4294967295|I>>>25),I=M+(C^A&(N^C))+D[9]+2336552879&4294967295,M=A+(I<<12&4294967295|I>>>20),I=C+(N^M&(A^N))+D[10]+4294925233&4294967295,C=M+(I<<17&4294967295|I>>>15),I=N+(A^C&(M^A))+D[11]+2304563134&4294967295,N=C+(I<<22&4294967295|I>>>10),I=A+(M^N&(C^M))+D[12]+1804603682&4294967295,A=N+(I<<7&4294967295|I>>>25),I=M+(C^A&(N^C))+D[13]+4254626195&4294967295,M=A+(I<<12&4294967295|I>>>20),I=C+(N^M&(A^N))+D[14]+2792965006&4294967295,C=M+(I<<17&4294967295|I>>>15),I=N+(A^C&(M^A))+D[15]+1236535329&4294967295,N=C+(I<<22&4294967295|I>>>10),I=A+(C^M&(N^C))+D[1]+4129170786&4294967295,A=N+(I<<5&4294967295|I>>>27),I=M+(N^C&(A^N))+D[6]+3225465664&4294967295,M=A+(I<<9&4294967295|I>>>23),I=C+(A^N&(M^A))+D[11]+643717713&4294967295,C=M+(I<<14&4294967295|I>>>18),I=N+(M^A&(C^M))+D[0]+3921069994&4294967295,N=C+(I<<20&4294967295|I>>>12),I=A+(C^M&(N^C))+D[5]+3593408605&4294967295,A=N+(I<<5&4294967295|I>>>27),I=M+(N^C&(A^N))+D[10]+38016083&4294967295,M=A+(I<<9&4294967295|I>>>23),I=C+(A^N&(M^A))+D[15]+3634488961&4294967295,C=M+(I<<14&4294967295|I>>>18),I=N+(M^A&(C^M))+D[4]+3889429448&4294967295,N=C+(I<<20&4294967295|I>>>12),I=A+(C^M&(N^C))+D[9]+568446438&4294967295,A=N+(I<<5&4294967295|I>>>27),I=M+(N^C&(A^N))+D[14]+3275163606&4294967295,M=A+(I<<9&4294967295|I>>>23),I=C+(A^N&(M^A))+D[3]+4107603335&4294967295,C=M+(I<<14&4294967295|I>>>18),I=N+(M^A&(C^M))+D[8]+1163531501&4294967295,N=C+(I<<20&4294967295|I>>>12),I=A+(C^M&(N^C))+D[13]+2850285829&4294967295,A=N+(I<<5&4294967295|I>>>27),I=M+(N^C&(A^N))+D[2]+4243563512&4294967295,M=A+(I<<9&4294967295|I>>>23),I=C+(A^N&(M^A))+D[7]+1735328473&4294967295,C=M+(I<<14&4294967295|I>>>18),I=N+(M^A&(C^M))+D[12]+2368359562&4294967295,N=C+(I<<20&4294967295|I>>>12),I=A+(N^C^M)+D[5]+4294588738&4294967295,A=N+(I<<4&4294967295|I>>>28),I=M+(A^N^C)+D[8]+2272392833&4294967295,M=A+(I<<11&4294967295|I>>>21),I=C+(M^A^N)+D[11]+1839030562&4294967295,C=M+(I<<16&4294967295|I>>>16),I=N+(C^M^A)+D[14]+4259657740&4294967295,N=C+(I<<23&4294967295|I>>>9),I=A+(N^C^M)+D[1]+2763975236&4294967295,A=N+(I<<4&4294967295|I>>>28),I=M+(A^N^C)+D[4]+1272893353&4294967295,M=A+(I<<11&4294967295|I>>>21),I=C+(M^A^N)+D[7]+4139469664&4294967295,C=M+(I<<16&4294967295|I>>>16),I=N+(C^M^A)+D[10]+3200236656&4294967295,N=C+(I<<23&4294967295|I>>>9),I=A+(N^C^M)+D[13]+681279174&4294967295,A=N+(I<<4&4294967295|I>>>28),I=M+(A^N^C)+D[0]+3936430074&4294967295,M=A+(I<<11&4294967295|I>>>21),I=C+(M^A^N)+D[3]+3572445317&4294967295,C=M+(I<<16&4294967295|I>>>16),I=N+(C^M^A)+D[6]+76029189&4294967295,N=C+(I<<23&4294967295|I>>>9),I=A+(N^C^M)+D[9]+3654602809&4294967295,A=N+(I<<4&4294967295|I>>>28),I=M+(A^N^C)+D[12]+3873151461&4294967295,M=A+(I<<11&4294967295|I>>>21),I=C+(M^A^N)+D[15]+530742520&4294967295,C=M+(I<<16&4294967295|I>>>16),I=N+(C^M^A)+D[2]+3299628645&4294967295,N=C+(I<<23&4294967295|I>>>9),I=A+(C^(N|~M))+D[0]+4096336452&4294967295,A=N+(I<<6&4294967295|I>>>26),I=M+(N^(A|~C))+D[7]+1126891415&4294967295,M=A+(I<<10&4294967295|I>>>22),I=C+(A^(M|~N))+D[14]+2878612391&4294967295,C=M+(I<<15&4294967295|I>>>17),I=N+(M^(C|~A))+D[5]+4237533241&4294967295,N=C+(I<<21&4294967295|I>>>11),I=A+(C^(N|~M))+D[12]+1700485571&4294967295,A=N+(I<<6&4294967295|I>>>26),I=M+(N^(A|~C))+D[3]+2399980690&4294967295,M=A+(I<<10&4294967295|I>>>22),I=C+(A^(M|~N))+D[10]+4293915773&4294967295,C=M+(I<<15&4294967295|I>>>17),I=N+(M^(C|~A))+D[1]+2240044497&4294967295,N=C+(I<<21&4294967295|I>>>11),I=A+(C^(N|~M))+D[8]+1873313359&4294967295,A=N+(I<<6&4294967295|I>>>26),I=M+(N^(A|~C))+D[15]+4264355552&4294967295,M=A+(I<<10&4294967295|I>>>22),I=C+(A^(M|~N))+D[6]+2734768916&4294967295,C=M+(I<<15&4294967295|I>>>17),I=N+(M^(C|~A))+D[13]+1309151649&4294967295,N=C+(I<<21&4294967295|I>>>11),I=A+(C^(N|~M))+D[4]+4149444226&4294967295,A=N+(I<<6&4294967295|I>>>26),I=M+(N^(A|~C))+D[11]+3174756917&4294967295,M=A+(I<<10&4294967295|I>>>22),I=C+(A^(M|~N))+D[2]+718787259&4294967295,C=M+(I<<15&4294967295|I>>>17),I=N+(M^(C|~A))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+A&4294967295,S.g[1]=S.g[1]+(C+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+C&4294967295,S.g[3]=S.g[3]+M&4294967295}n.prototype.u=function(S,A){A===void 0&&(A=S.length);for(var N=A-this.blockSize,D=this.B,C=this.h,M=0;M<A;){if(C==0)for(;M<=N;)i(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<A;)if(D[C++]=S.charCodeAt(M++),C==this.blockSize){i(this,D),C=0;break}}else for(;M<A;)if(D[C++]=S[M++],C==this.blockSize){i(this,D),C=0;break}}this.h=C,this.o+=A},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var A=1;A<S.length-8;++A)S[A]=0;var N=8*this.o;for(A=S.length-8;A<S.length;++A)S[A]=N&255,N/=256;for(this.u(S),S=Array(16),A=N=0;4>A;++A)for(var D=0;32>D;D+=8)S[N++]=this.g[A]>>>D&255;return S};function s(S,A){var N=o;return Object.prototype.hasOwnProperty.call(N,S)?N[S]:N[S]=A(S)}function a(S,A){this.h=A;for(var N=[],D=!0,C=S.length-1;0<=C;C--){var M=S[C]|0;D&&M==A||(N[C]=M,D=!1)}this.g=N}var o={};function l(S){return-128<=S&&128>S?s(S,function(A){return new a([A|0],0>A?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return g(u(-S));for(var A=[],N=1,D=0;S>=N;D++)A[D]=S/N|0,N*=4294967296;return new a(A,0)}function c(S,A){if(S.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(S.charAt(0)=="-")return g(c(S.substring(1),A));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(A,8)),D=f,C=0;C<S.length;C+=8){var M=Math.min(8,S.length-C),I=parseInt(S.substring(C,C+M),A);8>M?(M=u(Math.pow(A,M)),D=D.j(M).add(u(I))):(D=D.j(N),D=D.add(u(I)))}return D}var f=l(0),h=l(1),d=l(16777216);t=a.prototype,t.m=function(){if(p(this))return-g(this).m();for(var S=0,A=1,N=0;N<this.g.length;N++){var D=this.i(N);S+=(0<=D?D:4294967296+D)*A,A*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(m(this))return"0";if(p(this))return"-"+g(this).toString(S);for(var A=u(Math.pow(S,6)),N=this,D="";;){var C=x(N,A).g;N=v(N,C.j(A));var M=((0<N.g.length?N.g[0]:N.h)>>>0).toString(S);if(N=C,m(N))return M+D;for(;6>M.length;)M="0"+M;D=M+D}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function m(S){if(S.h!=0)return!1;for(var A=0;A<S.g.length;A++)if(S.g[A]!=0)return!1;return!0}function p(S){return S.h==-1}t.l=function(S){return S=v(this,S),p(S)?-1:m(S)?0:1};function g(S){for(var A=S.g.length,N=[],D=0;D<A;D++)N[D]=~S.g[D];return new a(N,~S.h).add(h)}t.abs=function(){return p(this)?g(this):this},t.add=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],D=0,C=0;C<=A;C++){var M=D+(this.i(C)&65535)+(S.i(C)&65535),I=(M>>>16)+(this.i(C)>>>16)+(S.i(C)>>>16);D=I>>>16,M&=65535,I&=65535,N[C]=I<<16|M}return new a(N,N[N.length-1]&-2147483648?-1:0)};function v(S,A){return S.add(g(A))}t.j=function(S){if(m(this)||m(S))return f;if(p(this))return p(S)?g(this).j(g(S)):g(g(this).j(S));if(p(S))return g(this.j(g(S)));if(0>this.l(d)&&0>S.l(d))return u(this.m()*S.m());for(var A=this.g.length+S.g.length,N=[],D=0;D<2*A;D++)N[D]=0;for(D=0;D<this.g.length;D++)for(var C=0;C<S.g.length;C++){var M=this.i(D)>>>16,I=this.i(D)&65535,z=S.i(C)>>>16,V=S.i(C)&65535;N[2*D+2*C]+=I*V,b(N,2*D+2*C),N[2*D+2*C+1]+=M*V,b(N,2*D+2*C+1),N[2*D+2*C+1]+=I*z,b(N,2*D+2*C+1),N[2*D+2*C+2]+=M*z,b(N,2*D+2*C+2)}for(D=0;D<A;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=A;D<2*A;D++)N[D]=0;return new a(N,0)};function b(S,A){for(;(S[A]&65535)!=S[A];)S[A+1]+=S[A]>>>16,S[A]&=65535,A++}function y(S,A){this.g=S,this.h=A}function x(S,A){if(m(A))throw Error("division by zero");if(m(S))return new y(f,f);if(p(S))return A=x(g(S),A),new y(g(A.g),g(A.h));if(p(A))return A=x(S,g(A)),new y(g(A.g),A.h);if(30<S.g.length){if(p(S)||p(A))throw Error("slowDivide_ only works with positive integers.");for(var N=h,D=A;0>=D.l(S);)N=w(N),D=w(D);var C=E(N,1),M=E(D,1);for(D=E(D,2),N=E(N,2);!m(D);){var I=M.add(D);0>=I.l(S)&&(C=C.add(N),M=I),D=E(D,1),N=E(N,1)}return A=v(S,C.j(A)),new y(C,A)}for(C=f;0<=S.l(A);){for(N=Math.max(1,Math.floor(S.m()/A.m())),D=Math.ceil(Math.log(N)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),M=u(N),I=M.j(A);p(I)||0<I.l(S);)N-=D,M=u(N),I=M.j(A);m(M)&&(M=h),C=C.add(M),S=v(S,I)}return new y(C,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],D=0;D<A;D++)N[D]=this.i(D)&S.i(D);return new a(N,this.h&S.h)},t.or=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],D=0;D<A;D++)N[D]=this.i(D)|S.i(D);return new a(N,this.h|S.h)},t.xor=function(S){for(var A=Math.max(this.g.length,S.g.length),N=[],D=0;D<A;D++)N[D]=this.i(D)^S.i(D);return new a(N,this.h^S.h)};function w(S){for(var A=S.g.length+1,N=[],D=0;D<A;D++)N[D]=S.i(D)<<1|S.i(D-1)>>>31;return new a(N,S.h)}function E(S,A){var N=A>>5;A%=32;for(var D=S.g.length-N,C=[],M=0;M<D;M++)C[M]=0<A?S.i(M+N)>>>A|S.i(M+N+1)<<32-A:S.i(M+N);return new a(C,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,xL=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,Uo=a}).apply(typeof QC<"u"?QC:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bL,zh,wL,av,l_,_L,EL,SL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,P,F){return _==Array.prototype||_==Object.prototype||(_[P]=F.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var P=0;P<_.length;++P){var F=_[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function i(_,P){if(P)e:{var F=n;_=_.split(".");for(var G=0;G<_.length-1;G++){var he=_[G];if(!(he in F))break e;F=F[he]}_=_[_.length-1],G=F[_],P=P(G),P!=G&&P!=null&&e(F,_,{configurable:!0,writable:!0,value:P})}}function s(_,P){_ instanceof String&&(_+="");var F=0,G=!1,he={next:function(){if(!G&&F<_.length){var ye=F++;return{value:P(ye,_[ye]),done:!1}}return G=!0,{done:!0,value:void 0}}};return he[Symbol.iterator]=function(){return he},he}i("Array.prototype.values",function(_){return _||function(){return s(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(_){var P=typeof _;return P=P!="object"?P:_?Array.isArray(_)?"array":P:"null",P=="array"||P=="object"&&typeof _.length=="number"}function u(_){var P=typeof _;return P=="object"&&_!=null||P=="function"}function c(_,P,F){return _.call.apply(_.bind,arguments)}function f(_,P,F){if(!_)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var he=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(he,G),_.apply(P,he)}}return function(){return _.apply(P,arguments)}}function h(_,P,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function d(_,P){var F=Array.prototype.slice.call(arguments,1);return function(){var G=F.slice();return G.push.apply(G,arguments),_.apply(this,G)}}function m(_,P){function F(){}F.prototype=P.prototype,_.aa=P.prototype,_.prototype=new F,_.prototype.constructor=_,_.Qb=function(G,he,ye){for(var Re=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)Re[Xt-2]=arguments[Xt];return P.prototype[he].apply(G,Re)}}function p(_){const P=_.length;if(0<P){const F=Array(P);for(let G=0;G<P;G++)F[G]=_[G];return F}return[]}function g(_,P){for(let F=1;F<arguments.length;F++){const G=arguments[F];if(l(G)){const he=_.length||0,ye=G.length||0;_.length=he+ye;for(let Re=0;Re<ye;Re++)_[he+Re]=G[Re]}else _.push(G)}}class v{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function b(_){return/^[\s\xa0]*$/.test(_)}function y(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function x(_){return x[" "](_),_}x[" "]=function(){};var w=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function E(_,P,F){for(const G in _)P.call(F,_[G],G,_)}function S(_,P){for(const F in _)P.call(void 0,_[F],F,_)}function A(_){const P={};for(const F in _)P[F]=_[F];return P}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(_,P){let F,G;for(let he=1;he<arguments.length;he++){G=arguments[he];for(F in G)_[F]=G[F];for(let ye=0;ye<N.length;ye++)F=N[ye],Object.prototype.hasOwnProperty.call(G,F)&&(_[F]=G[F])}}function C(_){var P=1;_=_.split(":");const F=[];for(;0<P&&_.length;)F.push(_.shift()),P--;return _.length&&F.push(_.join(":")),F}function M(_){o.setTimeout(()=>{throw _},0)}function I(){var _=$;let P=null;return _.g&&(P=_.g,_.g=_.g.next,_.g||(_.h=null),P.next=null),P}class z{constructor(){this.h=this.g=null}add(P,F){const G=V.get();G.set(P,F),this.h?this.h.next=G:this.g=G,this.h=G}}var V=new v(()=>new k,_=>_.reset());class k{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let L,B=!1,$=new z,Y=()=>{const _=o.Promise.resolve(void 0);L=()=>{_.then(ie)}};var ie=()=>{for(var _;_=I();){try{_.h.call(_.g)}catch(F){M(F)}var P=V;P.j(_),100>P.h&&(P.h++,_.next=P.g,P.g=_)}B=!1};function O(){this.s=this.s,this.C=this.C}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(_,P){this.type=_,this.g=this.target=P,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,P=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const F=()=>{};o.addEventListener("test",F,P),o.removeEventListener("test",F,P)}catch{}return _}();function me(_,P){if(q.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var F=this.type=_.type,G=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=P,P=_.relatedTarget){if(w){e:{try{x(P.nodeName);var he=!0;break e}catch{}he=!1}he||(P=null)}}else F=="mouseover"?P=_.fromElement:F=="mouseout"&&(P=_.toElement);this.relatedTarget=P,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:ue[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&me.aa.h.call(this)}}m(me,q);var ue={2:"touch",3:"pen",4:"mouse"};me.prototype.h=function(){me.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),W=0;function X(_,P,F,G,he){this.listener=_,this.proxy=null,this.src=P,this.type=F,this.capture=!!G,this.ha=he,this.key=++W,this.da=this.fa=!1}function ee(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function se(_){this.src=_,this.g={},this.h=0}se.prototype.add=function(_,P,F,G,he){var ye=_.toString();_=this.g[ye],_||(_=this.g[ye]=[],this.h++);var Re=ve(_,P,G,he);return-1<Re?(P=_[Re],F||(P.fa=!1)):(P=new X(P,this.src,ye,!!G,he),P.fa=F,_.push(P)),P};function oe(_,P){var F=P.type;if(F in _.g){var G=_.g[F],he=Array.prototype.indexOf.call(G,P,void 0),ye;(ye=0<=he)&&Array.prototype.splice.call(G,he,1),ye&&(ee(P),_.g[F].length==0&&(delete _.g[F],_.h--))}}function ve(_,P,F,G){for(var he=0;he<_.length;++he){var ye=_[he];if(!ye.da&&ye.listener==P&&ye.capture==!!F&&ye.ha==G)return he}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),De={};function Be(_,P,F,G,he){if(Array.isArray(P)){for(var ye=0;ye<P.length;ye++)Be(_,P[ye],F,G,he);return null}return F=re(F),_&&_[fe]?_.K(P,F,u(G)?!!G.capture:!1,he):ze(_,P,F,!1,G,he)}function ze(_,P,F,G,he,ye){if(!P)throw Error("Invalid event type");var Re=u(he)?!!he.capture:!!he,Xt=U(_);if(Xt||(_[pe]=Xt=new se(_)),F=Xt.add(P,F,G,Re,ye),F.proxy)return F;if(G=ke(),F.proxy=G,G.src=_,G.listener=F,_.addEventListener)j||(he=Re),he===void 0&&(he=!1),_.addEventListener(P.toString(),G,he);else if(_.attachEvent)_.attachEvent(te(P.toString()),G);else if(_.addListener&&_.removeListener)_.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return F}function ke(){function _(F){return P.call(_.src,_.listener,F)}const P=ce;return _}function He(_,P,F,G,he){if(Array.isArray(P))for(var ye=0;ye<P.length;ye++)He(_,P[ye],F,G,he);else G=u(G)?!!G.capture:!!G,F=re(F),_&&_[fe]?(_=_.i,P=String(P).toString(),P in _.g&&(ye=_.g[P],F=ve(ye,F,G,he),-1<F&&(ee(ye[F]),Array.prototype.splice.call(ye,F,1),ye.length==0&&(delete _.g[P],_.h--)))):_&&(_=U(_))&&(P=_.g[P.toString()],_=-1,P&&(_=ve(P,F,G,he)),(F=-1<_?P[_]:null)&&K(F))}function K(_){if(typeof _!="number"&&_&&!_.da){var P=_.src;if(P&&P[fe])oe(P.i,_);else{var F=_.type,G=_.proxy;P.removeEventListener?P.removeEventListener(F,G,_.capture):P.detachEvent?P.detachEvent(te(F),G):P.addListener&&P.removeListener&&P.removeListener(G),(F=U(P))?(oe(F,_),F.h==0&&(F.src=null,P[pe]=null)):ee(_)}}}function te(_){return _ in De?De[_]:De[_]="on"+_}function ce(_,P){if(_.da)_=!0;else{P=new me(P,this);var F=_.listener,G=_.ha||_.src;_.fa&&K(_),_=F.call(G,P)}return _}function U(_){return _=_[pe],_ instanceof se?_:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(_){return typeof _=="function"?_:(_[Q]||(_[Q]=function(P){return _.handleEvent(P)}),_[Q])}function ae(){O.call(this),this.i=new se(this),this.M=this,this.F=null}m(ae,O),ae.prototype[fe]=!0,ae.prototype.removeEventListener=function(_,P,F,G){He(this,_,P,F,G)};function le(_,P){var F,G=_.F;if(G)for(F=[];G;G=G.F)F.push(G);if(_=_.M,G=P.type||P,typeof P=="string")P=new q(P,_);else if(P instanceof q)P.target=P.target||_;else{var he=P;P=new q(G,_),D(P,he)}if(he=!0,F)for(var ye=F.length-1;0<=ye;ye--){var Re=P.g=F[ye];he=ge(Re,G,!0,P)&&he}if(Re=P.g=_,he=ge(Re,G,!0,P)&&he,he=ge(Re,G,!1,P)&&he,F)for(ye=0;ye<F.length;ye++)Re=P.g=F[ye],he=ge(Re,G,!1,P)&&he}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var _=this.i,P;for(P in _.g){for(var F=_.g[P],G=0;G<F.length;G++)ee(F[G]);delete _.g[P],_.h--}}this.F=null},ae.prototype.K=function(_,P,F,G){return this.i.add(String(_),P,!1,F,G)},ae.prototype.L=function(_,P,F,G){return this.i.add(String(_),P,!0,F,G)};function ge(_,P,F,G){if(P=_.i.g[String(P)],!P)return!0;P=P.concat();for(var he=!0,ye=0;ye<P.length;++ye){var Re=P[ye];if(Re&&!Re.da&&Re.capture==F){var Xt=Re.listener,tn=Re.ha||Re.src;Re.fa&&oe(_.i,Re),he=Xt.call(tn,G)!==!1&&he}}return he&&!G.defaultPrevented}function Se(_,P,F){if(typeof _=="function")F&&(_=h(_,F));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:o.setTimeout(_,P||0)}function Te(_){_.g=Se(()=>{_.g=null,_.i&&(_.i=!1,Te(_))},_.l);const P=_.h;_.h=null,_.m.apply(null,P)}class Ce extends O{constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Te(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ae(_){O.call(this),this.h=_,this.g={}}m(Ae,O);var yt=[];function Ge(_){E(_.g,function(P,F){this.g.hasOwnProperty(F)&&K(P)},_),_.g={}}Ae.prototype.N=function(){Ae.aa.N.call(this),Ge(this)},Ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=o.JSON.stringify,R=o.JSON.parse,Z=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function de(){}de.prototype.h=null;function _e(_){return _.h||(_.h=_.i())}function Ye(){}var Xe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){q.call(this,"d")}m(cr,q);function Tl(){q.call(this,"c")}m(Tl,q);var oa={},lp=null;function ec(){return lp=lp||new ae}oa.La="serverreachability";function up(_){q.call(this,oa.La,_)}m(up,q);function Dl(_){const P=ec();le(P,new up(P))}oa.STAT_EVENT="statevent";function cp(_,P){q.call(this,oa.STAT_EVENT,_),this.stat=P}m(cp,q);function Zr(_){const P=ec();le(P,new cp(P,_))}oa.Ma="timingevent";function fp(_,P){q.call(this,oa.Ma,_),this.size=P}m(fp,q);function Cl(_,P){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},P)}function Ml(){this.g=!0}Ml.prototype.xa=function(){this.g=!1};function Q1(_,P,F,G,he,ye){_.info(function(){if(_.g)if(ye)for(var Re="",Xt=ye.split("&"),tn=0;tn<Xt.length;tn++){var Ot=Xt[tn].split("=");if(1<Ot.length){var vn=Ot[0];Ot=Ot[1];var yn=vn.split("_");Re=2<=yn.length&&yn[1]=="type"?Re+(vn+"="+Ot+"&"):Re+(vn+"=redacted&")}}else Re=null;else Re=ye;return"XMLHTTP REQ ("+G+") [attempt "+he+"]: "+P+`
`+F+`
`+Re})}function X1(_,P,F,G,he,ye,Re){_.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+he+"]: "+P+`
`+F+`
`+ye+" "+Re})}function ro(_,P,F,G){_.info(function(){return"XMLHTTP TEXT ("+P+"): "+Z1(_,F)+(G?" "+G:"")})}function J1(_,P){_.info(function(){return"TIMEOUT: "+P})}Ml.prototype.info=function(){};function Z1(_,P){if(!_.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(_=0;_<F.length;_++)if(Array.isArray(F[_])){var G=F[_];if(!(2>G.length)){var he=G[1];if(Array.isArray(he)&&!(1>he.length)){var ye=he[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Re=1;Re<he.length;Re++)he[Re]=""}}}}return Rt(F)}catch{return P}}var tc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ih;function rc(){}m(rc,de),rc.prototype.g=function(){return new XMLHttpRequest},rc.prototype.i=function(){return{}},ih=new rc;function Cs(_,P,F,G){this.j=_,this.i=P,this.l=F,this.R=G||1,this.U=new Ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dp}function dp(){this.i=null,this.g="",this.h=!1}var mp={},sh={};function ah(_,P,F){_.L=1,_.v=xp(la(P)),_.m=F,_.P=!0,pp(_,null)}function pp(_,P){_.F=Date.now(),Mt(_),_.A=la(_.v);var F=_.A,G=_.R;Array.isArray(G)||(G=[String(G)]),cN(F.i,"t",G),_.C=0,F=_.j.J,_.h=new dp,_.g=DN(_.j,F?P:null,!_.m),0<_.O&&(_.M=new Ce(h(_.Y,_,_.g),_.O)),P=_.U,F=_.g,G=_.ca;var he="readystatechange";Array.isArray(he)||(he&&(yt[0]=he.toString()),he=yt);for(var ye=0;ye<he.length;ye++){var Re=Be(F,he[ye],G||P.handleEvent,!1,P.h||P);if(!Re)break;P.g[Re.key]=Re}P=_.H?A(_.H):{},_.m?(_.u||(_.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,P)):(_.u="GET",_.g.ea(_.A,_.u,null,P)),Dl(),Q1(_.i,_.u,_.A,_.l,_.R,_.m)}Cs.prototype.ca=function(_){_=_.target;const P=this.M;P&&ua(_)==3?P.j():this.Y(_)},Cs.prototype.Y=function(_){try{if(_==this.g)e:{const yn=ua(this.g);var P=this.g.Ba();const sc=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||vN(this.g)))){this.J||yn!=4||P==7||(P==8||0>=sc?Dl(3):Dl(2)),oh(this);var F=this.g.Z();this.X=F;t:if(gp(this)){var G=vN(this.g);_="";var he=G.length,ye=ua(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Ms(this);var Re="";break t}this.h.i=new o.TextDecoder}for(P=0;P<he;P++)this.h.h=!0,_+=this.h.i.decode(G[P],{stream:!(ye&&P==he-1)});G.length=0,this.h.g+=_,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=F==200,X1(this.i,this.u,this.A,this.l,this.R,yn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var Xt,tn=this.g;if((Xt=tn.g?tn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Xt)){var Ot=Xt;break t}}Ot=null}if(F=Ot)ro(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lh(this,F);else{this.o=!1,this.s=3,Zr(12),mi(this),Ms(this);break e}}if(this.P){F=!0;let ns;for(;!this.J&&this.C<Re.length;)if(ns=Il(this,Re),ns==sh){yn==4&&(this.s=4,Zr(14),F=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(ns==mp){this.s=4,Zr(15),ro(this.i,this.l,Re,"[Invalid Chunk]"),F=!1;break}else ro(this.i,this.l,ns,null),lh(this,ns);if(gp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||Re.length!=0||this.h.h||(this.s=1,Zr(16),F=!1),this.o=this.o&&F,!F)ro(this.i,this.l,Re,"[Invalid Chunked Response]"),mi(this),Ms(this);else if(0<Re.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),sx(vn),vn.M=!0,Zr(11))}}else ro(this.i,this.l,Re,null),lh(this,Re);yn==4&&mi(this),this.o&&!this.J&&(yn==4?SN(this.j,this):(this.o=!1,Mt(this)))}else Oj(this.g),F==400&&0<Re.indexOf("Unknown SID")?(this.s=3,Zr(12)):(this.s=0,Zr(13)),mi(this),Ms(this)}}}catch{}finally{}};function gp(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Il(_,P){var F=_.C,G=P.indexOf(`
`,F);return G==-1?sh:(F=Number(P.substring(F,G)),isNaN(F)?mp:(G+=1,G+F>P.length?sh:(P=P.slice(G,G+F),_.C=G+F,P)))}Cs.prototype.cancel=function(){this.J=!0,mi(this)};function Mt(_){_.S=Date.now()+_.I,en(_,_.I)}function en(_,P){if(_.B!=null)throw Error("WatchDog timer not null");_.B=Cl(h(_.ba,_),P)}function oh(_){_.B&&(o.clearTimeout(_.B),_.B=null)}Cs.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(J1(this.i,this.A),this.L!=2&&(Dl(),Zr(17)),mi(this),this.s=2,Ms(this)):en(this,this.S-_)};function Ms(_){_.j.G==0||_.J||SN(_.j,_)}function mi(_){oh(_);var P=_.M;P&&typeof P.ma=="function"&&P.ma(),_.M=null,Ge(_.U),_.g&&(P=_.g,_.g=null,P.abort(),P.ma())}function lh(_,P){try{var F=_.j;if(F.G!=0&&(F.g==_||ex(F.h,_))){if(!_.K&&ex(F.h,_)&&F.G==3){try{var G=F.Da.g.parse(P)}catch{G=null}if(Array.isArray(G)&&G.length==3){var he=G;if(he[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<_.F)Ap(F),Ep(F);else break e;ix(F),Zr(18)}}else F.za=he[1],0<F.za-F.T&&37500>he[2]&&F.F&&F.v==0&&!F.C&&(F.C=Cl(h(F.Za,F),6e3));if(1>=tN(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else kl(F,11)}else if((_.K||F.g==_)&&Ap(F),!b(P))for(he=F.Da.g.parse(P),P=0;P<he.length;P++){let Ot=he[P];if(F.T=Ot[0],Ot=Ot[1],F.G==2)if(Ot[0]=="c"){F.K=Ot[1],F.ia=Ot[2];const vn=Ot[3];vn!=null&&(F.la=vn,F.j.info("VER="+F.la));const yn=Ot[4];yn!=null&&(F.Aa=yn,F.j.info("SVER="+F.Aa));const sc=Ot[5];sc!=null&&typeof sc=="number"&&0<sc&&(G=1.5*sc,F.L=G,F.j.info("backChannelRequestTimeoutMs_="+G)),G=F;const ns=_.g;if(ns){const Tp=ns.g?ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tp){var ye=G.h;ye.g||Tp.indexOf("spdy")==-1&&Tp.indexOf("quic")==-1&&Tp.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(tx(ye,ye.h),ye.h=null))}if(G.D){const ax=ns.g?ns.g.getResponseHeader("X-HTTP-Session-Id"):null;ax&&(G.ya=ax,tr(G.I,G.D,ax))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-_.F,F.j.info("Handshake RTT: "+F.R+"ms")),G=F;var Re=_;if(G.qa=TN(G,G.J?G.ia:null,G.W),Re.K){rN(G.h,Re);var Xt=Re,tn=G.L;tn&&(Xt.I=tn),Xt.B&&(oh(Xt),Mt(Xt)),G.g=Re}else _N(G);0<F.i.length&&Sp(F)}else Ot[0]!="stop"&&Ot[0]!="close"||kl(F,7);else F.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?kl(F,7):nx(F):Ot[0]!="noop"&&F.l&&F.l.ta(Ot),F.v=0)}}Dl(4)}catch{}}var xj=class{constructor(_,P){this.g=_,this.map=P}};function Z2(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eN(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function tN(_){return _.h?1:_.g?_.g.size:0}function ex(_,P){return _.h?_.h==P:_.g?_.g.has(P):!1}function tx(_,P){_.g?_.g.add(P):_.h=P}function rN(_,P){_.h&&_.h==P?_.h=null:_.g&&_.g.has(P)&&_.g.delete(P)}Z2.prototype.cancel=function(){if(this.i=nN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function nN(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let P=_.i;for(const F of _.g.values())P=P.concat(F.D);return P}return p(_.i)}function bj(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var P=[],F=_.length,G=0;G<F;G++)P.push(_[G]);return P}P=[],F=0;for(G in _)P[F++]=_[G];return P}function wj(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var P=[];_=_.length;for(var F=0;F<_;F++)P.push(F);return P}P=[],F=0;for(const G in _)P[F++]=G;return P}}}function iN(_,P){if(_.forEach&&typeof _.forEach=="function")_.forEach(P,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,P,void 0);else for(var F=wj(_),G=bj(_),he=G.length,ye=0;ye<he;ye++)P.call(void 0,G[ye],F&&F[ye],_)}var sN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _j(_,P){if(_){_=_.split("&");for(var F=0;F<_.length;F++){var G=_[F].indexOf("="),he=null;if(0<=G){var ye=_[F].substring(0,G);he=_[F].substring(G+1)}else ye=_[F];P(ye,he?decodeURIComponent(he.replace(/\+/g," ")):"")}}}function Pl(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Pl){this.h=_.h,vp(this,_.j),this.o=_.o,this.g=_.g,yp(this,_.s),this.l=_.l;var P=_.i,F=new fh;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),aN(this,F),this.m=_.m}else _&&(P=String(_).match(sN))?(this.h=!1,vp(this,P[1]||"",!0),this.o=uh(P[2]||""),this.g=uh(P[3]||"",!0),yp(this,P[4]),this.l=uh(P[5]||"",!0),aN(this,P[6]||"",!0),this.m=uh(P[7]||"")):(this.h=!1,this.i=new fh(null,this.h))}Pl.prototype.toString=function(){var _=[],P=this.j;P&&_.push(ch(P,oN,!0),":");var F=this.g;return(F||P=="file")&&(_.push("//"),(P=this.o)&&_.push(ch(P,oN,!0),"@"),_.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&_.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&_.push("/"),_.push(ch(F,F.charAt(0)=="/"?Aj:Sj,!0))),(F=this.i.toString())&&_.push("?",F),(F=this.m)&&_.push("#",ch(F,Tj)),_.join("")};function la(_){return new Pl(_)}function vp(_,P,F){_.j=F?uh(P,!0):P,_.j&&(_.j=_.j.replace(/:$/,""))}function yp(_,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);_.s=P}else _.s=null}function aN(_,P,F){P instanceof fh?(_.i=P,Dj(_.i,_.h)):(F||(P=ch(P,Nj)),_.i=new fh(P,_.h))}function tr(_,P,F){_.i.set(P,F)}function xp(_){return tr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function uh(_,P){return _?P?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ch(_,P,F){return typeof _=="string"?(_=encodeURI(_).replace(P,Ej),F&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Ej(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var oN=/[#\/\?@]/g,Sj=/[#\?:]/g,Aj=/[#\?]/g,Nj=/[#\?@]/g,Tj=/#/g;function fh(_,P){this.h=this.g=null,this.i=_||null,this.j=!!P}function no(_){_.g||(_.g=new Map,_.h=0,_.i&&_j(_.i,function(P,F){_.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}t=fh.prototype,t.add=function(_,P){no(this),this.i=null,_=nc(this,_);var F=this.g.get(_);return F||this.g.set(_,F=[]),F.push(P),this.h+=1,this};function lN(_,P){no(_),P=nc(_,P),_.g.has(P)&&(_.i=null,_.h-=_.g.get(P).length,_.g.delete(P))}function uN(_,P){return no(_),P=nc(_,P),_.g.has(P)}t.forEach=function(_,P){no(this),this.g.forEach(function(F,G){F.forEach(function(he){_.call(P,he,G,this)},this)},this)},t.na=function(){no(this);const _=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let G=0;G<P.length;G++){const he=_[G];for(let ye=0;ye<he.length;ye++)F.push(P[G])}return F},t.V=function(_){no(this);let P=[];if(typeof _=="string")uN(this,_)&&(P=P.concat(this.g.get(nc(this,_))));else{_=Array.from(this.g.values());for(let F=0;F<_.length;F++)P=P.concat(_[F])}return P},t.set=function(_,P){return no(this),this.i=null,_=nc(this,_),uN(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[P]),this.h+=1,this},t.get=function(_,P){return _?(_=this.V(_),0<_.length?String(_[0]):P):P};function cN(_,P,F){lN(_,P),0<F.length&&(_.i=null,_.g.set(nc(_,P),p(F)),_.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var G=P[F];const ye=encodeURIComponent(String(G)),Re=this.V(G);for(G=0;G<Re.length;G++){var he=ye;Re[G]!==""&&(he+="="+encodeURIComponent(String(Re[G]))),_.push(he)}}return this.i=_.join("&")};function nc(_,P){return P=String(P),_.j&&(P=P.toLowerCase()),P}function Dj(_,P){P&&!_.j&&(no(_),_.i=null,_.g.forEach(function(F,G){var he=G.toLowerCase();G!=he&&(lN(this,G),cN(this,he,F))},_)),_.j=P}function Cj(_,P){const F=new Ml;if(o.Image){const G=new Image;G.onload=d(io,F,"TestLoadImage: loaded",!0,P,G),G.onerror=d(io,F,"TestLoadImage: error",!1,P,G),G.onabort=d(io,F,"TestLoadImage: abort",!1,P,G),G.ontimeout=d(io,F,"TestLoadImage: timeout",!1,P,G),o.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=_}else P(!1)}function Mj(_,P){const F=new Ml,G=new AbortController,he=setTimeout(()=>{G.abort(),io(F,"TestPingServer: timeout",!1,P)},1e4);fetch(_,{signal:G.signal}).then(ye=>{clearTimeout(he),ye.ok?io(F,"TestPingServer: ok",!0,P):io(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(he),io(F,"TestPingServer: error",!1,P)})}function io(_,P,F,G,he){try{he&&(he.onload=null,he.onerror=null,he.onabort=null,he.ontimeout=null),G(F)}catch{}}function Ij(){this.g=new Z}function Pj(_,P,F){const G=F||"";try{iN(_,function(he,ye){let Re=he;u(he)&&(Re=Rt(he)),P.push(G+ye+"="+encodeURIComponent(Re))})}catch(he){throw P.push(G+"type="+encodeURIComponent("_badmap")),he}}function bp(_){this.l=_.Ub||null,this.j=_.eb||!1}m(bp,de),bp.prototype.g=function(){return new wp(this.l,this.j)},bp.prototype.i=function(_){return function(){return _}}({});function wp(_,P){ae.call(this),this.D=_,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(wp,ae),t=wp.prototype,t.open=function(_,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=P,this.readyState=1,dh(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(P.body=_),(this.D||o).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hh(this)),this.readyState=0},t.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,dh(this)),this.g&&(this.readyState=3,dh(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fN(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function fN(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}t.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var P=_.value?_.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!_.done}))&&(this.response=this.responseText+=P)}_.done?hh(this):dh(this),this.readyState==3&&fN(this)}},t.Ra=function(_){this.g&&(this.response=this.responseText=_,hh(this))},t.Qa=function(_){this.g&&(this.response=_,hh(this))},t.ga=function(){this.g&&hh(this)};function hh(_){_.readyState=4,_.l=null,_.j=null,_.v=null,dh(_)}t.setRequestHeader=function(_,P){this.u.append(_,P)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,_.push(F[0]+": "+F[1]),F=P.next();return _.join(`\r
`)};function dh(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(wp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function hN(_){let P="";return E(_,function(F,G){P+=G,P+=":",P+=F,P+=`\r
`}),P}function rx(_,P,F){e:{for(G in F){var G=!1;break e}G=!0}G||(F=hN(F),typeof _=="string"?F!=null&&encodeURIComponent(String(F)):tr(_,P,F))}function vr(_){ae.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(vr,ae);var kj=/^https?$/i,Rj=["POST","PUT"];t=vr.prototype,t.Ha=function(_){this.J=_},t.ea=function(_,P,F,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);P=P?P.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ih.g(),this.v=this.o?_e(this.o):_e(ih),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(_),!0),this.B=!1}catch(ye){dN(this,ye);return}if(_=F||"",F=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var he in G)F.set(he,G[he]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ye of G.keys())F.set(ye,G.get(ye));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(F.keys()).find(ye=>ye.toLowerCase()=="content-type"),he=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Rj,P,void 0))||G||he||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Re]of F)this.g.setRequestHeader(ye,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gN(this),this.u=!0,this.g.send(_),this.u=!1}catch(ye){dN(this,ye)}};function dN(_,P){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=P,_.m=5,mN(_),_p(_)}function mN(_){_.A||(_.A=!0,le(_,"complete"),le(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,le(this,"complete"),le(this,"abort"),_p(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_p(this,!0)),vr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pN(this):this.bb())},t.bb=function(){pN(this)};function pN(_){if(_.h&&typeof a<"u"&&(!_.v[1]||ua(_)!=4||_.Z()!=2)){if(_.u&&ua(_)==4)Se(_.Ea,0,_);else if(le(_,"readystatechange"),ua(_)==4){_.h=!1;try{const Re=_.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var G;if(G=Re===0){var he=String(_.D).match(sN)[1]||null;!he&&o.self&&o.self.location&&(he=o.self.location.protocol.slice(0,-1)),G=!kj.test(he?he.toLowerCase():"")}F=G}if(F)le(_,"complete"),le(_,"success");else{_.m=6;try{var ye=2<ua(_)?_.g.statusText:""}catch{ye=""}_.l=ye+" ["+_.Z()+"]",mN(_)}}finally{_p(_)}}}}function _p(_,P){if(_.g){gN(_);const F=_.g,G=_.v[0]?()=>{}:null;_.g=null,_.v=null,P||le(_,"ready");try{F.onreadystatechange=G}catch{}}}function gN(_){_.I&&(o.clearTimeout(_.I),_.I=null)}t.isActive=function(){return!!this.g};function ua(_){return _.g?_.g.readyState:0}t.Z=function(){try{return 2<ua(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(_){if(this.g){var P=this.g.responseText;return _&&P.indexOf(_)==0&&(P=P.substring(_.length)),R(P)}};function vN(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Oj(_){const P={};_=(_.g&&2<=ua(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<_.length;G++){if(b(_[G]))continue;var F=C(_[G]);const he=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ye=P[he]||[];P[he]=ye,ye.push(F)}S(P,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mh(_,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[_]||P}function yN(_){this.Aa=0,this.i=[],this.j=new Ml,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mh("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mh("baseRetryDelayMs",5e3,_),this.cb=mh("retryDelaySeedMs",1e4,_),this.Wa=mh("forwardChannelMaxRetries",2,_),this.wa=mh("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new Z2(_&&_.concurrentRequestLimit),this.Da=new Ij,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yN.prototype,t.la=8,t.G=1,t.connect=function(_,P,F,G){Zr(0),this.W=_,this.H=P||{},F&&G!==void 0&&(this.H.OSID=F,this.H.OAID=G),this.F=this.X,this.I=TN(this,null,this.W),Sp(this)};function nx(_){if(xN(_),_.G==3){var P=_.U++,F=la(_.I);if(tr(F,"SID",_.K),tr(F,"RID",P),tr(F,"TYPE","terminate"),ph(_,F),P=new Cs(_,_.j,P),P.L=2,P.v=xp(la(F)),F=!1,o.navigator&&o.navigator.sendBeacon)try{F=o.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&o.Image&&(new Image().src=P.v,F=!0),F||(P.g=DN(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Mt(P)}NN(_)}function Ep(_){_.g&&(sx(_),_.g.cancel(),_.g=null)}function xN(_){Ep(_),_.u&&(o.clearTimeout(_.u),_.u=null),Ap(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function Sp(_){if(!eN(_.h)&&!_.s){_.s=!0;var P=_.Ga;L||Y(),B||(L(),B=!0),$.add(P,_),_.B=0}}function Fj(_,P){return tN(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=P.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=Cl(h(_.Ga,_,P),AN(_,_.B)),_.B++,!0)}t.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const he=new Cs(this,this.j,_);let ye=this.o;if(this.S&&(ye?(ye=A(ye),D(ye,this.S)):ye=this.S),this.m!==null||this.O||(he.H=ye,ye=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var G=this.i[F];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(P+=G,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=wN(this,he,P),F=la(this.I),tr(F,"RID",_),tr(F,"CVER",22),this.D&&tr(F,"X-HTTP-Session-Id",this.D),ph(this,F),ye&&(this.O?P="headers="+encodeURIComponent(String(hN(ye)))+"&"+P:this.m&&rx(F,this.m,ye)),tx(this.h,he),this.Ua&&tr(F,"TYPE","init"),this.P?(tr(F,"$req",P),tr(F,"SID","null"),he.T=!0,ah(he,F,null)):ah(he,F,P),this.G=2}}else this.G==3&&(_?bN(this,_):this.i.length==0||eN(this.h)||bN(this))};function bN(_,P){var F;P?F=P.l:F=_.U++;const G=la(_.I);tr(G,"SID",_.K),tr(G,"RID",F),tr(G,"AID",_.T),ph(_,G),_.m&&_.o&&rx(G,_.m,_.o),F=new Cs(_,_.j,F,_.B+1),_.m===null&&(F.H=_.o),P&&(_.i=P.D.concat(_.i)),P=wN(_,F,1e3),F.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),tx(_.h,F),ah(F,G,P)}function ph(_,P){_.H&&E(_.H,function(F,G){tr(P,G,F)}),_.l&&iN({},function(F,G){tr(P,G,F)})}function wN(_,P,F){F=Math.min(_.i.length,F);var G=_.l?h(_.l.Na,_.l,_):null;e:{var he=_.i;let ye=-1;for(;;){const Re=["count="+F];ye==-1?0<F?(ye=he[0].g,Re.push("ofs="+ye)):ye=0:Re.push("ofs="+ye);let Xt=!0;for(let tn=0;tn<F;tn++){let Ot=he[tn].g;const vn=he[tn].map;if(Ot-=ye,0>Ot)ye=Math.max(0,he[tn].g-100),Xt=!1;else try{Pj(vn,Re,"req"+Ot+"_")}catch{G&&G(vn)}}if(Xt){G=Re.join("&");break e}}}return _=_.i.splice(0,F),P.D=_,G}function _N(_){if(!_.g&&!_.u){_.Y=1;var P=_.Fa;L||Y(),B||(L(),B=!0),$.add(P,_),_.v=0}}function ix(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=Cl(h(_.Fa,_),AN(_,_.v)),_.v++,!0)}t.Fa=function(){if(this.u=null,EN(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=Cl(h(this.ab,this),_)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Zr(10),Ep(this),EN(this))};function sx(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function EN(_){_.g=new Cs(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var P=la(_.qa);tr(P,"RID","rpc"),tr(P,"SID",_.K),tr(P,"AID",_.T),tr(P,"CI",_.F?"0":"1"),!_.F&&_.ja&&tr(P,"TO",_.ja),tr(P,"TYPE","xmlhttp"),ph(_,P),_.m&&_.o&&rx(P,_.m,_.o),_.L&&(_.g.I=_.L);var F=_.g;_=_.ia,F.L=1,F.v=xp(la(P)),F.m=null,F.P=!0,pp(F,_)}t.Za=function(){this.C!=null&&(this.C=null,Ep(this),ix(this),Zr(19))};function Ap(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function SN(_,P){var F=null;if(_.g==P){Ap(_),sx(_),_.g=null;var G=2}else if(ex(_.h,P))F=P.D,rN(_.h,P),G=1;else return;if(_.G!=0){if(P.o)if(G==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var he=_.B;G=ec(),le(G,new fp(G,F)),Sp(_)}else _N(_);else if(he=P.s,he==3||he==0&&0<P.X||!(G==1&&Fj(_,P)||G==2&&ix(_)))switch(F&&0<F.length&&(P=_.h,P.i=P.i.concat(F)),he){case 1:kl(_,5);break;case 4:kl(_,10);break;case 3:kl(_,6);break;default:kl(_,2)}}}function AN(_,P){let F=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(F*=2),F*P}function kl(_,P){if(_.j.info("Error code "+P),P==2){var F=h(_.fb,_),G=_.Xa;const he=!G;G=new Pl(G||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||vp(G,"https"),xp(G),he?Cj(G.toString(),F):Mj(G.toString(),F)}else Zr(2);_.G=0,_.l&&_.l.sa(P),NN(_),xN(_)}t.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Zr(2)):(this.j.info("Failed to ping google.com"),Zr(1))};function NN(_){if(_.G=0,_.ka=[],_.l){const P=nN(_.h);(P.length!=0||_.i.length!=0)&&(g(_.ka,P),g(_.ka,_.i),_.h.i.length=0,p(_.i),_.i.length=0),_.l.ra()}}function TN(_,P,F){var G=F instanceof Pl?la(F):new Pl(F);if(G.g!="")P&&(G.g=P+"."+G.g),yp(G,G.s);else{var he=o.location;G=he.protocol,P=P?P+"."+he.hostname:he.hostname,he=+he.port;var ye=new Pl(null);G&&vp(ye,G),P&&(ye.g=P),he&&yp(ye,he),F&&(ye.l=F),G=ye}return F=_.D,P=_.ya,F&&P&&tr(G,F,P),tr(G,"VER",_.la),ph(_,G),G}function DN(_,P,F){if(P&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=_.Ca&&!_.pa?new vr(new bp({eb:F})):new vr(_.pa),P.Ha(_.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function CN(){}t=CN.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Np(){}Np.prototype.g=function(_,P){return new pi(_,P)};function pi(_,P){ae.call(this),this.g=new yN(P),this.l=_,this.h=P&&P.messageUrlParams||null,_=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(_?_["X-WebChannel-Content-Type"]=P.messageContentType:_={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(_?_["X-WebChannel-Client-Profile"]=P.va:_={"X-WebChannel-Client-Profile":P.va}),this.g.S=_,(_=P&&P.Sb)&&!b(_)&&(this.g.m=_),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!b(P)&&(this.g.D=P,_=this.h,_!==null&&P in _&&(_=this.h,P in _&&delete _[P])),this.j=new ic(this)}m(pi,ae),pi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pi.prototype.close=function(){nx(this.g)},pi.prototype.o=function(_){var P=this.g;if(typeof _=="string"){var F={};F.__data__=_,_=F}else this.u&&(F={},F.__data__=Rt(_),_=F);P.i.push(new xj(P.Ya++,_)),P.G==3&&Sp(P)},pi.prototype.N=function(){this.g.l=null,delete this.j,nx(this.g),delete this.g,pi.aa.N.call(this)};function MN(_){cr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var P=_.__sm__;if(P){e:{for(const F in P){_=F;break e}_=void 0}(this.i=_)&&(_=this.i,P=P!==null&&_ in P?P[_]:void 0),this.data=P}else this.data=_}m(MN,cr);function IN(){Tl.call(this),this.status=1}m(IN,Tl);function ic(_){this.g=_}m(ic,CN),ic.prototype.ua=function(){le(this.g,"a")},ic.prototype.ta=function(_){le(this.g,new MN(_))},ic.prototype.sa=function(_){le(this.g,new IN)},ic.prototype.ra=function(){le(this.g,"b")},Np.prototype.createWebChannel=Np.prototype.g,pi.prototype.send=pi.prototype.o,pi.prototype.open=pi.prototype.m,pi.prototype.close=pi.prototype.close,SL=function(){return new Np},EL=function(){return ec()},_L=oa,l_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tc.NO_ERROR=0,tc.TIMEOUT=8,tc.HTTP_ERROR=6,av=tc,hp.COMPLETE="complete",wL=hp,Ye.EventType=Xe,Xe.OPEN="a",Xe.CLOSE="b",Xe.ERROR="c",Xe.MESSAGE="d",ae.prototype.listen=ae.prototype.K,zh=Ye,vr.prototype.listenOnce=vr.prototype.L,vr.prototype.getLastError=vr.prototype.Ka,vr.prototype.getLastErrorCode=vr.prototype.Ba,vr.prototype.getStatus=vr.prototype.Z,vr.prototype.getResponseJson=vr.prototype.Oa,vr.prototype.getResponseText=vr.prototype.oa,vr.prototype.send=vr.prototype.ea,vr.prototype.setWithCredentials=vr.prototype.Ha,bL=vr}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});const XC="@firebase/firestore",JC="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nn.UNAUTHENTICATED=new Nn(null),Nn.GOOGLE_CREDENTIALS=new Nn("google-credentials-uid"),Nn.FIRST_PARTY=new Nn("first-party-uid"),Nn.MOCK_USER=new Nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Qy("@firebase/firestore");function pc(){return Eu.logLevel}function $e(t,...e){if(Eu.logLevel<=St.DEBUG){const r=e.map(YS);Eu.debug(`Firestore (${$f}): ${t}`,...r)}}function qa(t,...e){if(Eu.logLevel<=St.ERROR){const r=e.map(YS);Eu.error(`Firestore (${$f}): ${t}`,...r)}}function gf(t,...e){if(Eu.logLevel<=St.WARN){const r=e.map(YS);Eu.warn(`Firestore (${$f}): ${t}`,...r)}}function YS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,AL(t,n,r)}function AL(t,e,r){let n=`FIRESTORE (${$f}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw qa(n),new Error(n)}function Lt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||AL(e,i,n)}function ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const we={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends es{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Nn.UNAUTHENTICATED))}shutdown(){}}class Yte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Qte{constructor(e){this.t=e,this.currentUser=Nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Lt(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ws,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ws)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Lt(typeof n.accessToken=="string",31837,{l:n}),new NL(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new Nn(e)}}class Xte{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=Nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Jte{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Xte(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(Nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Zte{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Lt(this.o===void 0,3512);const n=s=>{s.error!=null&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ZC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Lt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new ZC(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ere(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=ere(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function At(t,e){return t<e?-1:t>e?1:0}function u_(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return sb(i)===sb(s)?At(i,s):sb(i)?1:-1}return At(t.length,e.length)}const tre=55296,rre=57343;function sb(t){const e=t.charCodeAt(0);return e>=tre&&e<=rre}function vf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="__name__";class Bs{constructor(e,r,n){r===void 0?r=0:r>e.length&&it(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&it(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Bs.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Bs?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=Bs.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return At(e.length,r.length)}static compareSegments(e,r){const n=Bs.isNumericId(e),i=Bs.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Bs.extractNumericId(e).compare(Bs.extractNumericId(r)):u_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Uo.fromString(e.substring(4,e.length-2))}}class Zt extends Bs{construct(e,r,n){return new Zt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Le(we.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Zt(r)}static emptyPath(){return new Zt([])}}const nre=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Bs{construct(e,r,n){return new on(e,r,n)}static isValidIdentifier(e){return nre.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===eM}static keyField(){return new on([eM])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Le(we.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Le(we.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Le(we.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Le(we.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(r)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Zt.fromString(e))}static fromName(e){return new Ze(Zt.fromString(e).popFirst(5))}static empty(){return new Ze(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Zt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(t,e,r){if(!r)throw new Le(we.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ire(t,e,r,n){if(e===!0&&n===!0)throw new Le(we.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function tM(t){if(!Ze.isDocumentKey(t))throw new Le(we.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rM(t){if(Ze.isDocumentKey(t))throw new Le(we.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DL(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function t1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it(12329,{type:typeof t})}function ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(we.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=t1(t);throw new Le(we.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function sre(t,e){if(e<=0)throw new Le(we.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){const r={typeString:t};return e&&(r.value=e),r}function zm(t,e){if(!DL(t))throw new Le(we.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new Le(we.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=-62135596800,iM=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*iM);return new ir(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Le(we.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<nM)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(we.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iM}_compareTo(e){return this.seconds===e.seconds?At(this.nanoseconds,e.nanoseconds):At(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ir._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zm(e,ir._jsonSchema))return new ir(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ir._jsonSchemaVersion="firestore/timestamp/1.0",ir._jsonSchema={type:kr("string",ir._jsonSchemaVersion),seconds:kr("number"),nanoseconds:kr("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new ir(0,0))}static max(){return new ct(new ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=-1;function are(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new Jo(i,Ze.empty(),e)}function ore(t){return new Jo(t.readTime,t.key,im)}class Jo{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Jo(ct.min(),Ze.empty(),im)}static max(){return new Jo(ct.max(),Ze.empty(),im)}}function lre(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ze.comparator(t.documentKey,e.documentKey),r!==0?r:At(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ure="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cre{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zf(t){if(t.code!==we.FAILED_PRECONDITION||t.message!==ure)throw t;$e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ee((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ee?r:Ee.resolve(r)}catch(r){return Ee.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ee.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ee.reject(r)}static resolve(e){return new Ee((r,n)=>{r(e)})}static reject(e){return new Ee((r,n)=>{n(e)})}static waitFor(e){return new Ee((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=Ee.resolve(!1);for(const n of e)r=r.next(i=>i?Ee.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Ee((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new Ee((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function fre(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function jf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}r1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=-1;function n1(t){return t==null}function p0(t){return t===0&&1/t==-1/0}function hre(t){return typeof t=="number"&&Number.isInteger(t)&&!p0(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="";function dre(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=sM(e)),e=mre(t.get(r),e);return sM(e)}function mre(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case CL:r+="";break;default:r+=s}}return r}function sM(t){return t+CL+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function gl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function pre(t,e){const r=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.push(e(t[n],n,t));return r}function ML(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r){this.comparator=e,this.root=r||an.EMPTY}insert(e,r){return new gr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jp(this.root,e,this.comparator,!0)}}class Jp{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??an.RED,this.left=i??an.EMPTY,this.right=s??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new an(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return an.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw it(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new an(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new oM(this.data.getIterator())}getIteratorFrom(e){return new oM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new jr(this.comparator);return r.data=e,r}}class oM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new bi([])}unionWith(e){let r=new jr(on.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new bi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return vf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new IL("Invalid base64 string: "+s):s}}(e);return new dn(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new dn(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return At(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const gre=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(t){if(Lt(!!t,39018),typeof t=="string"){let e=0;const r=gre.exec(t);if(Lt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Nr(t.seconds),nanos:Nr(t.nanos)}}function Nr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function el(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="server_timestamp",kL="__type__",RL="__previous_value__",OL="__local_write_time__";function JS(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[kL])==null?void 0:n.stringValue)===PL}function i1(t){const e=t.mapValue.fields[RL];return JS(e)?i1(e):e}function sm(t){const e=Zo(t.mapValue.fields[OL].timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e,r,n,i,s,a,o,l,u,c){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const g0="(default)";class am{constructor(e,r){this.projectId=e,this.database=r||g0}static empty(){return new am("","")}get isDefaultDatabase(){return this.database===g0}isEqual(e){return e instanceof am&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="__type__",yre="__max__",Zp={mapValue:{}},BL="__vector__",v0="value";function tl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JS(t)?4:bre(t)?9007199254740991:xre(t)?10:11:it(28295,{value:t})}function Js(t,e){if(t===e)return!0;const r=tl(t);if(r!==tl(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sm(t).isEqual(sm(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Zo(i.timestampValue),o=Zo(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return el(i.bytesValue).isEqual(el(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Nr(i.geoPointValue.latitude)===Nr(s.geoPointValue.latitude)&&Nr(i.geoPointValue.longitude)===Nr(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nr(i.integerValue)===Nr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Nr(i.doubleValue),o=Nr(s.doubleValue);return a===o?p0(a)===p0(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return vf(t.arrayValue.values||[],e.arrayValue.values||[],Js);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(aM(a)!==aM(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Js(a[l],o[l])))return!1;return!0}(t,e);default:return it(52216,{left:t})}}function om(t,e){return(t.values||[]).find(r=>Js(r,e))!==void 0}function yf(t,e){if(t===e)return 0;const r=tl(t),n=tl(e);if(r!==n)return At(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return At(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Nr(s.integerValue||s.doubleValue),l=Nr(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return lM(t.timestampValue,e.timestampValue);case 4:return lM(sm(t),sm(e));case 5:return u_(t.stringValue,e.stringValue);case 6:return function(s,a){const o=el(s),l=el(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=At(o[u],l[u]);if(c!==0)return c}return At(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=At(Nr(s.latitude),Nr(a.latitude));return o!==0?o:At(Nr(s.longitude),Nr(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return uM(t.arrayValue,e.arrayValue);case 10:return function(s,a){var h,d,m,p;const o=s.fields||{},l=a.fields||{},u=(h=o[v0])==null?void 0:h.arrayValue,c=(d=l[v0])==null?void 0:d.arrayValue,f=At(((m=u==null?void 0:u.values)==null?void 0:m.length)||0,((p=c==null?void 0:c.values)==null?void 0:p.length)||0);return f!==0?f:uM(u,c)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Zp.mapValue&&a===Zp.mapValue)return 0;if(s===Zp.mapValue)return 1;if(a===Zp.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=u_(l[f],c[f]);if(h!==0)return h;const d=yf(o[l[f]],u[c[f]]);if(d!==0)return d}return At(l.length,c.length)}(t.mapValue,e.mapValue);default:throw it(23264,{he:r})}}function lM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return At(t,e);const r=Zo(t),n=Zo(e),i=At(r.seconds,n.seconds);return i!==0?i:At(r.nanos,n.nanos)}function uM(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=yf(r[i],n[i]);if(s)return s}return At(r.length,n.length)}function xf(t){return c_(t)}function c_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Zo(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return el(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ze.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=c_(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${c_(r.fields[a])}`;return i+"}"}(t.mapValue):it(61005,{value:t})}function ov(t){switch(tl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=i1(t);return e?16+ov(e):16;case 5:return 2*t.stringValue.length;case 6:return el(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+ov(s),0)}(t.arrayValue);case 10:case 11:return function(n){let i=0;return gl(n.fields,(s,a)=>{i+=s.length+ov(a)}),i}(t.mapValue);default:throw it(13486,{value:t})}}function cM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function f_(t){return!!t&&"integerValue"in t}function ZS(t){return!!t&&"arrayValue"in t}function fM(t){return!!t&&"nullValue"in t}function hM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lv(t){return!!t&&"mapValue"in t}function xre(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[FL])==null?void 0:n.stringValue)===BL}function md(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return gl(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=md(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=md(t.arrayValue.values[r]);return e}return{...t}}function bre(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===yre}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!lv(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(r)}setAll(e){let r=on.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=md(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());lv(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Js(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];lv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){gl(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new ri(md(this.value))}}function LL(t){const e=[];return gl(t.fields,(r,n)=>{const i=new on([r]);if(lv(n)){const s=LL(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new bi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Dn(e,0,ct.min(),ct.min(),ct.min(),ri.empty(),0)}static newFoundDocument(e,r,n,i){return new Dn(e,1,r,ct.min(),n,i,0)}static newNoDocument(e,r){return new Dn(e,2,r,ct.min(),ct.min(),ri.empty(),0)}static newUnknownDocument(e,r){return new Dn(e,3,r,ct.min(),ct.min(),ri.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r){this.position=e,this.inclusive=r}}function dM(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ze.comparator(Ze.fromName(a.referenceValue),r.key):n=yf(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function mM(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Js(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r="asc"){this.field=e,this.dir=r}}function wre(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{}class Pr extends VL{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Ere(e,r,n):r==="array-contains"?new Nre(e,n):r==="in"?new Tre(e,n):r==="not-in"?new Dre(e,n):r==="array-contains-any"?new Cre(e,n):new Pr(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Sre(e,n):new Are(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(yf(r,this.value)):r!==null&&tl(this.value)===tl(r)&&this.matchesComparison(yf(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ws extends VL{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new ws(e,r)}matches(e){return $L(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $L(t){return t.op==="and"}function zL(t){return _re(t)&&$L(t)}function _re(t){for(const e of t.filters)if(e instanceof ws)return!1;return!0}function h_(t){if(t instanceof Pr)return t.field.canonicalString()+t.op.toString()+xf(t.value);if(zL(t))return t.filters.map(e=>h_(e)).join(",");{const e=t.filters.map(r=>h_(r)).join(",");return`${t.op}(${e})`}}function jL(t,e){return t instanceof Pr?function(n,i){return i instanceof Pr&&n.op===i.op&&n.field.isEqual(i.field)&&Js(n.value,i.value)}(t,e):t instanceof ws?function(n,i){return i instanceof ws&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&jL(a,i.filters[o]),!0):!1}(t,e):void it(19439)}function UL(t){return t instanceof Pr?function(r){return`${r.field.canonicalString()} ${r.op} ${xf(r.value)}`}(t):t instanceof ws?function(r){return r.op.toString()+" {"+r.getFilters().map(UL).join(" ,")+"}"}(t):"Filter"}class Ere extends Pr{constructor(e,r,n){super(e,r,n),this.key=Ze.fromName(n.referenceValue)}matches(e){const r=Ze.comparator(e.key,this.key);return this.matchesComparison(r)}}class Sre extends Pr{constructor(e,r){super(e,"in",r),this.keys=qL("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Are extends Pr{constructor(e,r){super(e,"not-in",r),this.keys=qL("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function qL(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map(n=>Ze.fromName(n.referenceValue))}class Nre extends Pr{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return ZS(r)&&om(r.arrayValue,this.value)}}class Tre extends Pr{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&om(this.value.arrayValue,r)}}class Dre extends Pr{constructor(e,r){super(e,"not-in",r)}matches(e){if(om(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!om(this.value.arrayValue,r)}}class Cre extends Pr{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!ZS(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>om(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function pM(t,e=null,r=[],n=[],i=null,s=null,a=null){return new Mre(t,e,r,n,i,s,a)}function eA(t){const e=ut(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>h_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),n1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>xf(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>xf(n)).join(",")),e.Te=r}return e.Te}function tA(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!wre(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!jL(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!mM(t.startAt,e.startAt)&&mM(t.endAt,e.endAt)}function d_(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ire(t,e,r,n,i,s,a,o){return new Uf(t,e,r,n,i,s,a,o)}function s1(t){return new Uf(t)}function gM(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function HL(t){return t.collectionGroup!==null}function pd(t){const e=ut(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new jr(on.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new lm(s,n))}),r.has(on.keyField().canonicalString())||e.Ie.push(new lm(on.keyField(),n))}return e.Ie}function Gs(t){const e=ut(t);return e.Ee||(e.Ee=WL(e,pd(t))),e.Ee}function Pre(t){const e=ut(t);return e.de||(e.de=WL(e,t.explicitOrderBy)),e.de}function WL(t,e){if(t.limitType==="F")return pM(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new lm(i.field,s)});const r=t.endAt?new y0(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new y0(t.startAt.position,t.startAt.inclusive):null;return pM(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function m_(t,e){const r=t.filters.concat([e]);return new Uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function x0(t,e,r){return new Uf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function a1(t,e){return tA(Gs(t),Gs(e))&&t.limitType===e.limitType}function GL(t){return`${eA(Gs(t))}|lt:${t.limitType}`}function gc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>UL(i)).join(", ")}]`),n1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>xf(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>xf(i)).join(",")),`Target(${n})`}(Gs(t))}; limitType=${t.limitType})`}function o1(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ze.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of pd(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=dM(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,pd(n),i)||n.endAt&&!function(a,o,l){const u=dM(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,pd(n),i))}(t,e)}function kre(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KL(t){return(e,r)=>{let n=!1;for(const i of pd(t)){const s=Rre(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Rre(t,e,r){const n=t.field.isKeyField()?Ze.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?yf(l,u):it(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return it(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gl(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return ML(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore=new gr(Ze.comparator);function Ha(){return Ore}const YL=new gr(Ze.comparator);function jh(...t){let e=YL;for(const r of t)e=e.insert(r.key,r);return e}function QL(t){let e=YL;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function tu(){return gd()}function XL(){return gd()}function gd(){return new Vu(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fre=new gr(Ze.comparator),Bre=new jr(Ze.comparator);function Nt(...t){let e=Bre;for(const r of t)e=e.add(r);return e}const Lre=new jr(At);function Vre(){return Lre}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:p0(e)?"-0":e}}function JL(t){return{integerValue:""+t}}function $re(t,e){return hre(e)?JL(e):rA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this._=void 0}}function zre(t,e,r){return t instanceof b0?function(i,s){const a={fields:{[kL]:{stringValue:PL},[OL]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&JS(s)&&(s=i1(s)),s&&(a.fields[RL]=s),{mapValue:a}}(r,e):t instanceof um?e9(t,e):t instanceof cm?t9(t,e):function(i,s){const a=ZL(i,s),o=vM(a)+vM(i.Ae);return f_(a)&&f_(i.Ae)?JL(o):rA(i.serializer,o)}(t,e)}function jre(t,e,r){return t instanceof um?e9(t,e):t instanceof cm?t9(t,e):r}function ZL(t,e){return t instanceof w0?function(n){return f_(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class b0 extends l1{}class um extends l1{constructor(e){super(),this.elements=e}}function e9(t,e){const r=r9(e);for(const n of t.elements)r.some(i=>Js(i,n))||r.push(n);return{arrayValue:{values:r}}}class cm extends l1{constructor(e){super(),this.elements=e}}function t9(t,e){let r=r9(e);for(const n of t.elements)r=r.filter(i=>!Js(i,n));return{arrayValue:{values:r}}}class w0 extends l1{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function vM(t){return Nr(t.integerValue||t.doubleValue)}function r9(t){return ZS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ure(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof um&&i instanceof um||n instanceof cm&&i instanceof cm?vf(n.elements,i.elements,Js):n instanceof w0&&i instanceof w0?Js(n.Ae,i.Ae):n instanceof b0&&i instanceof b0}(t.transform,e.transform)}class qre{constructor(e,r){this.version=e,this.transformResults=r}}class vs{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new vs}static exists(e){return new vs(void 0,e)}static updateTime(e){return new vs(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class u1{}function n9(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new s9(t.key,vs.none()):new jm(t.key,t.data,vs.none());{const r=t.data,n=ri.empty();let i=new jr(on.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new vl(t.key,n,new bi(i.toArray()),vs.none())}}function Hre(t,e,r){t instanceof jm?function(i,s,a){const o=i.value.clone(),l=xM(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof vl?function(i,s,a){if(!uv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=xM(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(i9(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function vd(t,e,r,n){return t instanceof jm?function(s,a,o,l){if(!uv(s.precondition,a))return o;const u=s.value.clone(),c=bM(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof vl?function(s,a,o,l){if(!uv(s.precondition,a))return o;const u=bM(s.fieldTransforms,l,a),c=a.data;return c.setAll(i9(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return uv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function Wre(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=ZL(n.transform,i||null);s!=null&&(r===null&&(r=ri.empty()),r.set(n.field,s))}return r||null}function yM(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&vf(n,i,(s,a)=>Ure(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jm extends u1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends u1{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i9(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function xM(t,e,r){const n=new Map;Lt(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,jre(a,o,r[i]))}return n}function bM(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,zre(s,a,e))}return n}class s9 extends u1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gre extends u1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hre(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=vd(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=vd(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=XL();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=n9(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ct.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Nt())}isEqual(e){return this.batchId===e.batchId&&vf(this.mutations,e.mutations,(r,n)=>yM(r,n))&&vf(this.baseMutations,e.baseMutations,(r,n)=>yM(r,n))}}class nA{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Lt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return Fre}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new nA(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qre{constructor(e,r,n){this.alias=e,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr,It;function Jre(t){switch(t){case we.OK:return it(64938);case we.CANCELLED:case we.UNKNOWN:case we.DEADLINE_EXCEEDED:case we.RESOURCE_EXHAUSTED:case we.INTERNAL:case we.UNAVAILABLE:case we.UNAUTHENTICATED:return!1;case we.INVALID_ARGUMENT:case we.NOT_FOUND:case we.ALREADY_EXISTS:case we.PERMISSION_DENIED:case we.FAILED_PRECONDITION:case we.ABORTED:case we.OUT_OF_RANGE:case we.UNIMPLEMENTED:case we.DATA_LOSS:return!0;default:return it(15467,{code:t})}}function a9(t){if(t===void 0)return qa("GRPC error has no .code"),we.UNKNOWN;switch(t){case Mr.OK:return we.OK;case Mr.CANCELLED:return we.CANCELLED;case Mr.UNKNOWN:return we.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return we.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return we.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return we.INTERNAL;case Mr.UNAVAILABLE:return we.UNAVAILABLE;case Mr.UNAUTHENTICATED:return we.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return we.INVALID_ARGUMENT;case Mr.NOT_FOUND:return we.NOT_FOUND;case Mr.ALREADY_EXISTS:return we.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return we.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return we.FAILED_PRECONDITION;case Mr.ABORTED:return we.ABORTED;case Mr.OUT_OF_RANGE:return we.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return we.UNIMPLEMENTED;case Mr.DATA_LOSS:return we.DATA_LOSS;default:return it(39323,{code:t})}}(It=Mr||(Mr={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zre(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=new Uo([4294967295,4294967295],0);function wM(t){const e=Zre().encode(t),r=new xL;return r.update(e),new Uint8Array(r.digest())}function _M(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Uo([r,n],0),new Uo([i,s],0)]}class iA{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Uh(`Invalid padding: ${r}`);if(n<0)throw new Uh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Uh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Uh(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Uo.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Uo.fromNumber(n)));return i.compare(ene)===1&&(i=new Uo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=wM(e),[n,i]=_M(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new iA(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const r=wM(e),[n,i]=_M(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Uh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Um.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new c1(ct.min(),i,new gr(At),Ha(),Nt())}}class Um{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Um(n,r,Nt(),Nt(),Nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class o9{constructor(e,r){this.targetId=e,this.Ce=r}}class l9{constructor(e,r,n=dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class EM{constructor(){this.ve=0,this.Fe=SM(),this.Me=dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Nt(),r=Nt(),n=Nt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:it(38017,{changeType:s})}}),new Um(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=SM()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class tne{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ha(),this.Je=eg(),this.He=eg(),this.Ye=new gr(At)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:it(56790,{state:e.state})}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(d_(s))if(n===0){const a=new Ze(s.path);this.et(r,a,Dn.newNoDocument(a,ct.min()))}else Lt(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=el(n).toUint8Array()}catch(l){if(l instanceof IL)return gf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new iA(a,i,s)}catch(l){return gf(l instanceof Uh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)}),i}Tt(e){const r=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&d_(o.target)){const l=new Ze(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Dn.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}});let n=Nt();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new c1(e,r,this.Ye,this.je,n);return this.je=Ha(),this.Je=eg(),this.He=eg(),this.Ye=new gr(At),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new EM,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new jr(At),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new jr(At),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||$e("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new EM),this.Ge.getRemoteKeysForTarget(e).forEach(r=>{this.et(e,r,null)})}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function eg(){return new gr(Ze.comparator)}function SM(){return new gr(Ze.comparator)}const rne={asc:"ASCENDING",desc:"DESCENDING"},nne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ine={and:"AND",or:"OR"};class sne{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function p_(t,e){return t.useProto3Json||n1(e)?e:{value:e}}function _0(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ane(t,e){return _0(t,e.toTimestamp())}function Ks(t){return Lt(!!t,49232),ct.fromTimestamp(function(r){const n=Zo(r);return new ir(n.seconds,n.nanos)}(t))}function sA(t,e){return g_(t,e).canonicalString()}function g_(t,e){const r=function(i){return new Zt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function c9(t){const e=Zt.fromString(t);return Lt(g9(e),10190,{key:e.toString()}),e}function v_(t,e){return sA(t.databaseId,e.path)}function ab(t,e){const r=c9(e);if(r.get(1)!==t.databaseId.projectId)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Le(we.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ze(h9(r))}function f9(t,e){return sA(t.databaseId,e)}function one(t){const e=c9(t);return e.length===4?Zt.emptyPath():h9(e)}function y_(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function h9(t){return Lt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AM(t,e,r){return{name:v_(t,e),fields:r.value.mapValue.fields}}function lne(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:it(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Lt(c===void 0||typeof c=="string",58123),dn.fromBase64String(c||"")):(Lt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),dn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?we.UNKNOWN:a9(u.code);return new Le(c,u.message||"")}(a);r=new l9(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ab(t,n.document.name),s=Ks(n.document.updateTime),a=n.document.createTime?Ks(n.document.createTime):ct.min(),o=new ri({mapValue:{fields:n.document.fields}}),l=Dn.newFoundDocument(i,s,a,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new cv(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ab(t,n.document),s=n.readTime?Ks(n.readTime):ct.min(),a=Dn.newNoDocument(i,s),o=n.removedTargetIds||[];r=new cv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ab(t,n.document),s=n.removedTargetIds||[];r=new cv([],s,i,null)}else{if(!("filter"in e))return it(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new Xre(i,s),o=n.targetId;r=new o9(o,a)}}return r}function une(t,e){let r;if(e instanceof jm)r={update:AM(t,e.key,e.value)};else if(e instanceof s9)r={delete:v_(t,e.key)};else if(e instanceof vl)r={update:AM(t,e.key,e.data),updateMask:yne(e.fieldMask)};else{if(!(e instanceof Gre))return it(16599,{Vt:e.type});r={verify:v_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof b0)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof um)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof w0)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw it(20930,{transform:a.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:ane(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:it(27497)}(t,e.precondition)),r}function cne(t,e){return t&&t.length>0?(Lt(e!==void 0,14353),t.map(r=>function(i,s){let a=i.updateTime?Ks(i.updateTime):Ks(s);return a.isEqual(ct.min())&&(a=Ks(s)),new qre(a,i.transformResults||[])}(r,e))):[]}function fne(t,e){return{documents:[f9(t,e.path)]}}function d9(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=f9(t,i);const s=function(u){if(u.length!==0)return p9(ws.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:_o(h.field),direction:pne(h.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=p_(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:r,parent:i}}function hne(t,e,r,n){const{ft:i,parent:s}=d9(t,e),a={},o=[];let l=0;return r.forEach(u=>{const c="aggregate_"+l++;a[c]=u.alias,u.aggregateType==="count"?o.push({alias:c,count:{}}):u.aggregateType==="avg"?o.push({alias:c,avg:{field:_o(u.fieldPath)}}):u.aggregateType==="sum"&&o.push({alias:c,sum:{field:_o(u.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}function dne(t){let e=one(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Lt(n===1,65062);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(f){const h=m9(f);return h instanceof ws&&zL(h)?h.getFilters():[h]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(h=>function(m){return new lm(vc(m.field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,n1(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new y0(d,h)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const h=!f.before,d=f.values||[];return new y0(d,h)}(r.endAt)),Ire(e,i,a,s,o,"F",l,u)}function mne(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:i})}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function m9(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=vc(r.unaryFilter.field);return Pr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=vc(r.unaryFilter.field);return Pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=vc(r.unaryFilter.field);return Pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=vc(r.unaryFilter.field);return Pr.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}}(t):t.fieldFilter!==void 0?function(r){return Pr.create(vc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ws.create(r.compositeFilter.filters.map(n=>m9(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it(1026)}}(r.compositeFilter.op))}(t):it(30097,{filter:t})}function pne(t){return rne[t]}function gne(t){return nne[t]}function vne(t){return ine[t]}function _o(t){return{fieldPath:t.canonicalString()}}function vc(t){return on.fromServerFormat(t.fieldPath)}function p9(t){return t instanceof Pr?function(r){if(r.op==="=="){if(hM(r.value))return{unaryFilter:{field:_o(r.field),op:"IS_NAN"}};if(fM(r.value))return{unaryFilter:{field:_o(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(hM(r.value))return{unaryFilter:{field:_o(r.field),op:"IS_NOT_NAN"}};if(fM(r.value))return{unaryFilter:{field:_o(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_o(r.field),op:gne(r.op),value:r.value}}}(t):t instanceof ws?function(r){const n=r.getFilters().map(i=>p9(i));return n.length===1?n[0]:{compositeFilter:{op:vne(r.op),filters:n}}}(t):it(54877,{filter:t})}function yne(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function g9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,r,n,i,s=ct.min(),a=ct.min(),o=dn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new No(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new No(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xne{constructor(e){this.yt=e}}function bne(t){const e=dne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?x0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(){this.Cn=new _ne}addToCollectionParentIndex(e,r){return this.Cn.add(r),Ee.resolve()}getCollectionParents(e,r){return Ee.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return Ee.resolve()}deleteFieldIndex(e,r){return Ee.resolve()}deleteAllFieldIndexes(e){return Ee.resolve()}createTargetIndexes(e,r){return Ee.resolve()}getDocumentsMatchingTarget(e,r){return Ee.resolve(null)}getIndexType(e,r){return Ee.resolve(0)}getFieldIndexes(e,r){return Ee.resolve([])}getNextCollectionGroupToUpdate(e){return Ee.resolve(null)}getMinOffset(e,r){return Ee.resolve(Jo.min())}getMinOffsetFromCollectionGroup(e,r){return Ee.resolve(Jo.min())}updateCollectionGroup(e,r,n){return Ee.resolve()}updateIndexEntries(e,r){return Ee.resolve()}}class _ne{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new jr(Zt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new jr(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},v9=41943040;class Jn{static withCacheSize(e){return new Jn(e,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(v9,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bf(0)}static cr(){return new bf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="LruGarbageCollector",Ene=1048576;function DM([t,e],[r,n]){const i=At(t,r);return i===0?At(e,n):i}class Sne{constructor(e){this.Ir=e,this.buffer=new jr(DM),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();DM(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ane{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){$e(TM,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){jf(r)?$e(TM,"Ignoring IndexedDB error during garbage collection: ",r):await zf(r)}await this.Vr(3e5)})}}class Nne{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ee.resolve(r1.ce);const n=new Sne(r);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?($e("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(NM)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NM):this.yr(e,r))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(e,n,r))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),pc()<=St.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function Tne(t,e){return new Nne(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(){this.changes=new Vu(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ee.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&vd(n.mutation,i,bi.empty(),ir.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Nt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Nt()){const i=tu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=jh();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=tu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Nt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Ha();const a=gd(),o=function(){return gd()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof vl)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),vd(c.mutation,u,c.mutation.getFieldMask(),ir.now())):a.set(u.key,bi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>o.set(u,new Cne(c,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,r){const n=gd();let i=new gr((a,o)=>a-o),s=Nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||bi.empty();c=o.applyToLocalView(u,c),n.set(l,c);const f=(i.get(o.batchId)||Nt()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,f=XL();c.forEach(h=>{if(!s.has(h)){const d=n9(r.get(h),n.get(h));d!==null&&f.set(h,d),s=s.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Ee.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ze.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):HL(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Ee.resolve(tu());let o=im,l=s;return a.next(u=>Ee.forEach(u,(c,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(c)?Ee.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Nt())).next(c=>({batchId:o,changes:QL(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ze(r)).next(n=>{let i=jh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=jh();return this.indexManager.getCollectionParents(e,s).next(o=>Ee.forEach(o,l=>{const u=function(f,h){return new Uf(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Dn.newInvalidDocument(c)))});let o=jh();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&vd(c.mutation,u,bi.empty(),ir.now()),o1(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return Ee.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ks(i.createTime)}}(r)),Ee.resolve()}getNamedQuery(e,r){return Ee.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,function(i){return{name:i.name,query:bne(i.bundledQuery),readTime:Ks(i.readTime)}}(r)),Ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(){this.overlays=new gr(Ze.comparator),this.qr=new Map}getOverlay(e,r){return Ee.resolve(this.overlays.get(r))}getOverlays(e,r){const n=tu();return Ee.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.St(e,r,s)}),Ee.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),Ee.resolve()}getOverlaysForCollection(e,r,n){const i=tu(),s=r.length+1,a=new Ze(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ee.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new gr((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=tu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=tu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Ee.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new Yre(r,n));let s=this.qr.get(r);s===void 0&&(s=Nt(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return Ee.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(){this.Qr=new jr(Yr.$r),this.Ur=new jr(Yr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Yr(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Gr(new Yr(e,r))}zr(e,r){e.forEach(n=>this.removeReference(n,r))}jr(e){const r=new Ze(new Zt([])),n=new Yr(r,e),i=new Yr(r,e+1),s=[];return this.Ur.forEachInRange([n,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ze(new Zt([])),n=new Yr(r,e),i=new Yr(r,e+1);let s=Nt();return this.Ur.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Yr(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Yr{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ze.comparator(e.key,r.key)||At(e.Yr,r.Yr)}static Kr(e,r){return At(e.Yr,r.Yr)||Ze.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new jr(Yr.$r)}checkEmpty(e){return Ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Kre(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Yr(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Ee.resolve(a)}lookupMutationBatch(e,r){return Ee.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return Ee.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ee.resolve(this.mutationQueue.length===0?XS:this.tr-1)}getAllMutationBatches(e){return Ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Yr(r,0),i=new Yr(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),Ee.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new jr(At);return r.forEach(i=>{const s=new Yr(i,0),a=new Yr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{n=n.add(o.Yr)})}),Ee.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ze.isDocumentKey(s)||(s=s.child(""));const a=new Yr(new Ze(s),0);let o=new jr(At);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),Ee.resolve(this.ti(o))}ti(e){const r=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){Lt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ee.forEach(r.mutations,i=>{const s=new Yr(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,r){const n=new Yr(r,0),i=this.Zr.firstAfterOrEqual(n);return Ee.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ee.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(e){this.ri=e,this.docs=function(){return new gr(Ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ee.resolve(n?n.document.mutableCopy():Dn.newInvalidDocument(r))}getEntries(e,r){let n=Ha();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Dn.newInvalidDocument(i))}),Ee.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Ha();const a=r.path,o=new Ze(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||lre(ore(c),n)<=0||(i.has(c.key)||o1(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ee.resolve(s)}getAllFromCollectionGroup(e,r,n,i){it(9500)}ii(e,r){return Ee.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Fne(this)}getSize(e){return Ee.resolve(this.size)}}class Fne extends Dne{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),Ee.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bne{constructor(e){this.persistence=e,this.si=new Vu(r=>eA(r),tA),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.oi=0,this._i=new aA,this.targetCount=0,this.ai=bf.ur()}forEachTarget(e,r){return this.si.forEach((n,i)=>r(i)),Ee.resolve()}getLastRemoteSnapshotVersion(e){return Ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ee.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ee.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new bf(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,Ee.resolve()}updateTargetData(e,r){return this.Pr(r),Ee.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ee.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Ee.waitFor(s).next(()=>i)}getTargetCount(e){return Ee.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return Ee.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),Ee.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Ee.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),Ee.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return Ee.resolve(n)}containsKey(e,r){return Ee.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,r){this.ui={},this.overlays={},this.ci=new r1(0),this.li=!1,this.li=!0,this.hi=new kne,this.referenceDelegate=e(this),this.Pi=new Bne(this),this.indexManager=new wne,this.remoteDocumentCache=function(i){return new One(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new xne(r),this.Ii=new Ine(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Pne,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Rne(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){$e("MemoryPersistence","Starting transaction:",e);const i=new Lne(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,r){return Ee.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,r)))}}class Lne extends cre{constructor(e){super(),this.currentSequenceNumber=e}}class oA{constructor(e){this.persistence=e,this.Ri=new aA,this.Vi=null}static mi(e){return new oA(e)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ee.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ee.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),Ee.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.fi,n=>{const i=Ze.fromPath(n);return this.gi(e,i).next(s=>{s||r.removeEntry(i,ct.min())})}).next(()=>(this.Vi=null,r.apply(e)))}updateLimboDocument(e,r){return this.gi(e,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(e){return 0}gi(e,r){return Ee.or([()=>Ee.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class E0{constructor(e,r){this.persistence=e,this.pi=new Vu(n=>dre(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Tne(this,r)}static mi(e,r){return new E0(e,r)}Ei(){}di(e){return Ee.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(i=>n+i))}wr(e){let r=0;return this.pr(e,n=>{r++}).next(()=>r)}pr(e,r){return Ee.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?Ee.resolve():r(i)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,r).next(o=>{o||(n++,s.removeEntry(a,ct.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),Ee.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),Ee.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=ov(e.data.value)),r}br(e,r,n){return Ee.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return Ee.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Nt(),i=Nt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lA(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ne{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return oJ()?8:fre(On())>0?6:4}()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new Vne;return this.Ss(e,r,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)})}).next(()=>s.result)}bs(e,r,n,i){return n.documentReadCount<this.fs?(pc()<=St.DEBUG&&$e("QueryEngine","SDK will not create cache indexes for query:",gc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ee.resolve()):(pc()<=St.DEBUG&&$e("QueryEngine","Query:",gc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(pc()<=St.DEBUG&&$e("QueryEngine","The SDK decides to create cache indexes for query:",gc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gs(r))):Ee.resolve())}ys(e,r){if(gM(r))return Ee.resolve(null);let n=Gs(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=x0(r,null,"F"),n=Gs(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Nt(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Ds(r,o);return this.Cs(r,u,a,l.readTime)?this.ys(e,x0(r,null,"F")):this.vs(e,u,r,l)}))})))}ws(e,r,n,i){return gM(r)||i.isEqual(ct.min())?Ee.resolve(null):this.ps.getDocuments(e,n).next(s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?Ee.resolve(null):(pc()<=St.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gc(r)),this.vs(e,a,r,are(i,im)).next(o=>o))})}Ds(e,r){let n=new jr(KL(e));return r.forEach((i,s)=>{o1(e,s)&&(n=n.add(s))}),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return pc()<=St.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",gc(r)),this.ps.getDocumentsMatchingQuery(e,r,Jo.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="LocalStore",zne=3e8;class jne{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new gr(At),this.xs=new Vu(s=>eA(s),tA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mne(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ms))}}function Une(t,e,r,n){return new jne(t,e,r,n)}async function x9(t,e){const r=ut(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Nt();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function qne(t,e){const r=ut(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const f=u.batch,h=f.keys();let d=Ee.resolve();return h.forEach(m=>{d=d.next(()=>c.getEntry(l,m)).next(p=>{const g=u.docVersions.get(m);Lt(g!==null,48541),p.version.compareTo(g)<0&&(f.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Nt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function b9(t){const e=ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Pi.getLastRemoteSnapshotVersion(r))}function Hne(t,e){const r=ut(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(s,c.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(s,c.addedDocuments,f)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?d=d.withResumeToken(dn.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,n)),i=i.insert(f,d),function(p,g,v){return p.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=zne?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,d,c)&&o.push(r.Pi.updateTargetData(s,d))});let l=Ha(),u=Nt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(Wne(s,a,e.documentUpdates).next(c=>{l=c.ks,u=c.qs})),!n.isEqual(ct.min())){const c=r.Pi.getLastRemoteSnapshotVersion(s).next(f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return Ee.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.Ms=i,s))}function Wne(t,e,r){let n=Nt(),i=Nt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Ha();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ct.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):$e(uA,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function Gne(t,e){const r=ut(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=XS),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Kne(t,e){const r=ut(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,e).next(s=>s?(i=s,Ee.resolve(i)):r.Pi.allocateTargetId(n).next(a=>(i=new No(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n})}async function x_(t,e,r){const n=ut(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!jf(a))throw a;$e(uA,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function CM(t,e,r){const n=ut(t);let i=ct.min(),s=Nt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=ut(l),h=f.xs.get(c);return h!==void 0?Ee.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,c)}(n,a,Gs(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:ct.min(),r?s:Nt())).next(o=>(Yne(n,kre(e),o),{documents:o,Qs:s})))}function Yne(t,e,r){let n=t.Os.get(e)||ct.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.Os.set(e,n)}class MM{constructor(){this.activeTargetIds=Vre()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qne{constructor(){this.Mo=new MM,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new MM,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="ConnectivityMonitor";class PM{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){$e(IM,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){$e(IM,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tg=null;function b_(){return tg===null?tg=function(){return 268435456+Math.round(2147483648*Math.random())}():tg++,"0x"+tg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="RestConnection",Jne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zne{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===g0?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=b_(),o=this.zo(e,r.toUriEncodedString());$e(ob,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),c=Fu(u);return this.Jo(e,o,l,n,c).then(f=>($e(ob,`Received RPC '${e}' ${a}: `,f),f),f=>{throw gf(ob,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$f}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,r){const n=Jne[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n="WebChannelConnection";class tie extends Zne{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=b_();return new Promise((o,l)=>{const u=new bL;u.setWithCredentials(!0),u.listenOnce(wL.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case av.NO_ERROR:const f=u.getResponseJson();$e(_n,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case av.TIMEOUT:$e(_n,`RPC '${e}' ${a} timed out`),l(new Le(we.DEADLINE_EXCEEDED,"Request time out"));break;case av.HTTP_ERROR:const h=u.getStatus();if($e(_n,`RPC '${e}' ${a} failed with status:`,h,"response text:",u.getResponseText()),h>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const p=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(we).indexOf(b)>=0?b:we.UNKNOWN}(m.status);l(new Le(p,m.message))}else l(new Le(we.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Le(we.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{$e(_n,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);$e(_n,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",c,n,15)})}T_(e,r,n){const i=b_(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=SL(),o=EL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");$e(_n,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);this.I_(f);let h=!1,d=!1;const m=new eie({Yo:g=>{d?$e(_n,`Not sending because RPC '${e}' stream ${i} is closed:`,g):(h||($e(_n,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),$e(_n,`RPC '${e}' stream ${i} sending:`,g),f.send(g))},Zo:()=>f.close()}),p=(g,v,b)=>{g.listen(v,y=>{try{b(y)}catch(x){setTimeout(()=>{throw x},0)}})};return p(f,zh.EventType.OPEN,()=>{d||($e(_n,`RPC '${e}' stream ${i} transport opened.`),m.o_())}),p(f,zh.EventType.CLOSE,()=>{d||(d=!0,$e(_n,`RPC '${e}' stream ${i} transport closed`),m.a_(),this.E_(f))}),p(f,zh.EventType.ERROR,g=>{d||(d=!0,gf(_n,`RPC '${e}' stream ${i} transport errored. Name:`,g.name,"Message:",g.message),m.a_(new Le(we.UNAVAILABLE,"The operation could not be completed")))}),p(f,zh.EventType.MESSAGE,g=>{var v;if(!d){const b=g.data[0];Lt(!!b,16349);const y=b,x=(y==null?void 0:y.error)||((v=y[0])==null?void 0:v.error);if(x){$e(_n,`RPC '${e}' stream ${i} received error:`,x);const w=x.status;let E=function(N){const D=Mr[N];if(D!==void 0)return a9(D)}(w),S=x.message;E===void 0&&(E=we.INTERNAL,S="Unknown error status: "+w+" with message "+x.message),d=!0,m.a_(new Le(E,S)),f.close()}else $e(_n,`RPC '${e}' stream ${i} received:`,b),m.u_(b)}}),p(o,_L.STAT_EVENT,g=>{g.stat===l_.PROXY?$e(_n,`RPC '${e}' stream ${i} detected buffering proxy`):g.stat===l_.NOPROXY&&$e(_n,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(r=>r===e)}}function lb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){return new sne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&$e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="PersistentStream";class _9{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new w9(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===we.RESOURCE_EXHAUSTED?(qa(r.toString()),qa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===we.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{e(()=>{const i=new Le(we.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return $e(kM,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget(()=>this.D_===e?r():($e(kM,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rie extends _9{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=lne(this.serializer,e),n=function(s){if(!("targetChange"in s))return ct.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ct.min():a.readTime?Ks(a.readTime):ct.min()}(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=y_(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=d_(l)?{documents:fne(s,l)}:{query:d9(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=u9(s,a.resumeToken);const u=p_(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(ct.min())>0){o.readTime=_0(s,a.snapshotVersion.toTimestamp());const u=p_(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=mne(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=y_(this.serializer),r.removeTarget=e,this.q_(r)}}class nie extends _9{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=cne(e.writeResults,e.commitTime),n=Ks(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=y_(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>une(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iie{}class sie extends iie{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,g_(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Le(we.UNKNOWN,s.toString())})}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,g_(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===we.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(we.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class aie{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qa(r),this.aa=!1):$e("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="RemoteStore";class oie{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{n.enqueueAndForget(async()=>{$u(this)&&($e(Su,"Restarting streams for network reachability change."),await async function(l){const u=ut(l);u.Ea.add(4),await qm(u),u.Ra.set("Unknown"),u.Ea.delete(4),await h1(u)}(this))})}),this.Ra=new aie(n,i)}}async function h1(t){if($u(t))for(const e of t.da)await e(!0)}async function qm(t){for(const e of t.da)await e(!1)}function E9(t,e){const r=ut(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),dA(r)?hA(r):qf(r).O_()&&fA(r,e))}function cA(t,e){const r=ut(t),n=qf(r);r.Ia.delete(e),n.O_()&&S9(r,e),r.Ia.size===0&&(n.O_()?n.L_():$u(r)&&r.Ra.set("Unknown"))}function fA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}qf(t).Y_(e)}function S9(t,e){t.Va.Ue(e),qf(t).Z_(e)}function hA(t){t.Va=new tne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),qf(t).start(),t.Ra.ua()}function dA(t){return $u(t)&&!qf(t).x_()&&t.Ia.size>0}function $u(t){return ut(t).Ea.size===0}function A9(t){t.Va=void 0}async function lie(t){t.Ra.set("Online")}async function uie(t){t.Ia.forEach((e,r)=>{fA(t,e)})}async function cie(t,e){A9(t),dA(t)?(t.Ra.ha(e),hA(t)):t.Ra.set("Unknown")}async function fie(t,e,r){if(t.Ra.set("Online"),e instanceof l9&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(n){$e(Su,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await S0(t,n)}else if(e instanceof cv?t.Va.Ze(e):e instanceof o9?t.Va.st(e):t.Va.tt(e),!r.isEqual(ct.min()))try{const n=await b9(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.Ia.get(u);c&&s.Ia.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.Ia.get(l);if(!c)return;s.Ia.set(l,c.withResumeToken(dn.EMPTY_BYTE_STRING,c.snapshotVersion)),S9(s,l);const f=new No(c.target,l,u,c.sequenceNumber);fA(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){$e(Su,"Failed to raise snapshot:",n),await S0(t,n)}}async function S0(t,e,r){if(!jf(e))throw e;t.Ea.add(1),await qm(t),t.Ra.set("Offline"),r||(r=()=>b9(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$e(Su,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await h1(t)})}function N9(t,e){return e().catch(r=>S0(t,r,e))}async function d1(t){const e=ut(t),r=rl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:XS;for(;hie(e);)try{const i=await Gne(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,die(e,i)}catch(i){await S0(e,i)}T9(e)&&D9(e)}function hie(t){return $u(t)&&t.Ta.length<10}function die(t,e){t.Ta.push(e);const r=rl(t);r.O_()&&r.X_&&r.ea(e.mutations)}function T9(t){return $u(t)&&!rl(t).x_()&&t.Ta.length>0}function D9(t){rl(t).start()}async function mie(t){rl(t).ra()}async function pie(t){const e=rl(t);for(const r of t.Ta)e.ea(r.mutations)}async function gie(t,e,r){const n=t.Ta.shift(),i=nA.from(n,e,r);await N9(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await d1(t)}async function vie(t,e){e&&rl(t).X_&&await async function(n,i){if(function(a){return Jre(a)&&a!==we.ABORTED}(i.code)){const s=n.Ta.shift();rl(n).B_(),await N9(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await d1(n)}}(t,e),T9(t)&&D9(t)}async function RM(t,e){const r=ut(t);r.asyncQueue.verifyOperationInProgress(),$e(Su,"RemoteStore received new credentials");const n=$u(r);r.Ea.add(3),await qm(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await h1(r)}async function yie(t,e){const r=ut(t);e?(r.Ea.delete(2),await h1(r)):e||(r.Ea.add(2),await qm(r),r.Ra.set("Unknown"))}function qf(t){return t.ma||(t.ma=function(r,n,i){const s=ut(r);return s.sa(),new rie(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:lie.bind(null,t),t_:uie.bind(null,t),r_:cie.bind(null,t),H_:fie.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),dA(t)?hA(t):t.Ra.set("Unknown")):(await t.ma.stop(),A9(t))})),t.ma}function rl(t){return t.fa||(t.fa=function(r,n,i){const s=ut(r);return s.sa(),new nie(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mie.bind(null,t),r_:vie.bind(null,t),ta:pie.bind(null,t),na:gie.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await d1(t)):(await t.fa.stop(),t.Ta.length>0&&($e(Su,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new mA(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(we.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pA(t,e){if(qa("AsyncQueue",`${e}: ${t}`),jf(t))return new Le(we.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{static emptySet(e){return new Yc(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ze.comparator(r.key,n.key):(r,n)=>Ze.comparator(r.key,n.key),this.keyedMap=jh(),this.sortedSet=new gr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Yc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Yc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.ga=new gr(Ze.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):it(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal((r,n)=>{e.push(n)}),e}}class wf{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new wf(e,r,Yc.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&a1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xie{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bie{constructor(){this.queries=FM(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=ut(r),s=i.queries;i.queries=FM(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Le(we.ABORTED,"Firestore shutting down"))}}function FM(){return new Vu(t=>GL(t),a1)}async function gA(t,e){const r=ut(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new xie,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=pA(a,`Initialization of query '${gc(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&yA(r)}async function vA(t,e){const r=ut(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function wie(t,e){const r=ut(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&yA(r)}function _ie(t,e,r){const n=ut(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function yA(t){t.Ca.forEach(e=>{e.next()})}var w_,BM;(BM=w_||(w_={})).Ma="default",BM.Cache="cache";class xA{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new wf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=wf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==w_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e){this.key=e}}class M9{constructor(e){this.key=e}}class Eie{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Nt(),this.mutatedKeys=Nt(),this.eu=KL(e),this.tu=new Yc(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new OM,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),d=o1(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;h&&d?h.data.isEqual(d.data)?m!==p&&(n.track({type:3,doc:d}),g=!0):this.su(h,d)||(n.track({type:2,doc:d}),g=!0,(l&&this.eu(d,l)>0||u&&this.eu(d,u)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),g=!0):h&&!d&&(n.track({type:1,doc:h}),g=!0,(l||u)&&(o=!0)),g&&(d?(a=a.add(d),s=p?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((c,f)=>function(d,m){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:g})}};return p(d)-p(m)}(c.type,f.type)||this.eu(c.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new wf(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new OM,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Nt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return e.forEach(n=>{this.Xa.has(n)||r.push(new M9(n))}),this.Xa.forEach(n=>{e.has(n)||r.push(new C9(n))}),r}cu(e){this.Ya=e.Qs,this.Xa=Nt();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return wf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bA="SyncEngine";class Sie{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Aie{constructor(e){this.key=e,this.hu=!1}}class Nie{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vu(o=>GL(o),a1),this.Iu=new Map,this.Eu=new Set,this.du=new gr(Ze.comparator),this.Au=new Map,this.Ru=new aA,this.Vu={},this.mu=new Map,this.fu=bf.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Tie(t,e,r=!0){const n=F9(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await I9(n,e,r,!0),i}async function Die(t,e){const r=F9(t);await I9(r,e,!0,!1)}async function I9(t,e,r,n){const i=await Kne(t.localStore,Gs(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await Cie(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&E9(t.remoteStore,i),o}async function Cie(t,e,r,n,i){t.pu=(f,h,d)=>async function(p,g,v,b){let y=g.view.ru(v);y.Cs&&(y=await CM(p.localStore,g.query,!1).then(({documents:S})=>g.view.ru(S,y)));const x=b&&b.targetChanges.get(g.targetId),w=b&&b.targetMismatches.get(g.targetId)!=null,E=g.view.applyChanges(y,p.isPrimaryClient,x,w);return VM(p,g.targetId,E.au),E.snapshot}(t,f,h,d);const s=await CM(t.localStore,e,!0),a=new Eie(e,s.Qs),o=a.ru(s.documents),l=Um.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);VM(t,r,u.au);const c=new Sie(e,r,a);return t.Tu.set(e,c),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Mie(t,e,r){const n=ut(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(a=>!a1(a,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await x_(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&cA(n.remoteStore,i.targetId),__(n,i.targetId)}).catch(zf)):(__(n,i.targetId),await x_(n.localStore,i.targetId,!0))}async function Iie(t,e){const r=ut(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),cA(r.remoteStore,n.targetId))}async function Pie(t,e,r){const n=Vie(t);try{const i=await function(a,o){const l=ut(a),u=ir.now(),c=o.reduce((d,m)=>d.add(m.key),Nt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=Ha(),p=Nt();return l.Ns.getEntries(d,c).next(g=>{m=g,m.forEach((v,b)=>{b.isValidDocument()||(p=p.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,m)).next(g=>{f=g;const v=[];for(const b of o){const y=Wre(b,f.get(b.key).overlayedDocument);y!=null&&v.push(new vl(b.key,y,LL(y.value.mapValue),vs.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,v,o)}).next(g=>{h=g;const v=g.applyToLocalDocumentSet(f,p);return l.documentOverlayCache.saveOverlays(d,g.batchId,v)})}).then(()=>({batchId:h.batchId,changes:QL(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new gr(At)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(n,i.batchId,r),await Hm(n,i.changes),await d1(n.remoteStore)}catch(i){const s=pA(i,"Failed to persist write");r.reject(s)}}async function P9(t,e){const r=ut(t);try{const n=await Hne(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Au.get(s);a&&(Lt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Lt(a.hu,14607):i.removedDocuments.size>0&&(Lt(a.hu,42227),a.hu=!1))}),await Hm(r,n,e)}catch(n){await zf(n)}}function LM(t,e,r){const n=ut(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=ut(a);l.onlineState=o;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.Sa)h.va(o)&&(u=!0)}),u&&yA(l)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function kie(t,e,r){const n=ut(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new gr(Ze.comparator);a=a.insert(s,Dn.newNoDocument(s,ct.min()));const o=Nt().add(s),l=new c1(ct.min(),new Map,new gr(At),a,o);await P9(n,l),n.du=n.du.remove(s),n.Au.delete(e),wA(n)}else await x_(n.localStore,e,!1).then(()=>__(n,e,r)).catch(zf)}async function Rie(t,e){const r=ut(t),n=e.batch.batchId;try{const i=await qne(r.localStore,e);R9(r,n,null),k9(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Hm(r,i)}catch(i){await zf(i)}}async function Oie(t,e,r){const n=ut(t);try{const i=await function(a,o){const l=ut(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Lt(f!==null,37113),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);R9(n,e,r),k9(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Hm(n,i)}catch(i){await zf(i)}}function k9(t,e){(t.mu.get(e)||[]).forEach(r=>{r.resolve()}),t.mu.delete(e)}function R9(t,e,r){const n=ut(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function __(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(n=>{t.Ru.containsKey(n)||O9(t,n)})}function O9(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(cA(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),wA(t))}function VM(t,e,r){for(const n of r)n instanceof C9?(t.Ru.addReference(n.key,e),Fie(t,n)):n instanceof M9?($e(bA,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||O9(t,n.key)):it(19791,{wu:n})}function Fie(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||($e(bA,"New document in limbo: "+r),t.Eu.add(n),wA(t))}function wA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Ze(Zt.fromString(e)),n=t.fu.next();t.Au.set(n,new Aie(r)),t.du=t.du.insert(r,n),E9(t.remoteStore,new No(Gs(s1(r.path)),n,"TargetPurposeLimboResolution",r1.ce))}}async function Hm(t,e,r){const n=ut(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{a.push(n.pu(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=lA.As(l.targetId,u);s.push(f)}}))}),await Promise.all(a),n.Pu.H_(i),await async function(l,u){const c=ut(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ee.forEach(u,h=>Ee.forEach(h.Es,d=>c.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>Ee.forEach(h.ds,d=>c.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!jf(f))throw f;$e(uA,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const d=c.Ms.get(h),m=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(m);c.Ms=c.Ms.insert(h,p)}}}(n.localStore,s))}async function Bie(t,e){const r=ut(t);if(!r.currentUser.isEqual(e)){$e(bA,"User change. New user:",e.toKey());const n=await x9(r.localStore,e);r.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Le(we.CANCELLED,a))})}),s.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Hm(r,n.Ls)}}function Lie(t,e){const r=ut(t),n=r.Au.get(e);if(n&&n.hu)return Nt().add(n.key);{let i=Nt();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function F9(t){const e=ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P9.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kie.bind(null,e),e.Pu.H_=wie.bind(null,e.eventManager),e.Pu.yu=_ie.bind(null,e.eventManager),e}function Vie(t){const e=ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Oie.bind(null,e),e}class A0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=f1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Une(this.persistence,new $ne,e.initialUser,this.serializer)}Cu(e){return new y9(oA.mi,this.serializer)}Du(e){return new Qne}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}A0.provider={build:()=>new A0};class $ie extends A0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Lt(this.persistence.referenceDelegate instanceof E0,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ane(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new y9(n=>E0.mi(n,r),this.serializer)}}class E_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>LM(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bie.bind(null,this.syncEngine),await yie(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bie}()}createDatastore(e){const r=f1(e.databaseInfo.databaseId),n=function(s){return new tie(s)}(e.databaseInfo);return function(s,a,o,l){return new sie(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new oie(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>LM(this.syncEngine,r,0),function(){return PM.v()?new PM:new Xne}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,c){const f=new Nie(i,s,a,o,l,u);return c&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=ut(i);$e(Su,"RemoteStore shutting down."),s.Ea.add(5),await qm(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}E_.provider={build:()=>new E_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="FirestoreClient";class zie{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Nn.UNAUTHENTICATED,this.clientId=QS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{$e(nl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>($e(nl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=pA(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ub(t,e){t.asyncQueue.verifyOperationInProgress(),$e(nl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await x9(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function $M(t,e){t.asyncQueue.verifyOperationInProgress();const r=await jie(t);$e(nl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>RM(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>RM(e.remoteStore,i)),t._onlineComponents=e}async function jie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$e(nl,"Using user provided OfflineComponentProvider");try{await ub(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===we.FAILED_PRECONDITION||i.code===we.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;gf("Error using user provided cache. Falling back to memory cache: "+r),await ub(t,new A0)}}else $e(nl,"Using default OfflineComponentProvider"),await ub(t,new $ie(void 0));return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($e(nl,"Using user provided OnlineComponentProvider"),await $M(t,t._uninitializedComponentsProvider._online)):($e(nl,"Using default OnlineComponentProvider"),await $M(t,new E_))),t._onlineComponents}function Uie(t){return EA(t).then(e=>e.syncEngine)}function qie(t){return EA(t).then(e=>e.datastore)}async function N0(t){const e=await EA(t),r=e.eventManager;return r.onListen=Tie.bind(null,e.syncEngine),r.onUnlisten=Mie.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Die.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Iie.bind(null,e.syncEngine),r}function Hie(t,e,r={}){const n=new Ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new _A({next:h=>{c.Nu(),a.enqueueAndForget(()=>vA(s,f));const d=h.docs.has(o);!d&&h.fromCache?u.reject(new Le(we.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?u.reject(new Le(we.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new xA(s1(o.path),c,{includeMetadataChanges:!0,qa:!0});return gA(s,f)}(await N0(t),t.asyncQueue,e,r,n)),n.promise}function Wie(t,e,r={}){const n=new Ws;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new _A({next:h=>{c.Nu(),a.enqueueAndForget(()=>vA(s,f)),h.fromCache&&l.source==="server"?u.reject(new Le(we.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new xA(o,c,{includeMetadataChanges:!0,qa:!0});return gA(s,f)}(await N0(t),t.asyncQueue,e,r,n)),n.promise}function Gie(t,e,r){const n=new Ws;return t.asyncQueue.enqueueAndForget(async()=>{try{const i=await qie(t);n.resolve(async function(a,o,l){var p;const u=ut(a),{request:c,gt:f,parent:h}=hne(u.serializer,Pre(o),l);u.connection.$o||delete c.parent;const d=(await u.Ho("RunAggregationQuery",u.serializer.databaseId,h,c,1)).filter(g=>!!g.result);Lt(d.length===1,64727);const m=(p=d[0].result)==null?void 0:p.aggregateFields;return Object.keys(m).reduce((g,v)=>(g[f[v]]=m[v],g),{})}(i,e,r))}catch(i){n.reject(i)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L9="firestore.googleapis.com",jM=!0;class UM{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Le(we.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L9,this.ssl=jM}else this.host=e.host,this.ssl=e.ssl??jM;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=v9;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ene)throw new Le(we.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ire("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B9(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Le(we.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m1{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new UM({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(we.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(we.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new UM(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Kte;switch(n.type){case"firstParty":return new Jte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(we.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=zM.get(r);n&&($e("ComponentProvider","Removing Datastore"),zM.delete(r),n.terminate())}(this),Promise.resolve()}}function Kie(t,e,r,n={}){var u;t=ui(t,m1);const i=Fu(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(FS(`https://${o}`),BS("Firestore",!0)),s.host!==L9&&s.host!==o&&gf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!Xo(l,a)&&(t._setSettings(l),n.mockUserToken)){let c,f;if(typeof n.mockUserToken=="string")c=n.mockUserToken,f=Nn.MOCK_USER;else{c=MB(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Le(we.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Nn(h)}t._authCredentials=new Yte(new NL(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class br{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new br(this.firestore,e,this._key)}toJSON(){return{type:br._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(zm(r,br._jsonSchema))return new br(e,n||null,new Ze(Zt.fromString(r.referencePath)))}}br._jsonSchemaVersion="firestore/documentReference/1.0",br._jsonSchema={type:kr("string",br._jsonSchemaVersion),referencePath:kr("string")};class qo extends Ja{constructor(e,r,n){super(e,r,s1(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new br(this.firestore,null,new Ze(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function $n(t,e,...r){if(t=pr(t),TL("collection","path",e),t instanceof m1){const n=Zt.fromString(e,...r);return rM(n),new qo(t,null,n)}{if(!(t instanceof br||t instanceof qo))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return rM(n),new qo(t.firestore,null,n)}}function sn(t,e,...r){if(t=pr(t),arguments.length===1&&(e=QS.newId()),TL("doc","path",e),t instanceof m1){const n=Zt.fromString(e,...r);return tM(n),new br(t,null,new Ze(n))}{if(!(t instanceof br||t instanceof qo))throw new Le(we.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Zt.fromString(e,...r));return tM(n),new br(t.firestore,t instanceof qo?t.converter:null,new Ze(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="AsyncQueue";class HM{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new w9(this,"async_queue_retry"),this._c=()=>{const n=lb();n&&$e(qM,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=lb();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=lb();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const r=new Ws;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!jf(e))throw e;$e(qM,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const r=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,qa("INTERNAL UNHANDLED ERROR: ",WM(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=mA.createAndSchedule(this,e,r,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&it(47125,{Pc:WM(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function WM(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Wa extends m1{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new HM,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new HM(e),this._firestoreClient=void 0,await e}}}function Yie(t,e){const r=typeof t=="object"?t:Xy(),n=typeof t=="string"?t:g0,i=pl(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=TB("firestore");s&&Kie(i,...s)}return i}function Wm(t){if(t._terminated)throw new Le(we.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qie(t),t._firestoreClient}function Qie(t){var n,i,s;const e=t._freezeSettings(),r=function(o,l,u,c){return new vre(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,B9(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new zie(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xie{constructor(e="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=e}}class Jie{constructor(e,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $i(dn.fromBase64String(e))}catch(r){throw new Le(we.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new $i(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zm(e,$i._jsonSchema))return $i.fromBase64String(e.bytes)}}$i._jsonSchemaVersion="firestore/bytes/1.0",$i._jsonSchema={type:kr("string",$i._jsonSchemaVersion),bytes:kr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Le(we.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Le(we.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Le(we.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return At(this._lat,e._lat)||At(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ys._jsonSchemaVersion}}static fromJSON(e){if(zm(e,Ys._jsonSchema))return new Ys(e.latitude,e.longitude)}}Ys._jsonSchemaVersion="firestore/geoPoint/1.0",Ys._jsonSchema={type:kr("string",Ys._jsonSchemaVersion),latitude:kr("number"),longitude:kr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zm(e,Qs._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(r=>typeof r=="number"))return new Qs(e.vectorValues);throw new Le(we.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:kr("string",Qs._jsonSchemaVersion),vectorValues:kr("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zie=/^__.*__$/;class ese{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,r,this.fieldTransforms):new jm(e,this.data,r,this.fieldTransforms)}}class V9{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function $9(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:t})}}class AA{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new AA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return T0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($9(this.Ac)&&Zie.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class tse{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||f1(e)}Cc(e,r,n,i=!1){return new AA({Ac:e,methodName:r,Dc:n,path:on.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function g1(t){const e=t._freezeSettings(),r=f1(t._databaseId);return new tse(t._databaseId,!!e.ignoreUndefinedProperties,r)}function z9(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);NA("Data must be an object, but it was:",a,n);const o=j9(n,a);let l,u;if(s.merge)l=new bi(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const f of s.mergeFields){const h=S_(e,f,r);if(!a.contains(h))throw new Le(we.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);q9(c,h)||c.push(h)}l=new bi(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new ese(new ri(o),l,u)}class v1 extends SA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v1}}function rse(t,e,r,n){const i=t.Cc(1,e,r);NA("Data must be an object, but it was:",i,n);const s=[],a=ri.empty();gl(n,(l,u)=>{const c=TA(e,l,r);u=pr(u);const f=i.yc(c);if(u instanceof v1)s.push(c);else{const h=Gm(u,f);h!=null&&(s.push(c),a.set(c,h))}});const o=new bi(s);return new V9(a,o,i.fieldTransforms)}function nse(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[S_(e,n,r)],l=[i];if(s.length%2!=0)throw new Le(we.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(S_(e,s[h])),l.push(s[h+1]);const u=[],c=ri.empty();for(let h=o.length-1;h>=0;--h)if(!q9(u,o[h])){const d=o[h];let m=l[h];m=pr(m);const p=a.yc(d);if(m instanceof v1)u.push(d);else{const g=Gm(m,p);g!=null&&(u.push(d),c.set(d,g))}}const f=new bi(u);return new V9(c,f,a.fieldTransforms)}function ise(t,e,r,n=!1){return Gm(r,t.Cc(n?4:3,e))}function Gm(t,e){if(U9(t=pr(t)))return NA("Unsupported field value:",e,t),j9(t,e);if(t instanceof SA)return function(n,i){if(!$9(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=Gm(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=pr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return $re(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ir.fromDate(n);return{timestampValue:_0(i.serializer,s)}}if(n instanceof ir){const s=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:_0(i.serializer,s)}}if(n instanceof Ys)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $i)return{bytesValue:u9(i.serializer,n._byteString)};if(n instanceof br){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:sA(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Qs)return function(a,o){return{mapValue:{fields:{[FL]:{stringValue:BL},[v0]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return rA(o.serializer,u)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${t1(n)}`)}(t,e)}function j9(t,e){const r={};return ML(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gl(t,(n,i)=>{const s=Gm(i,e.mc(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function U9(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof Ys||t instanceof $i||t instanceof br||t instanceof SA||t instanceof Qs)}function NA(t,e,r){if(!U9(r)||!DL(r)){const n=t1(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function S_(t,e,r){if((e=pr(e))instanceof p1)return e._internalPath;if(typeof e=="string")return TA(t,e);throw T0("Field path arguments must be of type string or ",t,!1,void 0,r)}const sse=new RegExp("[~\\*/\\[\\]]");function TA(t,e,r){if(e.search(sse)>=0)throw T0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new p1(...e.split("."))._internalPath}catch{throw T0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function T0(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new Le(we.INVALID_ARGUMENT,o+t+l)}function q9(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ase(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(y1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class ase extends H9{data(){return super.data()}}function y1(t,e){return typeof e=="string"?TA(t,e):e instanceof p1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(we.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DA{}class CA extends DA{}function vi(t,e,...r){let n=[];e instanceof DA&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof MA).length,o=s.filter(l=>l instanceof x1).length;if(a>1||a>0&&o>0)throw new Le(we.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class x1 extends CA{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new x1(e,r,n)}_apply(e){const r=this._parse(e);return G9(e._query,r),new Ja(e.firestore,e.converter,m_(e._query,r))}_parse(e){const r=g1(e.firestore);return function(s,a,o,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Le(we.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){YM(f,c);const m=[];for(const p of f)m.push(KM(l,s,p));h={arrayValue:{values:m}}}else h=KM(l,s,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||YM(f,c),h=ise(o,a,f,c==="in"||c==="not-in");return Pr.create(u,c,h)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Fi(t,e,r){const n=e,i=y1("where",t);return x1._create(i,n,r)}class MA extends DA{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new MA(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ws.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)G9(a,l),a=m_(a,l)}(e._query,r),new Ja(e.firestore,e.converter,m_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class IA extends CA{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new IA(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Le(we.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lm(s,a)}(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Uf(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function yd(t,e="asc"){const r=e,n=y1("orderBy",t);return IA._create(n,r)}class PA extends CA{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new PA(e,r,n)}_apply(e){return new Ja(e.firestore,e.converter,x0(e._query,this._limit,this._limitType))}}function D0(t){return sre("limit",t),PA._create("limit",t,"F")}function KM(t,e,r){if(typeof(r=pr(r))=="string"){if(r==="")throw new Le(we.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HL(e)&&r.indexOf("/")!==-1)throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Zt.fromString(r));if(!Ze.isDocumentKey(n))throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return cM(t,new Ze(n))}if(r instanceof br)return cM(t,r._key);throw new Le(we.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${t1(r)}.`)}function YM(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(we.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G9(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Le(we.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Le(we.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class ose{convertValue(e,r="none"){switch(tl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(el(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw it(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return gl(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[v0].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>Nr(a.doubleValue));return new Qs(r)}convertGeoPoint(e){return new Ys(Nr(e.latitude),Nr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=i1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(sm(e));default:return null}}convertTimestamp(e){const r=Zo(e);return new ir(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Zt.fromString(e);Lt(g9(n),9688,{name:e});const i=new am(n.get(1),n.get(3)),s=new Ze(n.popFirst(5));return i.isEqual(r)||qa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}function lse(){return new Xie("count")}class qh{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends H9{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(y1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(we.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=fu._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}fu._jsonSchemaVersion="firestore/documentSnapshot/1.0",fu._jsonSchema={type:kr("string",fu._jsonSchemaVersion),bundleSource:kr("string","DocumentSnapshot"),bundleName:kr("string"),bundle:kr("string")};class fv extends fu{data(e={}){return super.data(e)}}class hu{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new qh(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new fv(this._firestore,this._userDataWriter,n.key,n,new qh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Le(we.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new fv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new fv(i._firestore,i._userDataWriter,o.doc.key,o.doc,new qh(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:use(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Le(we.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=QS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function use(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(t){t=ui(t,br);const e=ui(t.firestore,Wa);return Hie(Wm(e),t._key).then(r=>Q9(e,t,r))}hu._jsonSchemaVersion="firestore/querySnapshot/1.0",hu._jsonSchema={type:kr("string",hu._jsonSchemaVersion),bundleSource:kr("string","QuerySnapshot"),bundleName:kr("string"),bundle:kr("string")};class b1 extends ose{constructor(e){super(),this.firestore=e}convertBytes(e){return new $i(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new br(this.firestore,null,r)}}function ho(t){t=ui(t,Ja);const e=ui(t.firestore,Wa),r=Wm(e),n=new b1(e);return W9(t._query),Wie(r,t._query).then(i=>new hu(e,n,t,i))}function ql(t,e,r){t=ui(t,br);const n=ui(t.firestore,Wa),i=K9(t.converter,e,r);return kA(n,[z9(g1(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,vs.none())])}function C0(t,e,r,...n){t=ui(t,br);const i=ui(t.firestore,Wa),s=g1(i);let a;return a=typeof(e=pr(e))=="string"||e instanceof p1?nse(s,"updateDoc",t._key,e,r,n):rse(s,"updateDoc",t._key,e),kA(i,[a.toMutation(t._key,vs.exists(!0))])}function Y9(t,e){const r=ui(t.firestore,Wa),n=sn(t),i=K9(t.converter,e);return kA(r,[z9(g1(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,vs.exists(!1))]).then(()=>n)}function rg(t,...e){var l,u,c;t=pr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||GM(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(GM(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(u=f.error)==null?void 0:u.bind(f),e[n+2]=(c=f.complete)==null?void 0:c.bind(f)}let s,a,o;if(t instanceof br)a=ui(t.firestore,Wa),o=s1(t._key.path),s={next:f=>{e[n]&&e[n](Q9(a,t,f))},error:e[n+1],complete:e[n+2]};else{const f=ui(t,Ja);a=ui(f.firestore,Wa),o=f._query;const h=new b1(a);s={next:d=>{e[n]&&e[n](new hu(a,h,f,d))},error:e[n+1],complete:e[n+2]},W9(t._query)}return function(h,d,m,p){const g=new _A(p),v=new xA(d,g,m);return h.asyncQueue.enqueueAndForget(async()=>gA(await N0(h),v)),()=>{g.Nu(),h.asyncQueue.enqueueAndForget(async()=>vA(await N0(h),v))}}(Wm(a),o,i,s)}function kA(t,e){return function(n,i){const s=new Ws;return n.asyncQueue.enqueueAndForget(async()=>Pie(await Uie(n),i,s)),s.promise}(Wm(t),e)}function Q9(t,e,r){const n=r.docs.get(e._key),i=new b1(t);return new fu(t,i,e._key,n,new qh(r.hasPendingWrites,r.fromCache),e.converter)}function ng(t){return cse(t,{count:lse()})}function cse(t,e){const r=ui(t.firestore,Wa),n=Wm(r),i=pre(e,(s,a)=>new Qre(a,s.aggregateType,s._internalFieldPath));return Gie(n,t._query,i).then(s=>function(o,l,u){const c=new b1(o);return new Jie(l,c,u)}(r,t,s))}(function(e,r=!0){(function(i){$f=i})(Lu),bs(new Ki("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Wa(new Qte(n.getProvider("auth-internal")),new Zte(a,n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Le(we.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new am(u.options.projectId,c)}(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),li(XC,JC,e),li(XC,JC,"esm2020")})();var fse="firebase",hse="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */li(fse,hse,"app");const X9="@firebase/installations",RA="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1e4,Z9=`w:${RA}`,e8="FIS_v2",dse="https://firebaseinstallations.googleapis.com/v1",mse=60*60*1e3,pse="installations",gse="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Au=new Bu(pse,gse,vse);function t8(t){return t instanceof es&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r8({projectId:t}){return`${dse}/projects/${t}/installations`}function n8(t){return{token:t.token,requestStatus:2,expiresIn:xse(t.expiresIn),creationTime:Date.now()}}async function i8(t,e){const n=(await e.json()).error;return Au.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function s8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function yse(t,{refreshToken:e}){const r=s8(t);return r.append("Authorization",bse(e)),r}async function a8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function xse(t){return Number(t.replace("s","000"))}function bse(t){return`${e8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wse({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=r8(t),i=s8(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:r,authVersion:e8,appId:t.appId,sdkVersion:Z9},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await a8(()=>fetch(n,o));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:n8(u.authToken)}}else throw await i8("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _se(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese=/^[cdef][\w-]{21}$/,A_="";function Sse(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Ase(t);return Ese.test(r)?r:A_}catch{return A_}}function Ase(t){return _se(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=new Map;function u8(t,e){const r=w1(t);c8(r,e),Nse(r,e)}function c8(t,e){const r=l8.get(t);if(r)for(const n of r)n(e)}function Nse(t,e){const r=Tse();r&&r.postMessage({key:t,fid:e}),Dse()}let ru=null;function Tse(){return!ru&&"BroadcastChannel"in self&&(ru=new BroadcastChannel("[Firebase] FID Change"),ru.onmessage=t=>{c8(t.data.key,t.data.fid)}),ru}function Dse(){l8.size===0&&ru&&(ru.close(),ru=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cse="firebase-installations-database",Mse=1,Nu="firebase-installations-store";let cb=null;function OA(){return cb||(cb=FB(Cse,Mse,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nu)}}})),cb}async function M0(t,e){const r=w1(t),i=(await OA()).transaction(Nu,"readwrite"),s=i.objectStore(Nu),a=await s.get(r);return await s.put(e,r),await i.done,(!a||a.fid!==e.fid)&&u8(t,e.fid),e}async function f8(t){const e=w1(t),n=(await OA()).transaction(Nu,"readwrite");await n.objectStore(Nu).delete(e),await n.done}async function _1(t,e){const r=w1(t),i=(await OA()).transaction(Nu,"readwrite"),s=i.objectStore(Nu),a=await s.get(r),o=e(a);return o===void 0?await s.delete(r):await s.put(o,r),await i.done,o&&(!a||a.fid!==o.fid)&&u8(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t){let e;const r=await _1(t.appConfig,n=>{const i=Ise(n),s=Pse(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===A_?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Ise(t){const e=t||{fid:Sse(),registrationStatus:0};return h8(e)}function Pse(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Au.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=kse(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Rse(t)}:{installationEntry:e}}async function kse(t,e){try{const r=await wse(t,e);return M0(t.appConfig,r)}catch(r){throw t8(r)&&r.customData.serverCode===409?await f8(t.appConfig):await M0(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Rse(t){let e=await QM(t.appConfig);for(;e.registrationStatus===1;)await o8(100),e=await QM(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await FA(t);return n||r}return e}function QM(t){return _1(t,e=>{if(!e)throw Au.create("installation-not-found");return h8(e)})}function h8(t){return Ose(t)?{fid:t.fid,registrationStatus:0}:t}function Ose(t){return t.registrationStatus===1&&t.registrationTime+J9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fse({appConfig:t,heartbeatServiceProvider:e},r){const n=Bse(t,r),i=yse(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:Z9,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await a8(()=>fetch(n,o));if(l.ok){const u=await l.json();return n8(u)}else throw await i8("Generate Auth Token",l)}function Bse(t,{fid:e}){return`${r8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(t,e=!1){let r;const n=await _1(t.appConfig,s=>{if(!d8(s))throw Au.create("not-registered");const a=s.authToken;if(!e&&$se(a))return s;if(a.requestStatus===1)return r=Lse(t,e),s;{if(!navigator.onLine)throw Au.create("app-offline");const o=jse(s);return r=Vse(t,o),o}});return r?await r:n.authToken}async function Lse(t,e){let r=await XM(t.appConfig);for(;r.authToken.requestStatus===1;)await o8(100),r=await XM(t.appConfig);const n=r.authToken;return n.requestStatus===0?BA(t,e):n}function XM(t){return _1(t,e=>{if(!d8(e))throw Au.create("not-registered");const r=e.authToken;return Use(r)?{...e,authToken:{requestStatus:0}}:e})}async function Vse(t,e){try{const r=await Fse(t,e),n={...e,authToken:r};return await M0(t.appConfig,n),r}catch(r){if(t8(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await f8(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await M0(t.appConfig,n)}throw r}}function d8(t){return t!==void 0&&t.registrationStatus===2}function $se(t){return t.requestStatus===2&&!zse(t)}function zse(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+mse}function jse(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Use(t){return t.requestStatus===1&&t.requestTime+J9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qse(t){const e=t,{installationEntry:r,registrationPromise:n}=await FA(e);return n?n.catch(console.error):BA(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hse(t,e=!1){const r=t;return await Wse(r),(await BA(r,e)).token}async function Wse(t){const{registrationPromise:e}=await FA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gse(t){if(!t||!t.options)throw fb("App Configuration");if(!t.name)throw fb("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw fb(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function fb(t){return Au.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="installations",Kse="installations-internal",Yse=t=>{const e=t.getProvider("app").getImmediate(),r=Gse(e),n=pl(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Qse=t=>{const e=t.getProvider("app").getImmediate(),r=pl(e,m8).getImmediate();return{getId:()=>qse(r),getToken:i=>Hse(r,i)}};function Xse(){bs(new Ki(m8,Yse,"PUBLIC")),bs(new Ki(Kse,Qse,"PRIVATE"))}Xse();li(X9,RA);li(X9,RA,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="analytics",Jse="firebase_id",Zse="origin",eae=60*1e3,tae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",LA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Qy("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ei=new Bu("analytics","Analytics",rae);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nae(t){if(!t.startsWith(LA)){const e=Ei.create("invalid-gtag-resource",{gtagURL:t});return ci.warn(e.message),""}return t}function p8(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function iae(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function sae(t,e){const r=iae("firebase-js-sdk-policy",{createScriptURL:nae}),n=document.createElement("script"),i=`${LA}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function aae(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function oae(t,e,r,n,i,s){const a=n[i];try{if(a)await e[a];else{const l=(await p8(r)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(o){ci.error(o)}t("config",i,s)}async function lae(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await p8(r);for(const l of a){const u=o.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){ci.error(s)}}function uae(t,e,r,n){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await lae(t,e,r,o,l)}else if(s==="config"){const[o,l]=a;await oae(t,e,r,n,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){ci.error(o)}}return i}function cae(t,e,r,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=uae(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function fae(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(LA)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hae=30,dae=1e3;class mae{constructor(e={},r=dae){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const g8=new mae;function pae(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function gae(t){var a;const{appId:e,apiKey:r}=t,n={method:"GET",headers:pae(r)},i=tae.replace("{app-id}",e),s=await fetch(i,n);if(s.status!==200&&s.status!==304){let o="";try{const l=await s.json();(a=l.error)!=null&&a.message&&(o=l.error.message)}catch{}throw Ei.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function vae(t,e=g8,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw Ei.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw Ei.create("no-api-key")}const a=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new bae;return setTimeout(async()=>{o.abort()},eae),v8({appId:n,apiKey:i,measurementId:s},a,o,e)}async function v8(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=g8){var o;const{appId:s,measurementId:a}=t;try{await yae(n,e)}catch(l){if(a)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:s,measurementId:a};throw l}try{const l=await gae(t);return i.deleteThrottleMetadata(s),l}catch(l){const u=l;if(!xae(u)){if(i.deleteThrottleMetadata(s),a)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:a};throw l}const c=Number((o=u==null?void 0:u.customData)==null?void 0:o.httpStatus)===503?wC(r,i.intervalMillis,hae):wC(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:r+1};return i.setThrottleMetadata(s,f),ci.debug(`Calling attemptFetch again in ${c} millis`),v8(t,f,n,i)}}function yae(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(Ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function xae(t){if(!(t instanceof es)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bae{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function wae(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,a={...n,send_to:s};t("event",r,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ae(){if(PB())try{await kB()}catch(t){return ci.warn(Ei.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return ci.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Eae(t,e,r,n,i,s,a){const o=vae(t);o.then(h=>{r[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ci.error(h)),e.push(o);const l=_ae().then(h=>{if(h)return n.getId()}),[u,c]=await Promise.all([o,l]);fae(s)||sae(s,u.measurementId),i("js",new Date);const f=(a==null?void 0:a.config)??{};return f[Zse]="firebase",f.update=!0,c!=null&&(f[Jse]=c),i("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sae=class{constructor(e){this.app=e}_delete(){return delete xd[this.app.options.appId],Promise.resolve()}},xd={},JM=[];const ZM={};let hb="dataLayer",Aae="gtag",eI,y8,tI=!1;function Nae(){const t=[];if(IB()&&t.push("This is a browser extension environment."),lJ()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Ei.create("invalid-analytics-context",{errorInfo:e});ci.warn(r.message)}}function Tae(t,e,r){Nae();const n=t.options.appId;if(!n)throw Ei.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ei.create("no-api-key");if(xd[n]!=null)throw Ei.create("already-exists",{id:n});if(!tI){aae(hb);const{wrappedGtag:s,gtagCore:a}=cae(xd,JM,ZM,hb,Aae);y8=s,eI=a,tI=!0}return xd[n]=Eae(t,JM,ZM,e,eI,hb,r),new Sae(t)}function Dae(t=Xy()){t=pr(t);const e=pl(t,I0);return e.isInitialized()?e.getImmediate():Cae(t)}function Cae(t,e={}){const r=pl(t,I0);if(r.isInitialized()){const i=r.getImmediate();if(Xo(e,r.getOptions()))return i;throw Ei.create("already-initialized")}return r.initialize({options:e})}function VA(t,e,r,n){t=pr(t),wae(y8,xd[t.app.options.appId],e,r,n).catch(i=>ci.error(i))}const rI="@firebase/analytics",nI="0.10.18";function Mae(){bs(new Ki(I0,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Tae(n,i,r)},"PUBLIC")),bs(new Ki("analytics-internal",t,"PRIVATE")),li(rI,nI),li(rI,nI,"esm2020");function t(e){try{const r=e.getProvider(I0).getImmediate();return{logEvent:(n,i,s)=>VA(r,n,i,s)}}catch(r){throw Ei.create("interop-component-reg-failed",{reason:r})}}}Mae();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x8="firebasestorage.googleapis.com",Iae="storageBucket",Pae=2*60*1e3,kae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends es{constructor(e,r,n=0){super(db(e),`Firebase Storage: ${r} (${db(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ra.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return db(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zs||(Zs={}));function db(t){return"storage/"+t}function Rae(){const t="An unknown error occurred, please check the error payload for server response.";return new ra(Zs.UNKNOWN,t)}function Oae(){return new ra(Zs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fae(){return new ra(Zs.CANCELED,"User canceled the upload/download.")}function Bae(t){return new ra(Zs.INVALID_URL,"Invalid URL '"+t+"'.")}function Lae(t){return new ra(Zs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iI(t){return new ra(Zs.INVALID_ARGUMENT,t)}function b8(){return new ra(Zs.APP_DELETED,"The Firebase app was deleted.")}function Vae(t){return new ra(Zs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ds.makeFromUrl(e,r)}catch{return new ds(e,"")}if(n.path==="")return n;throw Lae(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",d=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},p=r===x8?"(?:storage.googleapis.com|storage.cloud.google.com)":r,g="([^?#]*)",v=new RegExp(`^https?://${p}/${i}/${g}`,"i"),y=[{regex:o,indices:l,postModify:s},{regex:d,indices:m,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<y.length;x++){const w=y[x],E=w.regex.exec(e);if(E){const S=E[w.indices.bucket];let A=E[w.indices.path];A||(A=""),n=new ds(S,A),w.postModify(n);break}}if(n==null)throw Bae(e);return n}}class $ae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function c(...g){u||(u=!0,e.apply(null,g))}function f(g){i=setTimeout(()=>{i=null,t(d,l())},g)}function h(){s&&clearTimeout(s)}function d(g,...v){if(u){h();return}if(g){h(),c.call(null,g,...v);return}if(l()||a){h(),c.call(null,g,...v);return}n<64&&(n*=2);let y;o===1?(o=2,y=0):y=(n+Math.random())*1e3,f(y)}let m=!1;function p(g){m||(m=!0,h(),!u&&(i!==null?(g||(o=2),clearTimeout(i),f(0)):g||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,p(!0)},r),p}function jae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uae(t){return t!==void 0}function sI(t,e,r,n){if(n<e)throw iI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw iI(`Invalid value for '${t}'. Expected ${r} or less.`)}function qae(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var P0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(P0||(P0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hae(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wae{constructor(e,r,n,i,s,a,o,l,u,c,f,h=!0,d=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,p)=>{this.resolve_=m,this.reject_=p,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new ig(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===P0.NO_ERROR,l=s.getStatus();if(!o||Hae(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===P0.ABORT;n(!1,new ig(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new ig(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Uae(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=Rae();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?b8():Fae();a(l)}else{const l=Oae();a(l)}};this.canceled_?r(!1,new ig(!1,null,!0)):this.backoffId_=zae(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ig{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Gae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Kae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Qae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Xae(t,e,r,n,i,s,a=!0,o=!1){const l=qae(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Yae(c,e),Gae(c,r),Kae(c,s),Qae(c,n),new Wae(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Zae(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e,r){this._service=e,r instanceof ds?this._location=r:this._location=ds.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new k0(e,r)}get root(){const e=new ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zae(this._location.path)}get storage(){return this._service}get parent(){const e=Jae(this._location.path);if(e===null)return null;const r=new ds(this._location.bucket,e);return new k0(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Vae(e)}}function aI(t,e){const r=e==null?void 0:e[Iae];return r==null?null:ds.makeFromBucketSpec(r,t)}function eoe(t,e,r,n={}){t.host=`${e}:${r}`;const i=Fu(e);i&&(FS(`https://${t.host}/b`),BS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:MB(s,t.app.options.projectId))}class toe{constructor(e,r,n,i,s,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=x8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Pae,this._maxUploadRetryTime=kae,this._requests=new Set,i!=null?this._bucket=ds.makeFromBucketSpec(i,this._host):this._bucket=aI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ds.makeFromBucketSpec(this._url,e):this._bucket=aI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new k0(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new $ae(b8());{const a=Xae(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const oI="@firebase/storage",lI="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="storage";function roe(t=Xy(),e){t=pr(t);const n=pl(t,w8).getImmediate({identifier:e}),i=TB("storage");return i&&noe(n,...i),n}function noe(t,e,r,n={}){eoe(t,e,r,n)}function ioe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new toe(r,n,i,e,Lu)}function soe(){bs(new Ki(w8,ioe,"PUBLIC").setMultipleInstances(!0)),li(oI,lI,""),li(oI,lI,"esm2020")}soe();const aoe={apiKey:"AIzaSyBX5ezCWOWAzG_7_mNWW97mOrzhvrHLbMo",authDomain:"procastination-599b5.firebaseapp.com",databaseURL:"https://procastination-599b5-default-rtdb.firebaseio.com",projectId:"procastination-599b5",storageBucket:"procastination-599b5.firebasestorage.app",messagingSenderId:"1040433879171",appId:"1:1040433879171:web:db26dc4424832329e263b6",measurementId:"G-HM6NRPKZZM"},nu=aoe;console.log("🔥 Firebase Configuration loaded:",{projectId:nu.projectId,authDomain:nu.authDomain,environment:"Fallback Config"});const E1=BB(nu),fa=Wte(E1),Bt=Yie(E1);roe(E1);const _8=Dae(E1),ooe=async()=>{try{console.log("🔥 Testing Firebase connection..."),console.log("📊 Project ID:",nu.projectId),console.log("🗄️ Database URL:",nu.databaseURL),console.log("🔐 Auth Domain:",nu.authDomain);const t=sn(Bt,"system","connection-test");await ql(t,{timestamp:new Date,status:"connected",message:"FocusFlow Firebase connection successful!",projectId:nu.projectId,version:"1.0.0"});const e=await Na(t);if(e.exists()){const r=e.data();return console.log("✅ Firebase connected successfully!"),console.log("📄 Test document data:",r),console.log("🎉 FocusFlow is ready to rock!"),!0}else return console.error("❌ Firebase connection failed: Document not found"),!1}catch(t){return console.error("❌ Firebase connection error:",t),console.log("💡 Check your Firebase configuration and internet connection"),!1}};ooe();const E8=new wa;E8.setCustomParameters({prompt:"select_account"});class loe{async createAdminUser(){try{const r=(await $C(fa,"admin@temp.com","admin123")).user;return await ql(sn(Bt,"users",r.uid),{id:r.uid,email:"admin@temp.com",username:"admin",fullName:"Admin User",name:"Admin User",fieldOfStudy:"Administration",field:"Administration",createdAt:new Date,updatedAt:new Date,isPremium:!1,isAdmin:!0}),await ql(sn(Bt,"userAnalytics",r.uid),{userId:r.uid,totalLogins:0,totalStudyTime:0,sessionsCompleted:0,streakDays:0,toolsUsed:{},lastActive:new Date,preferredStudyTimes:[],mostUsedFeatures:[]}),Ft.success("Admin user created successfully!"),r}catch(e){if(console.error("Error creating admin user:",e),e.code==="auth/email-already-in-use"){Ft.success("Admin user already exists");return}else Ft.error("Failed to create admin user");throw e}}async register(e){try{this.validateRegistrationData(e);const r=this.sanitizeUsername(e.username);if(!r)throw new Error("Username contains invalid characters");await this.checkUsernameAvailability(r);const n=await $C(fa,e.email,e.password);if(!n.user)throw new Error("User creation failed");return await this.createUserProfile(n.user,e,r),await this.initializeUserAnalytics(n.user.uid),this.logAnalyticsEvent("sign_up",{method:"email",field_of_study:e.fieldOfStudy}),Ft.success("Registration successful!"),n.user}catch(r){console.error("Registration error:",r);const n=this.getFirebaseErrorMessage(r.code)||r.message||"Registration failed";throw Ft.error(n),r}}async login(e){try{if(!e.email||!e.password)throw new Error("Email and password are required");const r=await Cee(fa,e.email,e.password);if(!r.user)throw new Error("Login failed");return this.updateUserLoginData(r.user.uid),this.logAnalyticsEvent("login",{method:"email"}),Ft.success("Login successful!"),r.user}catch(r){console.error("Login error:",r);const n=this.getFirebaseErrorMessage(r.code)||r.message||"Login failed";throw Ft.error(n),r}}async loginWithGoogle(){try{const r=(await tte(fa,E8)).user;if(!r)throw new Error("Google login failed");return(await Na(sn(Bt,"users",r.uid))).exists()||await this.createGoogleUserProfile(r),this.updateUserLoginData(r.uid),this.logAnalyticsEvent("login",{method:"google"}),Ft.success("Google login successful!"),r}catch(e){console.error("Google login error:",e);const r=this.getGoogleErrorMessage(e.code)||"Google login failed";throw Ft.error(r),e}}async logout(){try{await Oee(fa),this.logAnalyticsEvent("logout"),Ft.success("Logged out successfully")}catch(e){throw console.error("Logout error:",e),Ft.error(e.message||"Logout failed"),e}}async getCurrentUser(){try{const e=fa.currentUser;if(!e)return null;const r=await Na(sn(Bt,"users",e.uid));if(!r.exists())return null;const n=r.data();return{...n,createdAt:this.convertTimestamp(n.createdAt),updatedAt:this.convertTimestamp(n.updatedAt),lastLogin:this.convertTimestamp(n.lastLogin)}}catch(e){return console.error("Error getting current user:",e),null}}async resetPassword(e){try{if(!e||!e.includes("@"))throw new Error("Please enter a valid email address");await Dee(fa,e),Ft.success("Password reset email sent!")}catch(r){console.error("Password reset error:",r);const n=this.getFirebaseErrorMessage(r.code)||r.message||"Failed to send reset email";throw Ft.error(n),r}}async updatePassword(e){try{const r=fa.currentUser;if(!r)throw new Error("No user logged in");if(!e||e.length<6)throw new Error("Password must be at least 6 characters long");await Mee(r,e),Ft.success("Password updated successfully!")}catch(r){console.error("Password update error:",r);const n=this.getFirebaseErrorMessage(r.code)||r.message||"Failed to update password";throw Ft.error(n),r}}onAuthStateChanged(e){return Ree(fa,e)}validateRegistrationData(e){if(!e.email||!e.password||!e.username||!e.fullName||!e.fieldOfStudy)throw new Error("All fields are required")}async checkUsernameAvailability(e){const r=vi($n(Bt,"users"),Fi("username","==",e));if(!(await ho(r)).empty)throw new Error("Username already exists")}async createUserProfile(e,r,n){const i={id:e.uid,email:r.email,username:n,fullName:r.fullName,name:r.fullName,fieldOfStudy:r.fieldOfStudy,field:r.fieldOfStudy,createdAt:new Date,updatedAt:new Date,isPremium:!1};await ql(sn(Bt,"users",e.uid),i)}async createGoogleUserProfile(e){const r=this.generateUsernameFromGoogle(e),n=await this.ensureUniqueUsername(r),i={id:e.uid,email:e.email||"",username:n,fullName:e.displayName||"",name:e.displayName||"",fieldOfStudy:"General",field:"General",avatarUrl:e.photoURL||void 0,createdAt:new Date,updatedAt:new Date,isPremium:!1};await ql(sn(Bt,"users",e.uid),i),await this.initializeUserAnalytics(e.uid)}async initializeUserAnalytics(e){try{await ql(sn(Bt,"userAnalytics",e),{userId:e,totalLogins:0,totalStudyTime:0,sessionsCompleted:0,streakDays:0,toolsUsed:{},lastActive:new Date,preferredStudyTimes:[],mostUsedFeatures:[]})}catch(r){console.error("Failed to initialize user analytics:",r)}}async updateUserLoginData(e){Promise.all([this.updateLastLogin(e),this.updateLoginAnalytics(e),this.logUserLogin(e)]).catch(r=>{console.error("Failed to update user login data:",r)})}async updateLastLogin(e){try{await ql(sn(Bt,"users",e),{lastLogin:new Date,updatedAt:new Date},{merge:!0})}catch(r){console.error("Error updating last login:",r)}}async updateLoginAnalytics(e){try{const r=sn(Bt,"userAnalytics",e),n=await Na(r);if(n.exists()){const i=n.data();await C0(r,{totalLogins:(i.totalLogins||0)+1,lastActive:new Date})}else await this.initializeUserAnalytics(e)}catch(r){console.error("Error updating login analytics:",r)}}async logUserLogin(e){try{const r=this.getDeviceInfo(),n=await this.getIPAddress(),i={userId:e,loginTimestamp:new Date,ipAddress:n,deviceInfo:r.device,browserInfo:r.browser,location:r.location};await Y9($n(Bt,"loginLogs"),i)}catch(r){console.error("Error logging user login:",r)}}logAnalyticsEvent(e,r){try{VA(_8,e,r)}catch(n){console.error("Failed to log analytics event:",n)}}convertTimestamp(e){if(e)return e!=null&&e.toDate?e.toDate():new Date(e)}getDeviceInfo(){try{const e=navigator.userAgent||"Unknown";return{device:`${navigator.platform||"Unknown"} - ${e.substring(0,100)}`,browser:this.getBrowserInfo(),location:"Unknown"}}catch{return{device:"Unknown",browser:"Unknown",location:"Unknown"}}}getBrowserInfo(){try{const e=navigator.userAgent||"";return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("Edge")?"Edge":e.includes("Opera")?"Opera":"Unknown"}catch{return"Unknown"}}async getIPAddress(){const e=["https://api.ipify.org?format=json","https://ipapi.co/json/","https://httpbin.org/ip"];for(const r of e)try{const n=new AbortController,i=setTimeout(()=>n.abort(),5e3),s=await fetch(r,{signal:n.signal,headers:{Accept:"application/json"}});if(clearTimeout(i),!s.ok)continue;const a=await s.json(),o=a.ip||a.origin;if(o&&typeof o=="string")return o}catch{continue}return"Unknown"}sanitizeUsername(e){return e.toLowerCase().replace(/\s+/g,"").replace(/[^a-z0-9_]/g,"").substring(0,30)}generateUsernameFromGoogle(e){return e.displayName?this.sanitizeUsername(e.displayName):e.email?this.sanitizeUsername(e.email.split("@")[0]):"user"+Math.random().toString(36).substring(2,8)}async ensureUniqueUsername(e){try{let r=e,n=1;for(;n<100;){const i=vi($n(Bt,"users"),Fi("username","==",r));if((await ho(i)).empty)return r;r=`${e}${n}`,n++}return`${e}${Date.now().toString().slice(-4)}`}catch{return`${e}${Math.random().toString(36).substring(2,6)}`}}getGoogleErrorMessage(e){return{"auth/popup-closed-by-user":"Login cancelled","auth/popup-blocked":"Popup blocked. Please allow popups for this site.","auth/network-request-failed":"Network error. Please check your connection."}[e]||"Google login failed"}getFirebaseErrorMessage(e){return{"auth/email-already-in-use":"This email is already registered. Please use a different email or try logging in.","auth/weak-password":"Password is too weak. Please use at least 6 characters.","auth/invalid-email":"Please enter a valid email address.","auth/user-not-found":"No account found with this email. Please check your email or register.","auth/wrong-password":"Incorrect password. Please try again.","auth/too-many-requests":"Too many failed attempts. Please try again later.","auth/network-request-failed":"Network error. Please check your internet connection.","auth/requires-recent-login":"Please log out and log back in to perform this action.","auth/user-disabled":"This account has been disabled. Please contact support.","auth/invalid-credential":"Invalid credentials. Please check your email and password."}[e]||null}}const iu=new loe,zu=Gy()(Ky((t,e)=>({user:null,isAuthenticated:!1,loading:!0,needsFieldSelection:!1,initialize:async()=>{try{iu.onAuthStateChanged(async r=>{if(r){const n=await iu.getCurrentUser();n&&t({user:n,isAuthenticated:!0,needsFieldSelection:n.fieldOfStudy==="General"&&!n.fieldOfStudy})}else t({user:null,isAuthenticated:!1,needsFieldSelection:!1});t({loading:!1})})}catch(r){console.error("Auth initialization error:",r),t({loading:!1})}},logout:async()=>{try{await iu.logout(),t({user:null,isAuthenticated:!1,needsFieldSelection:!1})}catch(r){console.error("Logout error:",r)}},updateProfile:r=>{const n=e().user;n&&t({user:{...n,...r}})},setNeedsFieldSelection:r=>{t({needsFieldSelection:r})}}),{name:"auth-storage",partialize:t=>({isAuthenticated:t.isAuthenticated})}));function uoe(){var s;const{user:t}=zu(),{sessions:e,totalStudyTime:r,studyStreak:n}=OS(),i=Math.floor(r%1440);return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 dark:from-gray-900 dark:via-purple-900 dark:to-indigo-900 p-4 pb-24",children:T.jsxs("div",{className:"w-full max-w-6xl mx-auto space-y-6",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[T.jsxs("div",{className:"flex items-center justify-center mb-2",children:[T.jsx(od,{className:"text-yellow-300 mr-2",size:24}),T.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||(t==null?void 0:t.email)||"User","!"]}),T.jsx(od,{className:"text-yellow-300 ml-2",size:24})]}),T.jsx("p",{className:"text-white/80",children:"Ready to focus and achieve your goals?"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-center",children:[T.jsx(Qv,{className:"text-green-300 mx-auto mb-2",size:32}),T.jsx("div",{className:"text-3xl font-bold text-white",children:n}),T.jsx("div",{className:"text-white/80 text-sm",children:"Day Streak"})]}),T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-center",children:[T.jsx(Hc,{className:"text-blue-300 mx-auto mb-2",size:32}),T.jsxs("div",{className:"text-3xl font-bold text-white",children:[i,"m"]}),T.jsx("div",{className:"text-white/80 text-sm",children:"Today"})]}),T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-center",children:[T.jsx(Kd,{className:"text-purple-300 mx-auto mb-2",size:32}),T.jsx("div",{className:"text-3xl font-bold text-white",children:e}),T.jsx("div",{className:"text-white/80 text-sm",children:"Sessions"})]}),T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6 text-center",children:[T.jsx(od,{className:"text-yellow-300 mx-auto mb-2",size:32}),T.jsxs("div",{className:"text-3xl font-bold text-white",children:[Math.floor(r/60),"h"]}),T.jsx("div",{className:"text-white/80 text-sm",children:"Total Time"})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsx(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5},children:T.jsx(qX,{userType:((s=t==null?void 0:t.fieldOfStudy)==null?void 0:s.toLowerCase())||"general"})}),T.jsx(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.6},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-6",children:T.jsx(VX,{})})]}),T.jsx(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.7},children:T.jsx(UX,{})})]})})}function coe(){const[t,e]=ne.useState([]),[r,n]=ne.useState(""),[i,s]=ne.useState(25),a=f=>{if(f.preventDefault(),r.trim()){const h={id:Date.now().toString(),text:r,completed:!1,timeEstimate:i};e([...t,h]),n(""),s(25)}},o=f=>{e(t.map(h=>h.id===f?{...h,completed:!h.completed}:h))},l=f=>{e(t.filter(h=>h.id!==f))},u=t.filter(f=>f.completed).length,c=t.reduce((f,h)=>f+h.timeEstimate,0);return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-green-400 via-blue-500 to-purple-600 dark:from-gray-900 dark:via-green-900 dark:to-blue-900 overflow-y-auto",children:T.jsxs("div",{className:"p-4 pb-20 space-y-4",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[T.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Study Planner"}),T.jsx("p",{className:"text-white/80 text-sm",children:"Plan your study sessions"})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/20 backdrop-blur-lg rounded-xl p-3 text-center",children:[T.jsx(Qv,{className:"text-blue-300 mx-auto mb-1",size:20}),T.jsx("div",{className:"text-lg font-bold text-white",children:t.length}),T.jsx("div",{className:"text-white/80 text-xs",children:"Tasks"})]}),T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"bg-white/20 backdrop-blur-lg rounded-xl p-3 text-center",children:[T.jsx(Rw,{className:"text-green-300 mx-auto mb-1",size:20}),T.jsx("div",{className:"text-lg font-bold text-white",children:u}),T.jsx("div",{className:"text-white/80 text-xs",children:"Done"})]}),T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"bg-white/20 backdrop-blur-lg rounded-xl p-3 text-center",children:[T.jsx(Hc,{className:"text-yellow-300 mx-auto mb-1",size:20}),T.jsxs("div",{className:"text-lg font-bold text-white",children:[c,"m"]}),T.jsx("div",{className:"text-white/80 text-xs",children:"Total"})]})]}),T.jsx(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4",children:T.jsxs("form",{onSubmit:a,className:"space-y-3",children:[T.jsx("input",{type:"text",value:r,onChange:f=>n(f.target.value),placeholder:"What do you want to study?",className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border border-white/30 focus:border-white/60 focus:outline-none"}),T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsxs("div",{className:"flex items-center space-x-2 flex-1",children:[T.jsx(Hc,{className:"text-white/60",size:16}),T.jsx("input",{type:"number",value:i,onChange:f=>s(parseInt(f.target.value)||25),min:"5",max:"120",className:"w-16 px-2 py-1 bg-white/20 rounded-lg text-white text-center text-sm border border-white/30 focus:border-white/60 focus:outline-none"}),T.jsx("span",{className:"text-white/80 text-sm",children:"min"})]}),T.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-medium transition-colors flex items-center",children:[T.jsx(V5,{size:16,className:"mr-1"}),"Add"]})]})]})}),T.jsx("div",{className:"space-y-3",children:t.map((f,h)=>T.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.1},className:`bg-white/20 backdrop-blur-lg rounded-xl p-4 flex items-center space-x-3 ${f.completed?"opacity-75":""}`,children:[T.jsx("button",{onClick:()=>o(f.id),className:"text-white hover:text-green-300 transition-colors",children:f.completed?T.jsx(Rw,{size:20}):T.jsx(uW,{size:20})}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsx("p",{className:`text-white ${f.completed?"line-through opacity-75":""}`,children:f.text}),T.jsxs("div",{className:"flex items-center text-white/60 text-xs mt-1",children:[T.jsx(Hc,{size:12,className:"mr-1"}),f.timeEstimate," min"]})]}),T.jsx("button",{onClick:()=>l(f.id),className:"text-white/60 hover:text-red-300 transition-colors",children:T.jsx(CW,{size:16})})]},f.id))}),t.length===0&&T.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8",children:[T.jsx(Qv,{className:"text-white/40 mx-auto mb-3",size:48}),T.jsx("p",{className:"text-white/60",children:"No tasks yet. Add your first study goal!"})]})]})})}function foe(){const[t,e]=ne.useState([{id:1,author:"Sarah Chen",field:"Engineering",content:"Just discovered a great technique for memorizing complex formulas! Using mind mapping has really helped me connect different concepts. Anyone else tried this?",likes:24,comments:8,liked:!1},{id:2,author:"Alex Kumar",field:"Arts",content:"Looking for study buddies for literature analysis! It's always better to discuss themes and interpretations together.",likes:15,comments:5,liked:!0},{id:3,author:"Maya Patel",field:"Medical",content:"Anatomy study tip: Use mnemonics for bone names! 'Some Lovers Try Positions That They Can't Handle' for carpal bones 😄",likes:32,comments:12,liked:!1}]),[r,n]=ne.useState(""),i=a=>{e(t.map(o=>o.id===a?{...o,liked:!o.liked,likes:o.liked?o.likes-1:o.likes+1}:o))},s=a=>{if(a.preventDefault(),r.trim()){const o={id:Date.now(),author:"You",field:"Student",content:r,likes:0,comments:0,liked:!1};e([o,...t]),n("")}};return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600 dark:from-gray-900 dark:via-purple-900 dark:to-indigo-900 overflow-y-auto",children:T.jsxs("div",{className:"p-4 pb-20",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[T.jsxs("div",{className:"flex items-center justify-center mb-2",children:[T.jsx(Jv,{className:"text-pink-300 mr-2",size:24}),T.jsx("h1",{className:"text-2xl font-bold text-white",children:"Community"})]}),T.jsx("p",{className:"text-white/80 text-sm",children:"Connect with fellow students"})]}),T.jsx(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 mb-6",children:T.jsxs("form",{onSubmit:s,className:"space-y-3",children:[T.jsx("textarea",{value:r,onChange:a=>n(a.target.value),placeholder:"Share your study tips, ask questions, or motivate others...",className:"w-full px-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border border-white/30 focus:border-white/60 focus:outline-none resize-none h-20"}),T.jsx("div",{className:"flex justify-end",children:T.jsxs("button",{type:"submit",className:"px-4 py-2 bg-pink-500 hover:bg-pink-600 text-white rounded-xl font-medium transition-colors flex items-center",children:[T.jsx(EW,{size:16,className:"mr-1"}),"Post"]})})]})}),T.jsx("div",{className:"space-y-4",children:t.map((a,o)=>T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4",children:[T.jsxs("div",{className:"flex items-center mb-3",children:[T.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-pink-500 to-purple-500 flex items-center justify-center text-white font-bold text-sm",children:a.author[0]}),T.jsxs("div",{className:"ml-3",children:[T.jsx("h3",{className:"font-semibold text-white text-sm",children:a.author}),T.jsxs("p",{className:"text-white/60 text-xs",children:[a.field," Student"]})]})]}),T.jsx("p",{className:"text-white text-sm mb-4 leading-relaxed",children:a.content}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs(Oe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(a.id),className:`flex items-center space-x-1 transition-colors ${a.liked?"text-red-400":"text-white/60 hover:text-red-400"}`,children:[T.jsx(cf,{size:16,fill:a.liked?"currentColor":"none"}),T.jsx("span",{className:"text-sm",children:a.likes})]}),T.jsxs("button",{className:"flex items-center space-x-1 text-white/60 hover:text-blue-400 transition-colors",children:[T.jsx(vW,{size:16}),T.jsx("span",{className:"text-sm",children:a.comments})]}),T.jsxs("button",{className:"flex items-center space-x-1 text-white/60 hover:text-green-400 transition-colors",children:[T.jsx(SW,{size:16}),T.jsx("span",{className:"text-sm",children:"Share"})]})]})]},a.id))})]})})}function hoe(){const[t,e]=ne.useState(""),[r,n]=ne.useState("All"),i=[{id:1,type:"book",title:"Deep Work: Rules for Focused Success",description:"Learn how to develop your concentration skills and achieve more in less time.",rating:4.8,category:"Productivity",url:"https://www.amazon.com/Deep-Work-Focused-Success-Distracted/dp/1455586692",free:!1},{id:2,type:"video",title:"Khan Academy - Mathematics",description:"Free comprehensive math courses from basic to advanced levels.",rating:4.9,category:"Mathematics",url:"https://www.khanacademy.org/math",free:!0},{id:3,type:"guide",title:"Cornell Note-Taking System",description:"Master the most effective note-taking method used by top students.",rating:4.7,category:"Study Skills",url:"https://lsc.cornell.edu/how-to-study/taking-notes/cornell-note-taking-system/",free:!0},{id:4,type:"tool",title:"Anki Flashcards",description:"Spaced repetition software for efficient memorization.",rating:4.6,category:"Study Tools",url:"https://apps.ankiweb.net/",free:!0},{id:5,type:"video",title:"Crash Course - Science",description:"Engaging video series covering various science topics.",rating:4.8,category:"Science",url:"https://www.youtube.com/user/crashcourse",free:!0}],s=["All","Productivity","Mathematics","Study Skills","Study Tools","Science"],a=l=>{switch(l){case"book":return T.jsx(QT,{className:"text-blue-400",size:20});case"video":return T.jsx(IW,{className:"text-red-400",size:20});case"guide":return T.jsx(JT,{className:"text-green-400",size:20});case"tool":return T.jsx(By,{className:"text-purple-400",size:20});default:return T.jsx(JT,{size:20})}},o=i.filter(l=>{const u=l.title.toLowerCase().includes(t.toLowerCase())||l.description.toLowerCase().includes(t.toLowerCase()),c=r==="All"||l.category===r;return u&&c});return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-orange-400 via-red-500 to-pink-600 dark:from-gray-900 dark:via-orange-900 dark:to-red-900 overflow-y-auto",children:T.jsxs("div",{className:"p-4 pb-20",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[T.jsxs("div",{className:"flex items-center justify-center mb-2",children:[T.jsx(QT,{className:"text-orange-300 mr-2",size:24}),T.jsx("h1",{className:"text-2xl font-bold text-white",children:"Resources"})]}),T.jsx("p",{className:"text-white/80 text-sm",children:"Curated learning materials"})]}),T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4 mb-6 space-y-3",children:[T.jsxs("div",{className:"relative",children:[T.jsx(Gd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:18}),T.jsx("input",{type:"text",placeholder:"Search resources...",value:t,onChange:l=>e(l.target.value),className:"w-full pl-10 pr-4 py-3 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border border-white/30 focus:border-white/60 focus:outline-none"})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx(L5,{size:18,className:"text-white/60"}),T.jsx("select",{value:r,onChange:l=>n(l.target.value),className:"flex-1 px-3 py-2 bg-white/20 backdrop-blur-sm rounded-lg text-white border border-white/30 focus:border-white/60 focus:outline-none",children:s.map(l=>T.jsx("option",{value:l,className:"bg-gray-800",children:l},l))})]})]}),T.jsx("div",{className:"space-y-4",children:o.map((l,u)=>T.jsx(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4",children:T.jsxs("div",{className:"flex items-start space-x-3",children:[T.jsx("div",{className:"p-2 rounded-lg bg-white/20",children:a(l.type)}),T.jsxs("div",{className:"flex-1 min-w-0",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("h3",{className:"font-semibold text-white text-sm truncate",children:l.title}),l.free&&T.jsx("span",{className:"px-2 py-1 bg-green-500 text-white text-xs rounded-full",children:"Free"})]}),T.jsx("p",{className:"text-white/80 text-xs mb-3 line-clamp-2",children:l.description}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsxs("div",{className:"flex items-center text-yellow-400",children:[T.jsx(z5,{size:14,fill:"currentColor"}),T.jsx("span",{className:"ml-1 text-xs text-white",children:l.rating})]}),T.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white/20 text-white/80",children:l.category})]}),T.jsxs(Oe.a,{whileHover:{scale:1.05},whileTap:{scale:.95},href:l.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-xs transition-colors",children:[T.jsx(Yv,{size:12,className:"mr-1"}),"Open"]})]})]})]})},l.id))}),o.length===0&&T.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-8",children:[T.jsx(Gd,{className:"text-white/40 mx-auto mb-3",size:48}),T.jsx("p",{className:"text-white/60",children:"No resources found. Try a different search term."})]})]})})}function Lr(){return Lr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lr.apply(null,arguments)}var S8={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function jn(t,e){if(R0(t,e))return t[e];throw typeof t[e]=="function"&&$A(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function _f(t,e,r){if(R0(t,e))return t[e]=r,r;throw new Error('No access to property "'+e+'"')}function R0(t,e){return!moe(t)&&!Array.isArray(t)?!1:qe(poe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function doe(t,e){if(!$A(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function $A(t,e){return t==null||typeof t[e]!="function"||qe(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:qe(goe,e)?!0:!(e in Object.prototype||e in Function.prototype)}function moe(t){return typeof t=="object"&&t&&t.constructor===Object}var poe={length:!0,name:!0},goe={toString:!0,valueOf:!0,toLocaleString:!0};class S1{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return jn(this.wrappedObject,e)}set(e,r){return _f(this.wrappedObject,e,r),this}has(e){return R0(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return N8(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){R0(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}class A8{constructor(e,r,n){this.a=e,this.b=r,this.bKeys=n,this[Symbol.iterator]=this.entries}get(e){return this.bKeys.has(e)?this.b.get(e):this.a.get(e)}set(e,r){return this.bKeys.has(e)?this.b.set(e,r):this.a.set(e,r),this}has(e){return this.b.has(e)||this.a.has(e)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return N8(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var r of this.keys())e(this.get(r),r,this)}delete(e){return this.bKeys.has(e)?this.b.delete(e):this.a.delete(e)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function N8(t,e){return{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}}}function fm(){return new Map}function Qc(t){if(!t)return fm();if(D8(t))return t;if(N1(t))return new S1(t);throw new Error("createMap can create maps from objects or Maps")}function voe(t){if(t instanceof S1)return t.wrappedObject;var e={};for(var r of t.keys()){var n=t.get(r);_f(e,r,n)}return e}function ft(t){return typeof t=="number"}function ht(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function bd(t){return typeof t=="bigint"}function Ra(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function Km(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function yi(t){return t&&t.constructor.prototype.isUnit===!0||!1}function Cn(t){return typeof t=="string"}var Ut=Array.isArray;function Je(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Qi(t){return Array.isArray(t)||Je(t)}function O0(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function su(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function zA(t){return t&&t.constructor.prototype.isRange===!0||!1}function A1(t){return t&&t.constructor.prototype.isIndex===!0||!1}function yoe(t){return typeof t=="boolean"}function xoe(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function T8(t){return t&&t.constructor.prototype.isHelp===!0||!1}function boe(t){return typeof t=="function"}function woe(t){return t instanceof Date}function _oe(t){return t instanceof RegExp}function N1(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Ra(t)&&!Km(t))}function D8(t){return t?t instanceof Map||t instanceof S1||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function Eoe(t){return t===null}function Soe(t){return t===void 0}function Tu(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Bi(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Aoe(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Noe(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function Toe(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function _t(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function N_(t){return _t(t)||Ar(t)&&t.args.length===1&&_t(t.args[0])&&"-+~".includes(t.op)}function Ym(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function il(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Hf(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function $t(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function T1(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ar(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ga(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Doe(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function Coe(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xr(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function C8(t){return t&&t.constructor.prototype.isChain===!0||!1}function Wt(t){var e=typeof t;return e==="object"?t===null?"null":ht(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function at(t){var e=typeof t;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(r){return at(r)});if(t instanceof Date)return new Date(t.valueOf());if(ht(t))return t;if(N1(t))return Moe(t,at);if(e==="function")return t;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function Moe(t,e){var r={};for(var n in t)qe(t,n)&&(r[n]=e(t[n]));return r}function M8(t,e){for(var r in e)qe(e,r)&&(t[r]=e[r]);return t}function Ka(t,e){var r,n,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;n++)if(!Ka(t[n],e[n]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(r in t)if(!(r in e)||!Ka(t[r],e[r]))return!1;for(r in e)if(!(r in t))return!1;return!0}else return t===e}}function Ioe(t,e,r){var n=!0,i;Object.defineProperty(t,e,{get:function(){return n&&(i=r(),n=!1),i},set:function(a){i=a,n=!1},configurable:!0,enumerable:!0})}function qe(t,e){return t&&Object.hasOwnProperty.call(t,e)}function Poe(t,e){for(var r={},n=0;n<e.length;n++){var i=e[n],s=t[i];s!==void 0&&(r[i]=s)}return r}var koe=["Matrix","Array"],Roe=["number","BigNumber","Fraction"],be=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(S8)};Lr(be,S8,{MATRIX_OPTIONS:koe,NUMBER_OPTIONS:Roe});function uI(){return!0}function Ii(){return!1}function oc(){}const cI="Argument is not a typed-function.";function I8(){function t(U){return typeof U=="object"&&U!==null&&U.constructor===Object}const e=[{name:"number",test:function(U){return typeof U=="number"}},{name:"string",test:function(U){return typeof U=="string"}},{name:"boolean",test:function(U){return typeof U=="boolean"}},{name:"Function",test:function(U){return typeof U=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(U){return U instanceof Date}},{name:"RegExp",test:function(U){return U instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(U){return U===null}},{name:"undefined",test:function(U){return U===void 0}}],r={name:"any",test:uI,isAny:!0};let n,i,s=0,a={createCount:0};function o(U){const Q=n.get(U);if(Q)return Q;let re='Unknown type "'+U+'"';const ae=U.toLowerCase();let le;for(le of i)if(le.toLowerCase()===ae){re+='. Did you mean "'+le+'" ?';break}throw new TypeError(re)}function l(U){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const re=Q?o(Q).index:i.length,ae=[];for(let ge=0;ge<U.length;++ge){if(!U[ge]||typeof U[ge].name!="string"||typeof U[ge].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Se=U[ge].name;if(n.has(Se))throw new TypeError('Duplicate type name "'+Se+'"');ae.push(Se),n.set(Se,{name:Se,test:U[ge].test,isAny:U[ge].isAny,index:re+ge,conversionsTo:[]})}const le=i.slice(re);i=i.slice(0,re).concat(ae).concat(le);for(let ge=re+ae.length;ge<i.length;++ge)n.get(i[ge]).index=ge}function u(){n=new Map,i=[],s=0,l([r],!1)}u(),l(e);function c(){let U;for(U of i)n.get(U).conversionsTo=[];s=0}function f(U){const Q=i.filter(re=>{const ae=n.get(re);return!ae.isAny&&ae.test(U)});return Q.length?Q:["any"]}function h(U){return U&&typeof U=="function"&&"_typedFunctionData"in U}function d(U,Q,re){if(!h(U))throw new TypeError(cI);const ae=re&&re.exact,le=Array.isArray(Q)?Q.join(","):Q,ge=x(le),Se=g(ge);if(!ae||Se in U.signatures){const yt=U._typedFunctionData.signatureMap.get(Se);if(yt)return yt}const Te=ge.length;let Ce;if(ae){Ce=[];let yt;for(yt in U.signatures)Ce.push(U._typedFunctionData.signatureMap.get(yt))}else Ce=U._typedFunctionData.signatures;for(let yt=0;yt<Te;++yt){const Ge=ge[yt],Rt=[];let R;for(R of Ce){const Z=A(R.params,yt);if(!(!Z||Ge.restParam&&!Z.restParam)){if(!Z.hasAny){const de=y(Z);if(Ge.types.some(_e=>!de.has(_e.name)))continue}Rt.push(R)}}if(Ce=Rt,Ce.length===0)break}let Ae;for(Ae of Ce)if(Ae.params.length<=Te)return Ae;throw new TypeError("Signature not found (signature: "+(U.name||"unnamed")+"("+g(ge,", ")+"))")}function m(U,Q,re){return d(U,Q,re).implementation}function p(U,Q){const re=o(Q);if(re.test(U))return U;const ae=re.conversionsTo;if(ae.length===0)throw new Error("There are no conversions to "+Q+" defined.");for(let le=0;le<ae.length;le++)if(o(ae[le].from).test(U))return ae[le].convert(U);throw new Error("Cannot convert "+U+" to "+Q)}function g(U){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return U.map(re=>re.name).join(Q)}function v(U){const Q=U.indexOf("...")===0,ae=(Q?U.length>3?U.slice(3):"any":U).split("|").map(Te=>o(Te.trim()));let le=!1,ge=Q?"...":"";return{types:ae.map(function(Te){return le=Te.isAny||le,ge+=Te.name+"|",{name:Te.name,typeIndex:Te.index,test:Te.test,isAny:Te.isAny,conversion:null,conversionIndex:-1}}),name:ge.slice(0,-1),hasAny:le,hasConversion:!1,restParam:Q}}function b(U){const Q=U.types.map(Se=>Se.name),re=L(Q);let ae=U.hasAny,le=U.name;const ge=re.map(function(Se){const Te=o(Se.from);return ae=Te.isAny||ae,le+="|"+Se.from,{name:Se.from,typeIndex:Te.index,test:Te.test,isAny:Te.isAny,conversion:Se,conversionIndex:Se.index}});return{types:U.types.concat(ge),name:le,hasAny:ae,hasConversion:ge.length>0,restParam:U.restParam}}function y(U){return U.typeSet||(U.typeSet=new Set,U.types.forEach(Q=>U.typeSet.add(Q.name))),U.typeSet}function x(U){const Q=[];if(typeof U!="string")throw new TypeError("Signatures must be strings");const re=U.trim();if(re==="")return Q;const ae=re.split(",");for(let le=0;le<ae.length;++le){const ge=v(ae[le].trim());if(ge.restParam&&le!==ae.length-1)throw new SyntaxError('Unexpected rest parameter "'+ae[le]+'": only allowed for the last parameter');if(ge.types.length===0)return null;Q.push(ge)}return Q}function w(U){const Q=X(U);return Q?Q.restParam:!1}function E(U){if(!U||U.types.length===0)return uI;if(U.types.length===1)return o(U.types[0].name).test;if(U.types.length===2){const Q=o(U.types[0].name).test,re=o(U.types[1].name).test;return function(le){return Q(le)||re(le)}}else{const Q=U.types.map(function(re){return o(re.name).test});return function(ae){for(let le=0;le<Q.length;le++)if(Q[le](ae))return!0;return!1}}}function S(U){let Q,re,ae;if(w(U)){Q=W(U).map(E);const le=Q.length,ge=E(X(U)),Se=function(Te){for(let Ce=le;Ce<Te.length;Ce++)if(!ge(Te[Ce]))return!1;return!0};return function(Ce){for(let Ae=0;Ae<Q.length;Ae++)if(!Q[Ae](Ce[Ae]))return!1;return Se(Ce)&&Ce.length>=le+1}}else return U.length===0?function(ge){return ge.length===0}:U.length===1?(re=E(U[0]),function(ge){return re(ge[0])&&ge.length===1}):U.length===2?(re=E(U[0]),ae=E(U[1]),function(ge){return re(ge[0])&&ae(ge[1])&&ge.length===2}):(Q=U.map(E),function(ge){for(let Se=0;Se<Q.length;Se++)if(!Q[Se](ge[Se]))return!1;return ge.length===Q.length})}function A(U,Q){return Q<U.length?U[Q]:w(U)?X(U):null}function N(U,Q){const re=A(U,Q);return re?y(re):new Set}function D(U){return U.conversion===null||U.conversion===void 0}function C(U,Q){const re=new Set;return U.forEach(ae=>{const le=N(ae.params,Q);let ge;for(ge of le)re.add(ge)}),re.has("any")?["any"]:Array.from(re)}function M(U,Q,re){let ae,le;const ge=U||"unnamed";let Se=re,Te;for(Te=0;Te<Q.length;Te++){const Ge=[];if(Se.forEach(Rt=>{const R=A(Rt.params,Te),Z=E(R);(Te<Rt.params.length||w(Rt.params))&&Z(Q[Te])&&Ge.push(Rt)}),Ge.length===0){if(le=C(Se,Te),le.length>0){const Rt=f(Q[Te]);return ae=new TypeError("Unexpected type of argument in function "+ge+" (expected: "+le.join(" or ")+", actual: "+Rt.join(" | ")+", index: "+Te+")"),ae.data={category:"wrongType",fn:ge,index:Te,actual:Rt,expected:le},ae}}else Se=Ge}const Ce=Se.map(function(Ge){return w(Ge.params)?1/0:Ge.params.length});if(Q.length<Math.min.apply(null,Ce))return le=C(Se,Te),ae=new TypeError("Too few arguments in function "+ge+" (expected: "+le.join(" or ")+", index: "+Q.length+")"),ae.data={category:"tooFewArgs",fn:ge,index:Q.length,expected:le},ae;const Ae=Math.max.apply(null,Ce);if(Q.length>Ae)return ae=new TypeError("Too many arguments in function "+ge+" (expected: "+Ae+", actual: "+Q.length+")"),ae.data={category:"tooManyArgs",fn:ge,index:Q.length,expectedLength:Ae},ae;const yt=[];for(let Ge=0;Ge<Q.length;++Ge)yt.push(f(Q[Ge]).join("|"));return ae=new TypeError('Arguments of type "'+yt.join(", ")+'" do not match any of the defined signatures of function '+ge+"."),ae.data={category:"mismatch",actual:yt},ae}function I(U){let Q=i.length+1;for(let re=0;re<U.types.length;re++)D(U.types[re])&&(Q=Math.min(Q,U.types[re].typeIndex));return Q}function z(U){let Q=s+1;for(let re=0;re<U.types.length;re++)D(U.types[re])||(Q=Math.min(Q,U.types[re].conversionIndex));return Q}function V(U,Q){if(U.hasAny){if(!Q.hasAny)return 1}else if(Q.hasAny)return-1;if(U.restParam){if(!Q.restParam)return 1}else if(Q.restParam)return-1;if(U.hasConversion){if(!Q.hasConversion)return 1}else if(Q.hasConversion)return-1;const re=I(U)-I(Q);if(re<0)return-1;if(re>0)return 1;const ae=z(U)-z(Q);return ae<0?-1:ae>0?1:0}function k(U,Q){const re=U.params,ae=Q.params,le=X(re),ge=X(ae),Se=w(re),Te=w(ae);if(Se&&le.hasAny){if(!Te||!ge.hasAny)return 1}else if(Te&&ge.hasAny)return-1;let Ce=0,Ae=0,yt;for(yt of re)yt.hasAny&&++Ce,yt.hasConversion&&++Ae;let Ge=0,Rt=0;for(yt of ae)yt.hasAny&&++Ge,yt.hasConversion&&++Rt;if(Ce!==Ge)return Ce-Ge;if(Se&&le.hasConversion){if(!Te||!ge.hasConversion)return 1}else if(Te&&ge.hasConversion)return-1;if(Ae!==Rt)return Ae-Rt;if(Se){if(!Te)return 1}else if(Te)return-1;const R=(re.length-ae.length)*(Se?-1:1);if(R!==0)return R;const Z=[];let de=0;for(let Ye=0;Ye<re.length;++Ye){const Xe=V(re[Ye],ae[Ye]);Z.push(Xe),de+=Xe}if(de!==0)return de;let _e;for(_e of Z)if(_e!==0)return _e;return 0}function L(U){if(U.length===0)return[];const Q=U.map(o);U.length>1&&Q.sort((le,ge)=>le.index-ge.index);let re=Q[0].conversionsTo;if(U.length===1)return re;re=re.concat([]);const ae=new Set(U);for(let le=1;le<Q.length;++le){let ge;for(ge of Q[le].conversionsTo)ae.has(ge.from)||(re.push(ge),ae.add(ge.from))}return re}function B(U,Q){let re=Q;if(U.some(le=>le.hasConversion)){const le=w(U),ge=U.map($);re=function(){const Te=[],Ce=le?arguments.length-1:arguments.length;for(let Ae=0;Ae<Ce;Ae++)Te[Ae]=ge[Ae](arguments[Ae]);return le&&(Te[Ce]=arguments[Ce].map(ge[Ce])),Q.apply(this,Te)}}let ae=re;if(w(U)){const le=U.length-1;ae=function(){return re.apply(this,ee(arguments,0,le).concat([ee(arguments,le)]))}}return ae}function $(U){let Q,re,ae,le;const ge=[],Se=[];switch(U.types.forEach(function(Te){Te.conversion&&(ge.push(o(Te.conversion.from).test),Se.push(Te.conversion.convert))}),Se.length){case 0:return function(Ce){return Ce};case 1:return Q=ge[0],ae=Se[0],function(Ce){return Q(Ce)?ae(Ce):Ce};case 2:return Q=ge[0],re=ge[1],ae=Se[0],le=Se[1],function(Ce){return Q(Ce)?ae(Ce):re(Ce)?le(Ce):Ce};default:return function(Ce){for(let Ae=0;Ae<Se.length;Ae++)if(ge[Ae](Ce))return Se[Ae](Ce);return Ce}}}function Y(U){function Q(re,ae,le){if(ae<re.length){const ge=re[ae];let Se=[];if(ge.restParam){const Te=ge.types.filter(D);Te.length<ge.types.length&&Se.push({types:Te,name:"..."+Te.map(Ce=>Ce.name).join("|"),hasAny:Te.some(Ce=>Ce.isAny),hasConversion:!1,restParam:!0}),Se.push(ge)}else Se=ge.types.map(function(Te){return{types:[Te],name:Te.name,hasAny:Te.isAny,hasConversion:Te.conversion,restParam:!1}});return oe(Se,function(Te){return Q(re,ae+1,le.concat([Te]))})}else return[le]}return Q(U,0,[])}function ie(U,Q){const re=Math.max(U.length,Q.length);for(let Te=0;Te<re;Te++){const Ce=N(U,Te),Ae=N(Q,Te);let yt=!1,Ge;for(Ge of Ae)if(Ce.has(Ge)){yt=!0;break}if(!yt)return!1}const ae=U.length,le=Q.length,ge=w(U),Se=w(Q);return ge?Se?ae===le:le>=ae:Se?ae>=le:ae===le}function O(U){return U.map(Q=>ze(Q)?De(Q.referToSelf.callback):Be(Q)?pe(Q.referTo.references,Q.referTo.callback):Q)}function q(U,Q,re){const ae=[];let le;for(le of U){let ge=re[le];if(typeof ge!="number")throw new TypeError('No definition for referenced signature "'+le+'"');if(ge=Q[ge],typeof ge!="function")return!1;ae.push(ge)}return ae}function j(U,Q,re){const ae=O(U),le=new Array(ae.length).fill(!1);let ge=!0;for(;ge;){ge=!1;let Se=!0;for(let Te=0;Te<ae.length;++Te){if(le[Te])continue;const Ce=ae[Te];if(ze(Ce))ae[Te]=Ce.referToSelf.callback(re),ae[Te].referToSelf=Ce.referToSelf,le[Te]=!0,Se=!1;else if(Be(Ce)){const Ae=q(Ce.referTo.references,ae,Q);Ae?(ae[Te]=Ce.referTo.callback.apply(this,Ae),ae[Te].referTo=Ce.referTo,le[Te]=!0,Se=!1):ge=!0}}if(Se&&ge)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ae}function me(U){const Q=/\bthis(\(|\.signatures\b)/;Object.keys(U).forEach(re=>{const ae=U[re];if(Q.test(ae.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function ue(U,Q){if(a.createCount++,Object.keys(Q).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&me(Q);const re=[],ae=[],le={},ge=[];let Se;for(Se in Q){if(!Object.prototype.hasOwnProperty.call(Q,Se))continue;const Mt=x(Se);if(!Mt)continue;re.forEach(function(mi){if(ie(mi,Mt))throw new TypeError('Conflicting signatures "'+g(mi)+'" and "'+g(Mt)+'".')}),re.push(Mt);const en=ae.length;ae.push(Q[Se]);const oh=Mt.map(b);let Ms;for(Ms of Y(oh)){const mi=g(Ms);ge.push({params:Ms,name:mi,fn:en}),Ms.every(lh=>!lh.hasConversion)&&(le[mi]=en)}}ge.sort(k);const Te=j(ae,le,Il);let Ce;for(Ce in le)Object.prototype.hasOwnProperty.call(le,Ce)&&(le[Ce]=Te[le[Ce]]);const Ae=[],yt=new Map;for(Ce of ge)yt.has(Ce.name)||(Ce.fn=Te[Ce.fn],Ae.push(Ce),yt.set(Ce.name,Ce));const Ge=Ae[0]&&Ae[0].params.length<=2&&!w(Ae[0].params),Rt=Ae[1]&&Ae[1].params.length<=2&&!w(Ae[1].params),R=Ae[2]&&Ae[2].params.length<=2&&!w(Ae[2].params),Z=Ae[3]&&Ae[3].params.length<=2&&!w(Ae[3].params),de=Ae[4]&&Ae[4].params.length<=2&&!w(Ae[4].params),_e=Ae[5]&&Ae[5].params.length<=2&&!w(Ae[5].params),Ye=Ge&&Rt&&R&&Z&&de&&_e;for(let Mt=0;Mt<Ae.length;++Mt)Ae[Mt].test=S(Ae[Mt].params);const Xe=Ge?E(Ae[0].params[0]):Ii,cr=Rt?E(Ae[1].params[0]):Ii,Tl=R?E(Ae[2].params[0]):Ii,oa=Z?E(Ae[3].params[0]):Ii,lp=de?E(Ae[4].params[0]):Ii,ec=_e?E(Ae[5].params[0]):Ii,up=Ge?E(Ae[0].params[1]):Ii,Dl=Rt?E(Ae[1].params[1]):Ii,cp=R?E(Ae[2].params[1]):Ii,Zr=Z?E(Ae[3].params[1]):Ii,fp=de?E(Ae[4].params[1]):Ii,Cl=_e?E(Ae[5].params[1]):Ii;for(let Mt=0;Mt<Ae.length;++Mt)Ae[Mt].implementation=B(Ae[Mt].params,Ae[Mt].fn);const Ml=Ge?Ae[0].implementation:oc,Q1=Rt?Ae[1].implementation:oc,X1=R?Ae[2].implementation:oc,ro=Z?Ae[3].implementation:oc,J1=de?Ae[4].implementation:oc,Z1=_e?Ae[5].implementation:oc,tc=Ge?Ae[0].params.length:-1,hp=Rt?Ae[1].params.length:-1,ih=R?Ae[2].params.length:-1,rc=Z?Ae[3].params.length:-1,Cs=de?Ae[4].params.length:-1,dp=_e?Ae[5].params.length:-1,mp=Ye?6:0,sh=Ae.length,ah=Ae.map(Mt=>Mt.test),pp=Ae.map(Mt=>Mt.implementation),gp=function(){for(let en=mp;en<sh;en++)if(ah[en](arguments))return pp[en].apply(this,arguments);return a.onMismatch(U,arguments,Ae)};function Il(Mt,en){return arguments.length===tc&&Xe(Mt)&&up(en)?Ml.apply(this,arguments):arguments.length===hp&&cr(Mt)&&Dl(en)?Q1.apply(this,arguments):arguments.length===ih&&Tl(Mt)&&cp(en)?X1.apply(this,arguments):arguments.length===rc&&oa(Mt)&&Zr(en)?ro.apply(this,arguments):arguments.length===Cs&&lp(Mt)&&fp(en)?J1.apply(this,arguments):arguments.length===dp&&ec(Mt)&&Cl(en)?Z1.apply(this,arguments):gp.apply(this,arguments)}try{Object.defineProperty(Il,"name",{value:U})}catch{}return Il.signatures=le,Il._typedFunctionData={signatures:Ae,signatureMap:yt},Il}function fe(U,Q,re){throw M(U,Q,re)}function W(U){return ee(U,0,U.length-1)}function X(U){return U[U.length-1]}function ee(U,Q,re){return Array.prototype.slice.call(U,Q,re)}function se(U,Q){for(let re=0;re<U.length;re++)if(Q(U[re]))return U[re]}function oe(U,Q){return Array.prototype.concat.apply([],U.map(Q))}function ve(){const U=W(arguments).map(re=>g(x(re))),Q=X(arguments);if(typeof Q!="function")throw new TypeError("Callback function expected as last argument");return pe(U,Q)}function pe(U,Q){return{referTo:{references:U,callback:Q}}}function De(U){if(typeof U!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:U}}}function Be(U){return U&&typeof U.referTo=="object"&&Array.isArray(U.referTo.references)&&typeof U.referTo.callback=="function"}function ze(U){return U&&typeof U.referToSelf=="object"&&typeof U.referToSelf.callback=="function"}function ke(U,Q){if(!U)return Q;if(Q&&Q!==U){const re=new Error("Function names do not match (expected: "+U+", actual: "+Q+")");throw re.data={actual:Q,expected:U},re}return U}function He(U){let Q;for(const re in U)Object.prototype.hasOwnProperty.call(U,re)&&(h(U[re])||typeof U[re].signature=="string")&&(Q=ke(Q,U[re].name));return Q}function K(U,Q){let re;for(re in Q)if(Object.prototype.hasOwnProperty.call(Q,re)){if(re in U&&Q[re]!==U[re]){const ae=new Error('Signature "'+re+'" is defined twice');throw ae.data={signature:re,sourceFunction:Q[re],destFunction:U[re]},ae}U[re]=Q[re]}}const te=a;a=function(U){const Q=typeof U=="string",re=Q?1:0;let ae=Q?U:"";const le={};for(let ge=re;ge<arguments.length;++ge){const Se=arguments[ge];let Te={},Ce;if(typeof Se=="function"?(Ce=Se.name,typeof Se.signature=="string"?Te[Se.signature]=Se:h(Se)&&(Te=Se.signatures)):t(Se)&&(Te=Se,Q||(Ce=He(Se))),Object.keys(Te).length===0){const Ae=new TypeError("Argument to 'typed' at index "+ge+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ae.data={index:ge,argument:Se},Ae}Q||(ae=ke(ae,Ce)),K(le,Te)}return ue(ae||"",le)},a.create=I8,a.createCount=te.createCount,a.onMismatch=fe,a.throwMismatchError=fe,a.createError=M,a.clear=u,a.clearConversions=c,a.addTypes=l,a._findType=o,a.referTo=ve,a.referToSelf=De,a.convert=p,a.findSignature=d,a.find=m,a.isTypedFunction=h,a.warnAgainstDeprecatedThis=!0,a.addType=function(U,Q){let re="any";Q!==!1&&n.has("Object")&&(re="Object"),a.addTypes([U],re)};function ce(U){if(!U||typeof U.from!="string"||typeof U.to!="string"||typeof U.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(U.to===U.from)throw new SyntaxError('Illegal to define conversion from "'+U.from+'" to itself.')}return a.addConversion=function(U){let Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};ce(U);const re=o(U.to),ae=re.conversionsTo.find(le=>le.from===U.from);if(ae)if(Q&&Q.override)a.removeConversion({from:ae.from,to:U.to,convert:ae.convert});else throw new Error('There is already a conversion from "'+U.from+'" to "'+re.name+'"');re.conversionsTo.push({from:U.from,convert:U.convert,index:s++})},a.addConversions=function(U,Q){U.forEach(re=>a.addConversion(re,Q))},a.removeConversion=function(U){ce(U);const Q=o(U.to),re=se(Q.conversionsTo,le=>le.from===U.from);if(!re)throw new Error("Attempt to remove nonexistent conversion from "+U.from+" to "+U.to);if(re.convert!==U.convert)throw new Error("Conversion to remove does not match existing conversion");const ae=Q.conversionsTo.indexOf(re);Q.conversionsTo.splice(ae,1)},a.resolve=function(U,Q){if(!h(U))throw new TypeError(cI);const re=U._typedFunctionData.signatures;for(let ae=0;ae<re.length;++ae)if(re[ae].test(Q))return re[ae];return null},a}const F0=I8();function H(t,e,r,n){function i(s){var a=Poe(s,e.map(Boe));return Ooe(t,e,s),r(a)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),n&&(i.meta=n),i}function Ooe(t,e,r){var n=e.filter(s=>!Foe(s)).every(s=>r[s]!==void 0);if(!n){var i=e.filter(s=>r[s]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(s=>'"'.concat(s,'"')).join(", "),"."))}}function Foe(t){return t&&t[0]==="?"}function Boe(t){return t&&t[0]==="?"?t.slice(1):t}function We(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}function yl(t,e){if(e.number==="bigint")try{BigInt(t)}catch{return e.numberFallback}return e.number}var To=Math.sign||function(t){return t>0?1:t<0?-1:0},Loe=Math.log2||function(e){return Math.log(e)/Math.LN2},Voe=Math.log10||function(e){return Math.log(e)/Math.LN10},$oe=Math.log1p||function(t){return Math.log(t+1)},zoe=Math.cbrt||function(e){if(e===0)return e;var r=e<0,n;return r&&(e=-e),isFinite(e)?(n=Math.exp(Math.log(e)/3),n=(e/(n*n)+2*n)/3):n=e,r?-n:n},joe=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function mb(t,e,r){var n={2:"0b",8:"0o",16:"0x"},i=n[e],s="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!We(r))throw new Error("size must be an integer");if(t>2**(r-1)-1||t<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!We(t))throw new Error("Value must be an integer");t<0&&(t=t+2**r),s="i".concat(r)}var a="";return t<0&&(t=-t,a="-"),"".concat(a).concat(i).concat(t.toString(e)).concat(s)}function du(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var{notation:r,precision:n,wordSize:i}=P8(e);switch(r){case"fixed":return k8(t,n);case"exponential":return R8(t,n);case"engineering":return Uoe(t,n);case"bin":return mb(t,2,i);case"oct":return mb(t,8,i);case"hex":return mb(t,16,i);case"auto":return qoe(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],a=arguments[4];return s!=="."?s+a:a});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function P8(t){var e="auto",r,n;if(t!==void 0)if(ft(t))r=t;else if(ht(t))r=t.toNumber();else if(N1(t))t.precision!==void 0&&(r=fI(t.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),t.wordSize!==void 0&&(n=fI(t.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),t.notation&&(e=t.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:r,wordSize:n}}function Qm(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var r=e[1],n=e[2],i=parseFloat(e[4]||"0"),s=n.indexOf(".");i+=s!==-1?s-1:n.length-1;var a=n.replace(".","").replace(/^0*/,function(o){return i-=o.length,""}).replace(/0*$/,"").split("").map(function(o){return parseInt(o)});return a.length===0&&(a.push(0),i++),{sign:r,coefficients:a,exponent:i}}function Uoe(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Qm(t),n=D1(r,e),i=n.exponent,s=n.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(ft(e))for(;e>s.length||i-a+1>s.length;)s.push(0);else for(var o=Math.abs(i-a)-(s.length-1),l=0;l<o;l++)s.push(0);for(var u=Math.abs(i-a),c=1;u>0;)c++,u--;var f=s.slice(c).join(""),h=ft(e)&&f.length||f.match(/[1-9]/)?"."+f:"",d=s.slice(0,c).join("")+h+"e"+(i>=0?"+":"")+a.toString();return n.sign+d}function k8(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Qm(t),n=typeof e=="number"?D1(r,r.exponent+1+e):r,i=n.coefficients,s=n.exponent+1,a=s+(e||0);return i.length<a&&(i=i.concat(Xc(a-i.length))),s<0&&(i=Xc(-s+1).concat(i),s=1),s<i.length&&i.splice(s,0,s===0?"0.":"."),n.sign+i.join("")}function R8(t,e){if(isNaN(t)||!isFinite(t))return String(t);var r=Qm(t),n=e?D1(r,e):r,i=n.coefficients,s=n.exponent;i.length<e&&(i=i.concat(Xc(e-i.length)));var a=i.shift();return n.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(s>=0?"+":"")+s}function qoe(t,e,r){if(isNaN(t)||!isFinite(t))return String(t);var n=hI(r==null?void 0:r.lowerExp,-3),i=hI(r==null?void 0:r.upperExp,5),s=Qm(t),a=e?D1(s,e):s;if(a.exponent<n||a.exponent>=i)return R8(t,e);var o=a.coefficients,l=a.exponent;o.length<e&&(o=o.concat(Xc(e-o.length))),o=o.concat(Xc(l-o.length+1+(o.length<e?e-o.length:0))),o=Xc(-l).concat(o);var u=l>0?l:0;return u<o.length-1&&o.splice(u+1,0,"."),a.sign+o.join("")}function D1(t,e){for(var r={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},n=r.coefficients;e<=0;)n.unshift(0),r.exponent++,e++;if(n.length>e){var i=n.splice(e,n.length-e);if(i[0]>=5){var s=e-1;for(n[s]++;n[s]===10;)n.pop(),s===0&&(n.unshift(0),r.exponent++,s++),s--,n[s]++}}return r}function Xc(t){for(var e=[],r=0;r<t;r++)e.push(0);return e}function Hoe(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function mn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(t)||isNaN(e)?!1:!isFinite(t)||!isFinite(e)?t===e:t===e?!0:Math.abs(t-e)<=Math.max(r*Math.max(Math.abs(t),Math.abs(e)),n)}var Woe=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},Goe=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Koe=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Yoe=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},Qoe=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},Xoe=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function Joe(t,e){var r=!0,n=e>0?!0:e<0?!1:1/e===1/0;return r^n?-t:t}function fI(t,e){if(ft(t))return t;if(ht(t))return t.toNumber();e()}function hI(t,e){return ft(t)?t:ht(t)?t.toNumber():e}var O8=function(){return O8=F0.create,F0},Zoe=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ele=H("typed",Zoe,function(e){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:s}=e,a=O8();return a.clear(),a.addTypes([{name:"number",test:ft},{name:"Complex",test:Ra},{name:"BigNumber",test:ht},{name:"bigint",test:bd},{name:"Fraction",test:Km},{name:"Unit",test:yi},{name:"identifier",test:o=>Cn&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(o)},{name:"string",test:Cn},{name:"Chain",test:C8},{name:"Array",test:Ut},{name:"Matrix",test:Je},{name:"DenseMatrix",test:O0},{name:"SparseMatrix",test:su},{name:"Range",test:zA},{name:"Index",test:A1},{name:"boolean",test:yoe},{name:"ResultSet",test:xoe},{name:"Help",test:T8},{name:"function",test:boe},{name:"Date",test:woe},{name:"RegExp",test:_oe},{name:"null",test:Eoe},{name:"undefined",test:Soe},{name:"AccessorNode",test:Tu},{name:"ArrayNode",test:Bi},{name:"AssignmentNode",test:Aoe},{name:"BlockNode",test:Noe},{name:"ConditionalNode",test:Toe},{name:"ConstantNode",test:_t},{name:"FunctionNode",test:il},{name:"FunctionAssignmentNode",test:Ym},{name:"IndexNode",test:Hf},{name:"Node",test:$t},{name:"ObjectNode",test:T1},{name:"OperatorNode",test:Ar},{name:"ParenthesisNode",test:Ga},{name:"RangeNode",test:Doe},{name:"RelationalNode",test:Coe},{name:"SymbolNode",test:Xr},{name:"Map",test:D8},{name:"Object",test:N1}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||sg(l),Hoe(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||ag(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||ag(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||sg(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||og(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||ag(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||og(l);var u=new s(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){r||sg(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||og(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||ag(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||sg(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||og(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||tle(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(o,l,u)=>{var c=a.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Qi(l[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw f.data=c.data,f}throw c},a.onMismatch=(o,l,u)=>{var c=a.createError(o,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Qi(l[0])&&u.some(h=>!h.params.includes(","))){var f=new TypeError("Function '".concat(o,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(o,")'."));throw f.data=c.data,f}throw c},a});function sg(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function ag(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function tle(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function og(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var rle="ResultSet",nle=[],ile=H(rle,nle,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.6.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Oc=9e15,xl=1e9,T_="0123456789abcdef",B0="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",L0="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",D_={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Oc,maxE:Oc,crypto:!1},F8,Ta,lt=!0,C1="[DecimalError] ",sl=C1+"Invalid argument: ",B8=C1+"Precision limit exceeded",L8=C1+"crypto unavailable",V8="[object Decimal]",Fn=Math.floor,Fr=Math.pow,sle=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,ale=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,ole=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,$8=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ys=1e7,et=7,lle=9007199254740991,ule=B0.length-1,C_=L0.length-1,Ne={toStringTag:V8};Ne.absoluteValue=Ne.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Qe(t)};Ne.ceil=function(){return Qe(new this.constructor(this),this.e+1,2)};Ne.clampedTo=Ne.clamp=function(t,e){var r,n=this,i=n.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(sl+e);return r=n.cmp(t),r<0?t:n.cmp(e)>0?e:new i(n)};Ne.comparedTo=Ne.cmp=function(t){var e,r,n,i,s=this,a=s.d,o=(t=new s.constructor(t)).d,l=s.s,u=t.s;if(!a||!o)return!l||!u?NaN:l!==u?l:a===o?0:!a^l<0?1:-1;if(!a[0]||!o[0])return a[0]?l:o[0]?-u:0;if(l!==u)return l;if(s.e!==t.e)return s.e>t.e^l<0?1:-1;for(n=a.length,i=o.length,e=0,r=n<i?n:i;e<r;++e)if(a[e]!==o[e])return a[e]>o[e]^l<0?1:-1;return n===i?0:n>i^l<0?1:-1};Ne.cosine=Ne.cos=function(){var t,e,r=this,n=r.constructor;return r.d?r.d[0]?(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+et,n.rounding=1,r=cle(n,H8(n,r)),n.precision=t,n.rounding=e,Qe(Ta==2||Ta==3?r.neg():r,t,e,!0)):new n(1):new n(NaN)};Ne.cubeRoot=Ne.cbrt=function(){var t,e,r,n,i,s,a,o,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(lt=!1,s=c.s*Fr(c.s*c,1/3),!s||Math.abs(s)==1/0?(r=ln(c.d),t=c.e,(s=(t-r.length+1)%3)&&(r+=s==1||s==-2?"0":"00"),s=Fr(r,1/3),t=Fn((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?r="5e"+t:(r=s.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),n=new f(r),n.s=c.s):n=new f(s.toString()),a=(t=f.precision)+3;;)if(o=n,l=o.times(o).times(o),u=l.plus(c),n=Jt(u.plus(c).times(o),u.plus(l),a+2,1),ln(o.d).slice(0,a)===(r=ln(n.d)).slice(0,a))if(r=r.slice(a-3,a+1),r=="9999"||!i&&r=="4999"){if(!i&&(Qe(o,t+1,0),o.times(o).times(o).eq(c))){n=o;break}a+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Qe(n,t+1,1),e=!n.times(n).times(n).eq(c));break}return lt=!0,Qe(n,t,f.rounding,e)};Ne.decimalPlaces=Ne.dp=function(){var t,e=this.d,r=NaN;if(e){if(t=e.length-1,r=(t-Fn(this.e/et))*et,t=e[t],t)for(;t%10==0;t/=10)r--;r<0&&(r=0)}return r};Ne.dividedBy=Ne.div=function(t){return Jt(this,new this.constructor(t))};Ne.dividedToIntegerBy=Ne.divToInt=function(t){var e=this,r=e.constructor;return Qe(Jt(e,new r(t),0,1,1),r.precision,r.rounding)};Ne.equals=Ne.eq=function(t){return this.cmp(t)===0};Ne.floor=function(){return Qe(new this.constructor(this),this.e+1,3)};Ne.greaterThan=Ne.gt=function(t){return this.cmp(t)>0};Ne.greaterThanOrEqualTo=Ne.gte=function(t){var e=this.cmp(t);return e==1||e===0};Ne.hyperbolicCosine=Ne.cosh=function(){var t,e,r,n,i,s=this,a=s.constructor,o=new a(1);if(!s.isFinite())return new a(s.s?1/0:NaN);if(s.isZero())return o;r=a.precision,n=a.rounding,a.precision=r+Math.max(s.e,s.sd())+4,a.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/I1(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=Ef(a,1,s.times(e),new a(1),!0);for(var l,u=t,c=new a(8);u--;)l=s.times(s),s=o.minus(l.times(c.minus(l.times(c))));return Qe(s,a.precision=r,a.rounding=n,!0)};Ne.hyperbolicSine=Ne.sinh=function(){var t,e,r,n,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,r=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,n=i.d.length,n<3)i=Ef(s,2,i,i,!0);else{t=1.4*Math.sqrt(n),t=t>16?16:t|0,i=i.times(1/I1(5,t)),i=Ef(s,2,i,i,!0);for(var a,o=new s(5),l=new s(16),u=new s(20);t--;)a=i.times(i),i=i.times(o.plus(a.times(l.times(a).plus(u))))}return s.precision=e,s.rounding=r,Qe(i,e,r,!0)};Ne.hyperbolicTangent=Ne.tanh=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,Jt(r.sinh(),r.cosh(),n.precision=t,n.rounding=e)):new n(r.s)};Ne.inverseCosine=Ne.acos=function(){var t=this,e=t.constructor,r=t.abs().cmp(1),n=e.precision,i=e.rounding;return r!==-1?r===0?t.isNeg()?$s(e,n,i):new e(0):new e(NaN):t.isZero()?$s(e,n+4,i).times(.5):(e.precision=n+6,e.rounding=1,t=new e(1).minus(t).div(t.plus(1)).sqrt().atan(),e.precision=n,e.rounding=i,t.times(2))};Ne.inverseHyperbolicCosine=Ne.acosh=function(){var t,e,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(t=n.precision,e=n.rounding,n.precision=t+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,lt=!1,r=r.times(r).minus(1).sqrt().plus(r),lt=!0,n.precision=t,n.rounding=e,r.ln()):new n(r)};Ne.inverseHyperbolicSine=Ne.asinh=function(){var t,e,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,lt=!1,r=r.times(r).plus(1).sqrt().plus(r),lt=!0,n.precision=t,n.rounding=e,r.ln())};Ne.inverseHyperbolicTangent=Ne.atanh=function(){var t,e,r,n,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?Qe(new s(i),t,e,!0):(s.precision=r=n-i.e,i=Jt(i.plus(1),new s(1).minus(i),r+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};Ne.inverseSine=Ne.asin=function(){var t,e,r,n,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),r=s.precision,n=s.rounding,e!==-1?e===0?(t=$s(s,r+4,n).times(.5),t.s=i.s,t):new s(NaN):(s.precision=r+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=r,s.rounding=n,i.times(2)))};Ne.inverseTangent=Ne.atan=function(){var t,e,r,n,i,s,a,o,l,u=this,c=u.constructor,f=c.precision,h=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=C_)return a=$s(c,f+4,h).times(.25),a.s=u.s,a}else{if(!u.s)return new c(NaN);if(f+4<=C_)return a=$s(c,f+4,h).times(.5),a.s=u.s,a}for(c.precision=o=f+10,c.rounding=1,r=Math.min(28,o/et+2|0),t=r;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(lt=!1,e=Math.ceil(o/et),n=1,l=u.times(u),a=new c(u),i=u;t!==-1;)if(i=i.times(l),s=a.minus(i.div(n+=2)),i=i.times(l),a=s.plus(i.div(n+=2)),a.d[e]!==void 0)for(t=e;a.d[t]===s.d[t]&&t--;);return r&&(a=a.times(2<<r-1)),lt=!0,Qe(a,c.precision=f,c.rounding=h,!0)};Ne.isFinite=function(){return!!this.d};Ne.isInteger=Ne.isInt=function(){return!!this.d&&Fn(this.e/et)>this.d.length-2};Ne.isNaN=function(){return!this.s};Ne.isNegative=Ne.isNeg=function(){return this.s<0};Ne.isPositive=Ne.isPos=function(){return this.s>0};Ne.isZero=function(){return!!this.d&&this.d[0]===0};Ne.lessThan=Ne.lt=function(t){return this.cmp(t)<0};Ne.lessThanOrEqualTo=Ne.lte=function(t){return this.cmp(t)<1};Ne.logarithm=Ne.log=function(t){var e,r,n,i,s,a,o,l,u=this,c=u.constructor,f=c.precision,h=c.rounding,d=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),r=t.d,t.s<0||!r||!r[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(r=u.d,u.s<0||!r||!r[0]||u.eq(1))return new c(r&&!r[0]?-1/0:u.s!=1?NaN:r?0:1/0);if(e)if(r.length>1)s=!0;else{for(i=r[0];i%10===0;)i/=10;s=i!==1}if(lt=!1,o=f+d,a=Do(u,o),n=e?V0(c,o+10):Do(t,o),l=Jt(a,n,o,1),hm(l.d,i=f,h))do if(o+=10,a=Do(u,o),n=e?V0(c,o+10):Do(t,o),l=Jt(a,n,o,1),!s){+ln(l.d).slice(i+1,i+15)+1==1e14&&(l=Qe(l,f+1,0));break}while(hm(l.d,i+=10,h));return lt=!0,Qe(l,f,h)};Ne.minus=Ne.sub=function(t){var e,r,n,i,s,a,o,l,u,c,f,h,d=this,m=d.constructor;if(t=new m(t),!d.d||!t.d)return!d.s||!t.s?t=new m(NaN):d.d?t.s=-t.s:t=new m(t.d||d.s!==t.s?d:NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,h=t.d,o=m.precision,l=m.rounding,!u[0]||!h[0]){if(h[0])t.s=-t.s;else if(u[0])t=new m(d);else return new m(l===3?-0:0);return lt?Qe(t,o,l):t}if(r=Fn(t.e/et),c=Fn(d.e/et),u=u.slice(),s=c-r,s){for(f=s<0,f?(e=u,s=-s,a=h.length):(e=h,r=c,a=u.length),n=Math.max(Math.ceil(o/et),a)+2,s>n&&(s=n,e.length=1),e.reverse(),n=s;n--;)e.push(0);e.reverse()}else{for(n=u.length,a=h.length,f=n<a,f&&(a=n),n=0;n<a;n++)if(u[n]!=h[n]){f=u[n]<h[n];break}s=0}for(f&&(e=u,u=h,h=e,t.s=-t.s),a=u.length,n=h.length-a;n>0;--n)u[a++]=0;for(n=h.length;n>s;){if(u[--n]<h[n]){for(i=n;i&&u[--i]===0;)u[i]=ys-1;--u[i],u[n]+=ys}u[n]-=h[n]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=M1(u,r),lt?Qe(t,o,l):t):new m(l===3?-0:0)};Ne.modulo=Ne.mod=function(t){var e,r=this,n=r.constructor;return t=new n(t),!r.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||r.d&&!r.d[0]?Qe(new n(r),n.precision,n.rounding):(lt=!1,n.modulo==9?(e=Jt(r,t.abs(),0,3,1),e.s*=t.s):e=Jt(r,t,0,n.modulo,1),e=e.times(t),lt=!0,r.minus(e))};Ne.naturalExponential=Ne.exp=function(){return M_(this)};Ne.naturalLogarithm=Ne.ln=function(){return Do(this)};Ne.negated=Ne.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Qe(t)};Ne.plus=Ne.add=function(t){var e,r,n,i,s,a,o,l,u,c,f=this,h=f.constructor;if(t=new h(t),!f.d||!t.d)return!f.s||!t.s?t=new h(NaN):f.d||(t=new h(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,c=t.d,o=h.precision,l=h.rounding,!u[0]||!c[0])return c[0]||(t=new h(f)),lt?Qe(t,o,l):t;if(s=Fn(f.e/et),n=Fn(t.e/et),u=u.slice(),i=s-n,i){for(i<0?(r=u,i=-i,a=c.length):(r=c,n=s,a=u.length),s=Math.ceil(o/et),a=s>a?s+1:a+1,i>a&&(i=a,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(a=u.length,i=c.length,a-i<0&&(i=a,r=c,c=u,u=r),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/ys|0,u[i]%=ys;for(e&&(u.unshift(e),++n),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=M1(u,n),lt?Qe(t,o,l):t};Ne.precision=Ne.sd=function(t){var e,r=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(sl+t);return r.d?(e=z8(r.d),t&&r.e+1>e&&(e=r.e+1)):e=NaN,e};Ne.round=function(){var t=this,e=t.constructor;return Qe(new e(t),t.e+1,e.rounding)};Ne.sine=Ne.sin=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+Math.max(r.e,r.sd())+et,n.rounding=1,r=hle(n,H8(n,r)),n.precision=t,n.rounding=e,Qe(Ta>2?r.neg():r,t,e,!0)):new n(NaN)};Ne.squareRoot=Ne.sqrt=function(){var t,e,r,n,i,s,a=this,o=a.d,l=a.e,u=a.s,c=a.constructor;if(u!==1||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?a:1/0);for(lt=!1,u=Math.sqrt(+a),u==0||u==1/0?(e=ln(o),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Fn((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),n=new c(e)):n=new c(u.toString()),r=(l=c.precision)+3;;)if(s=n,n=s.plus(Jt(a,s,r+2,1)).times(.5),ln(s.d).slice(0,r)===(e=ln(n.d)).slice(0,r))if(e=e.slice(r-3,r+1),e=="9999"||!i&&e=="4999"){if(!i&&(Qe(s,l+1,0),s.times(s).eq(a))){n=s;break}r+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Qe(n,l+1,1),t=!n.times(n).eq(a));break}return lt=!0,Qe(n,l,c.rounding,t)};Ne.tangent=Ne.tan=function(){var t,e,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(t=n.precision,e=n.rounding,n.precision=t+10,n.rounding=1,r=r.sin(),r.s=1,r=Jt(r,new n(1).minus(r.times(r)).sqrt(),t+10,0),n.precision=t,n.rounding=e,Qe(Ta==2||Ta==4?r.neg():r,t,e,!0)):new n(NaN)};Ne.times=Ne.mul=function(t){var e,r,n,i,s,a,o,l,u,c=this,f=c.constructor,h=c.d,d=(t=new f(t)).d;if(t.s*=c.s,!h||!h[0]||!d||!d[0])return new f(!t.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:!h||!d?t.s/0:t.s*0);for(r=Fn(c.e/et)+Fn(t.e/et),l=h.length,u=d.length,l<u&&(s=h,h=d,d=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+d[n]*h[i-n-1]+e,s[i--]=o%ys|0,e=o/ys|0;s[i]=(s[i]+e)%ys|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=M1(s,r),lt?Qe(t,f.precision,f.rounding):t};Ne.toBinary=function(t,e){return jA(this,2,t,e)};Ne.toDecimalPlaces=Ne.toDP=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(di(t,0,xl),e===void 0?e=n.rounding:di(e,0,8),Qe(r,t+r.e+1,e))};Ne.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ea(n,!0):(di(t,0,xl),e===void 0?e=i.rounding:di(e,0,8),n=Qe(new i(n),t+1,e),r=ea(n,!0,t+1)),n.isNeg()&&!n.isZero()?"-"+r:r};Ne.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?r=ea(i):(di(t,0,xl),e===void 0?e=s.rounding:di(e,0,8),n=Qe(new s(i),t+i.e+1,e),r=ea(n,!1,t+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};Ne.toFraction=function(t){var e,r,n,i,s,a,o,l,u,c,f,h,d=this,m=d.d,p=d.constructor;if(!m)return new p(d);if(u=r=new p(1),n=l=new p(0),e=new p(n),s=e.e=z8(m)-d.e-1,a=s%et,e.d[0]=Fr(10,a<0?et+a:a),t==null)t=s>0?e:u;else{if(o=new p(t),!o.isInt()||o.lt(u))throw Error(sl+o);t=o.gt(e)?s>0?e:u:o}for(lt=!1,o=new p(ln(m)),c=p.precision,p.precision=s=m.length*et*2;f=Jt(o,e,0,1,1),i=r.plus(f.times(n)),i.cmp(t)!=1;)r=n,n=i,i=u,u=l.plus(f.times(i)),l=i,i=e,e=o.minus(f.times(i)),o=i;return i=Jt(t.minus(r),n,0,1,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=d.s,h=Jt(u,n,s,1).minus(d).abs().cmp(Jt(l,r,s,1).minus(d).abs())<1?[u,n]:[l,r],p.precision=c,lt=!0,h};Ne.toHexadecimal=Ne.toHex=function(t,e){return jA(this,16,t,e)};Ne.toNearest=function(t,e){var r=this,n=r.constructor;if(r=new n(r),t==null){if(!r.d)return r;t=new n(1),e=n.rounding}else{if(t=new n(t),e===void 0?e=n.rounding:di(e,0,8),!r.d)return t.s?r:t;if(!t.d)return t.s&&(t.s=r.s),t}return t.d[0]?(lt=!1,r=Jt(r,t,0,e,1).times(t),lt=!0,Qe(r)):(t.s=r.s,r=t),r};Ne.toNumber=function(){return+this};Ne.toOctal=function(t,e){return jA(this,8,t,e)};Ne.toPower=Ne.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,u=+(t=new l(t));if(!o.d||!t.d||!o.d[0]||!t.d[0])return new l(Fr(+o,u));if(o=new l(o),o.eq(1))return o;if(n=l.precision,s=l.rounding,t.eq(1))return Qe(o,n,s);if(e=Fn(t.e/et),e>=t.d.length-1&&(r=u<0?-u:u)<=lle)return i=j8(l,o,r,n),t.s<0?new l(1).div(i):Qe(i,n,s);if(a=o.s,a<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(a=1),o.e==0&&o.d[0]==1&&o.d.length==1)return o.s=a,o}return r=Fr(+o,u),e=r==0||!isFinite(r)?Fn(u*(Math.log("0."+ln(o.d))/Math.LN10+o.e+1)):new l(r+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?a/0:0):(lt=!1,l.rounding=o.s=1,r=Math.min(12,(e+"").length),i=M_(t.times(Do(o,n+r)),n),i.d&&(i=Qe(i,n+5,1),hm(i.d,n,s)&&(e=n+10,i=Qe(M_(t.times(Do(o,e+r)),e),e+5,1),+ln(i.d).slice(n+1,n+15)+1==1e14&&(i=Qe(i,n+1,0)))),i.s=a,lt=!0,l.rounding=s,Qe(i,n,s))};Ne.toPrecision=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=ea(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(di(t,1,xl),e===void 0?e=i.rounding:di(e,0,8),n=Qe(new i(n),t,e),r=ea(n,t<=n.e||n.e<=i.toExpNeg,t)),n.isNeg()&&!n.isZero()?"-"+r:r};Ne.toSignificantDigits=Ne.toSD=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(di(t,1,xl),e===void 0?e=n.rounding:di(e,0,8)),Qe(new n(r),t,e)};Ne.toString=function(){var t=this,e=t.constructor,r=ea(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+r:r};Ne.truncated=Ne.trunc=function(){return Qe(new this.constructor(this),this.e+1,1)};Ne.valueOf=Ne.toJSON=function(){var t=this,e=t.constructor,r=ea(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+r:r};function ln(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=et-n.length,r&&(s+=mo(r)),s+=n;a=t[e],n=a+"",r=et-n.length,r&&(s+=mo(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}function di(t,e,r){if(t!==~~t||t<e||t>r)throw Error(sl+t)}function hm(t,e,r,n){var i,s,a,o;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=et,i=0):(i=Math.ceil((e+1)/et),e%=et),s=Fr(10,et-e),o=t[i]%s|0,n==null?e<3?(e==0?o=o/100|0:e==1&&(o=o/10|0),a=r<4&&o==99999||r>3&&o==49999||o==5e4||o==0):a=(r<4&&o+1==s||r>3&&o+1==s/2)&&(t[i+1]/s/100|0)==Fr(10,e-2)-1||(o==s/2||o==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?o=o/1e3|0:e==1?o=o/100|0:e==2&&(o=o/10|0),a=(n||r<4)&&o==9999||!n&&r>3&&o==4999):a=((n||r<4)&&o+1==s||!n&&r>3&&o+1==s/2)&&(t[i+1]/s/1e3|0)==Fr(10,e-3)-1,a}function hv(t,e,r){for(var n,i=[0],s,a=0,o=t.length;a<o;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=T_.indexOf(t.charAt(a++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function cle(t,e){var r,n,i;if(e.isZero())return e;n=e.d.length,n<32?(r=Math.ceil(n/3),i=(1/I1(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),t.precision+=r,e=Ef(t,1,e.times(i),new t(1));for(var s=r;s--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=r,e}var Jt=function(){function t(n,i,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%s|0,o=a/s|0;return o&&n.unshift(o),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s,a){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*a+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a,o,l){var u,c,f,h,d,m,p,g,v,b,y,x,w,E,S,A,N,D,C,M,I=n.constructor,z=n.s==i.s?1:-1,V=n.d,k=i.d;if(!V||!V[0]||!k||!k[0])return new I(!n.s||!i.s||(V?k&&V[0]==k[0]:!k)?NaN:V&&V[0]==0||!k?z*0:z/0);for(l?(d=1,c=n.e-i.e):(l=ys,d=et,c=Fn(n.e/d)-Fn(i.e/d)),C=k.length,N=V.length,v=new I(z),b=v.d=[],f=0;k[f]==(V[f]||0);f++);if(k[f]>(V[f]||0)&&c--,s==null?(E=s=I.precision,a=I.rounding):o?E=s+(n.e-i.e)+1:E=s,E<0)b.push(1),m=!0;else{if(E=E/d+2|0,f=0,C==1){for(h=0,k=k[0],E++;(f<N||h)&&E--;f++)S=h*l+(V[f]||0),b[f]=S/k|0,h=S%k|0;m=h||f<N}else{for(h=l/(k[0]+1)|0,h>1&&(k=t(k,h,l),V=t(V,h,l),C=k.length,N=V.length),A=C,y=V.slice(0,C),x=y.length;x<C;)y[x++]=0;M=k.slice(),M.unshift(0),D=k[0],k[1]>=l/2&&++D;do h=0,u=e(k,y,C,x),u<0?(w=y[0],C!=x&&(w=w*l+(y[1]||0)),h=w/D|0,h>1?(h>=l&&(h=l-1),p=t(k,h,l),g=p.length,x=y.length,u=e(p,y,g,x),u==1&&(h--,r(p,C<g?M:k,g,l))):(h==0&&(u=h=1),p=k.slice()),g=p.length,g<x&&p.unshift(0),r(y,p,x,l),u==-1&&(x=y.length,u=e(k,y,C,x),u<1&&(h++,r(y,C<x?M:k,x,l))),x=y.length):u===0&&(h++,y=[0]),b[f++]=h,u&&y[0]?y[x++]=V[A]||0:(y=[V[A]],x=1);while((A++<N||y[0]!==void 0)&&E--);m=y[0]!==void 0}b[0]||b.shift()}if(d==1)v.e=c,F8=m;else{for(f=1,h=b[0];h>=10;h/=10)f++;v.e=f+c*d-1,Qe(v,o?s+v.e+1:s,a,m)}return v}}();function Qe(t,e,r,n){var i,s,a,o,l,u,c,f,h,d=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,o=f[0];o>=10;o/=10)i++;if(s=e-i,s<0)s+=et,a=e,c=f[h=0],l=c/Fr(10,i-a-1)%10|0;else if(h=Math.ceil((s+1)/et),o=f.length,h>=o)if(n){for(;o++<=h;)f.push(0);c=l=0,i=1,s%=et,a=s-et+1}else break e;else{for(c=o=f[h],i=1;o>=10;o/=10)i++;s%=et,a=s-et+i,l=a<0?0:c/Fr(10,i-a-1)%10|0}if(n=n||e<0||f[h+1]!==void 0||(a<0?c:c%Fr(10,i-a-1)),u=r<4?(l||n)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(s>0?a>0?c/Fr(10,i-a):0:f[h-1])%10&1||r==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=Fr(10,(et-e%et)%et),t.e=-e||0):f[0]=t.e=0,t;if(s==0?(f.length=h,o=1,h--):(f.length=h+1,o=Fr(10,et-s),f[h]=a>0?(c/Fr(10,i-a)%Fr(10,a)|0)*o:0),u)for(;;)if(h==0){for(s=1,a=f[0];a>=10;a/=10)s++;for(a=f[0]+=o,o=1;a>=10;a/=10)o++;s!=o&&(t.e++,f[0]==ys&&(f[0]=1));break}else{if(f[h]+=o,f[h]!=ys)break;f[h--]=0,o=1}for(s=f.length;f[--s]===0;)f.pop()}return lt&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function ea(t,e,r){if(!t.isFinite())return q8(t);var n,i=t.e,s=ln(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+mo(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+mo(-i-1)+s,r&&(n=r-a)>0&&(s+=mo(n))):i>=a?(s+=mo(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+mo(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=mo(n))),s}function M1(t,e){var r=t[0];for(e*=et;r>=10;r/=10)e++;return e}function V0(t,e,r){if(e>ule)throw lt=!0,r&&(t.precision=r),Error(B8);return Qe(new t(B0),e,1,!0)}function $s(t,e,r){if(e>C_)throw Error(B8);return Qe(new t(L0),e,r,!0)}function z8(t){var e=t.length-1,r=e*et+1;if(e=t[e],e){for(;e%10==0;e/=10)r--;for(e=t[0];e>=10;e/=10)r++}return r}function mo(t){for(var e="";t--;)e+="0";return e}function j8(t,e,r,n){var i,s=new t(1),a=Math.ceil(n/et+4);for(lt=!1;;){if(r%2&&(s=s.times(e),mI(s.d,a)&&(i=!0)),r=Fn(r/2),r===0){r=s.d.length-1,i&&s.d[r]===0&&++s.d[r];break}e=e.times(e),mI(e.d,a)}return lt=!0,s}function dI(t){return t.d[t.d.length-1]&1}function U8(t,e,r){for(var n,i,s=new t(e[0]),a=0;++a<e.length;){if(i=new t(e[a]),!i.s){s=i;break}n=s.cmp(i),(n===r||n===0&&s.s===r)&&(s=i)}return s}function M_(t,e){var r,n,i,s,a,o,l,u=0,c=0,f=0,h=t.constructor,d=h.rounding,m=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(lt=!1,l=m):l=e,o=new h(.03125);t.e>-2;)t=t.times(o),f+=5;for(n=Math.log(Fr(2,f))/Math.LN10*2+5|0,l+=n,r=s=a=new h(1),h.precision=l;;){if(s=Qe(s.times(t),l,1),r=r.times(++c),o=a.plus(Jt(s,r,l,1)),ln(o.d).slice(0,l)===ln(a.d).slice(0,l)){for(i=f;i--;)a=Qe(a.times(a),l,1);if(e==null)if(u<3&&hm(a.d,l-n,d,u))h.precision=l+=10,r=s=o=new h(1),c=0,u++;else return Qe(a,h.precision=m,d,lt=!0);else return h.precision=m,a}a=o}}function Do(t,e){var r,n,i,s,a,o,l,u,c,f,h,d=1,m=10,p=t,g=p.d,v=p.constructor,b=v.rounding,y=v.precision;if(p.s<0||!g||!g[0]||!p.e&&g[0]==1&&g.length==1)return new v(g&&!g[0]?-1/0:p.s!=1?NaN:g?0:p);if(e==null?(lt=!1,c=y):c=e,v.precision=c+=m,r=ln(g),n=r.charAt(0),Math.abs(s=p.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=ln(p.d),n=r.charAt(0),d++;s=p.e,n>1?(p=new v("0."+r),s++):p=new v(n+"."+r.slice(1))}else return u=V0(v,c+2,y).times(s+""),p=Do(new v(n+"."+r.slice(1)),c-m).plus(u),v.precision=y,e==null?Qe(p,y,b,lt=!0):p;for(f=p,l=a=p=Jt(p.minus(1),p.plus(1),c,1),h=Qe(p.times(p),c,1),i=3;;){if(a=Qe(a.times(h),c,1),u=l.plus(Jt(a,new v(i),c,1)),ln(u.d).slice(0,c)===ln(l.d).slice(0,c))if(l=l.times(2),s!==0&&(l=l.plus(V0(v,c+2,y).times(s+""))),l=Jt(l,new v(d),c,1),e==null)if(hm(l.d,c-m,b,o))v.precision=c+=m,u=a=p=Jt(f.minus(1),f.plus(1),c,1),h=Qe(p.times(p),c,1),i=o=1;else return Qe(l,v.precision=y,b,lt=!0);else return v.precision=y,l;l=u,i+=2}}function q8(t){return String(t.s*t.s/0)}function dv(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;n++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(n,i),e){if(i-=n,t.e=r=r-n-1,t.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=et;n<i;)t.d.push(+e.slice(n,n+=et));e=e.slice(n),n=et-e.length}else n-=i;for(;n--;)e+="0";t.d.push(+e),lt&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function fle(t,e){var r,n,i,s,a,o,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),$8.test(e))return dv(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(ale.test(e))r=16,e=e.toLowerCase();else if(sle.test(e))r=2;else if(ole.test(e))r=8;else throw Error(sl+e);for(s=e.search(/p/i),s>0?(l=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),a=s>=0,n=t.constructor,a&&(e=e.replace(".",""),o=e.length,s=o-s,i=j8(n,new n(r),s,s*2)),u=hv(e,r,ys),c=u.length-1,s=c;u[s]===0;--s)u.pop();return s<0?new n(t.s*0):(t.e=M1(u,c),t.d=u,lt=!1,a&&(t=Jt(t,i,o*4)),l&&(t=t.times(Math.abs(l)<54?Fr(2,l):al.pow(2,l))),lt=!0,t)}function hle(t,e){var r,n=e.d.length;if(n<3)return e.isZero()?e:Ef(t,2,e,e);r=1.4*Math.sqrt(n),r=r>16?16:r|0,e=e.times(1/I1(5,r)),e=Ef(t,2,e,e);for(var i,s=new t(5),a=new t(16),o=new t(20);r--;)i=e.times(e),e=e.times(s.plus(i.times(a.times(i).minus(o))));return e}function Ef(t,e,r,n,i){var s,a,o,l,u=t.precision,c=Math.ceil(u/et);for(lt=!1,l=r.times(r),o=new t(n);;){if(a=Jt(o.times(l),new t(e++*e++),u,1),o=i?n.plus(a):n.minus(a),n=Jt(a.times(l),new t(e++*e++),u,1),a=o.plus(n),a.d[c]!==void 0){for(s=c;a.d[s]===o.d[s]&&s--;);if(s==-1)break}s=o,o=n,n=a,a=s}return lt=!0,a.d.length=c+1,a}function I1(t,e){for(var r=t;--e;)r*=t;return r}function H8(t,e){var r,n=e.s<0,i=$s(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return Ta=n?4:1,e;if(r=e.divToInt(i),r.isZero())Ta=n?3:2;else{if(e=e.minus(r.times(i)),e.lte(s))return Ta=dI(r)?n?2:3:n?4:1,e;Ta=dI(r)?n?1:4:n?3:2}return e.minus(i).abs()}function jA(t,e,r,n){var i,s,a,o,l,u,c,f,h,d=t.constructor,m=r!==void 0;if(m?(di(r,1,xl),n===void 0?n=d.rounding:di(n,0,8)):(r=d.precision,n=d.rounding),!t.isFinite())c=q8(t);else{for(c=ea(t),a=c.indexOf("."),m?(i=2,e==16?r=r*4-3:e==8&&(r=r*3-2)):i=e,a>=0&&(c=c.replace(".",""),h=new d(1),h.e=c.length-a,h.d=hv(ea(h),10,i),h.e=h.d.length),f=hv(c,10,i),s=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=m?"0p+0":"0";else{if(a<0?s--:(t=new d(t),t.d=f,t.e=s,t=Jt(t,h,r,n,0,i),f=t.d,s=t.e,u=F8),a=f[r],o=i/2,u=u||f[r+1]!==void 0,u=n<4?(a!==void 0||u)&&(n===0||n===(t.s<0?3:2)):a>o||a===o&&(n===4||u||n===6&&f[r-1]&1||n===(t.s<0?8:7)),f.length=r,u)for(;++f[--r]>i-1;)f[r]=0,r||(++s,f.unshift(1));for(l=f.length;!f[l-1];--l);for(a=0,c="";a<l;a++)c+=T_.charAt(f[a]);if(m){if(l>1)if(e==16||e==8){for(a=e==16?4:3,--l;l%a;l++)c+="0";for(f=hv(c,i,e),l=f.length;!f[l-1];--l);for(a=1,c="1.";a<l;a++)c+=T_.charAt(f[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)c="0"+c;c="0."+c}else if(++s>l)for(s-=l;s--;)c+="0";else s<l&&(c=c.slice(0,s)+"."+c.slice(s))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function mI(t,e){if(t.length>e)return t.length=e,!0}function dle(t){return new this(t).abs()}function mle(t){return new this(t).acos()}function ple(t){return new this(t).acosh()}function gle(t,e){return new this(t).plus(e)}function vle(t){return new this(t).asin()}function yle(t){return new this(t).asinh()}function xle(t){return new this(t).atan()}function ble(t){return new this(t).atanh()}function wle(t,e){t=new this(t),e=new this(e);var r,n=this.precision,i=this.rounding,s=n+4;return!t.s||!e.s?r=new this(NaN):!t.d&&!e.d?(r=$s(this,s,1).times(e.s>0?.25:.75),r.s=t.s):!e.d||t.isZero()?(r=e.s<0?$s(this,n,i):new this(0),r.s=t.s):!t.d||e.isZero()?(r=$s(this,s,1).times(.5),r.s=t.s):e.s<0?(this.precision=s,this.rounding=1,r=this.atan(Jt(t,e,s,1)),e=$s(this,s,1),this.precision=n,this.rounding=i,r=t.s<0?r.minus(e):r.plus(e)):r=this.atan(Jt(t,e,s,1)),r}function _le(t){return new this(t).cbrt()}function Ele(t){return Qe(t=new this(t),t.e+1,2)}function Sle(t,e,r){return new this(t).clamp(e,r)}function Ale(t){if(!t||typeof t!="object")throw Error(C1+"Object expected");var e,r,n,i=t.defaults===!0,s=["precision",1,xl,"rounding",0,8,"toExpNeg",-Oc,0,"toExpPos",0,Oc,"maxE",0,Oc,"minE",-Oc,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(r=s[e],i&&(this[r]=D_[r]),(n=t[r])!==void 0)if(Fn(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(sl+r+": "+n);if(r="crypto",i&&(this[r]=D_[r]),(n=t[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(L8);else this[r]=!1;else throw Error(sl+r+": "+n);return this}function Nle(t){return new this(t).cos()}function Tle(t){return new this(t).cosh()}function W8(t){var e,r,n;function i(s){var a,o,l,u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,pI(s)){u.s=s.s,lt?!s.d||s.e>i.maxE?(u.e=NaN,u.d=null):s.e<i.minE?(u.e=0,u.d=[0]):(u.e=s.e,u.d=s.d.slice()):(u.e=s.e,u.d=s.d?s.d.slice():s.d);return}if(l=typeof s,l==="number"){if(s===0){u.s=1/s<0?-1:1,u.e=0,u.d=[0];return}if(s<0?(s=-s,u.s=-1):u.s=1,s===~~s&&s<1e7){for(a=0,o=s;o>=10;o/=10)a++;lt?a>i.maxE?(u.e=NaN,u.d=null):a<i.minE?(u.e=0,u.d=[0]):(u.e=a,u.d=[s]):(u.e=a,u.d=[s]);return}if(s*0!==0){s||(u.s=NaN),u.e=NaN,u.d=null;return}return dv(u,s.toString())}if(l==="string")return(o=s.charCodeAt(0))===45?(s=s.slice(1),u.s=-1):(o===43&&(s=s.slice(1)),u.s=1),$8.test(s)?dv(u,s):fle(u,s);if(l==="bigint")return s<0?(s=-s,u.s=-1):u.s=1,dv(u,s.toString());throw Error(sl+s)}if(i.prototype=Ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Ale,i.clone=W8,i.isDecimal=pI,i.abs=dle,i.acos=mle,i.acosh=ple,i.add=gle,i.asin=vle,i.asinh=yle,i.atan=xle,i.atanh=ble,i.atan2=wle,i.cbrt=_le,i.ceil=Ele,i.clamp=Sle,i.cos=Nle,i.cosh=Tle,i.div=Dle,i.exp=Cle,i.floor=Mle,i.hypot=Ile,i.ln=Ple,i.log=kle,i.log10=Ole,i.log2=Rle,i.max=Fle,i.min=Ble,i.mod=Lle,i.mul=Vle,i.pow=$le,i.random=zle,i.round=jle,i.sign=Ule,i.sin=qle,i.sinh=Hle,i.sqrt=Wle,i.sub=Gle,i.sum=Kle,i.tan=Yle,i.tanh=Qle,i.trunc=Xle,t===void 0&&(t={}),t&&t.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Dle(t,e){return new this(t).div(e)}function Cle(t){return new this(t).exp()}function Mle(t){return Qe(t=new this(t),t.e+1,3)}function Ile(){var t,e,r=new this(0);for(lt=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)r.d&&(r=r.plus(e.times(e)));else{if(e.s)return lt=!0,new this(1/0);r=e}return lt=!0,r.sqrt()}function pI(t){return t instanceof al||t&&t.toStringTag===V8||!1}function Ple(t){return new this(t).ln()}function kle(t,e){return new this(t).log(e)}function Rle(t){return new this(t).log(2)}function Ole(t){return new this(t).log(10)}function Fle(){return U8(this,arguments,-1)}function Ble(){return U8(this,arguments,1)}function Lle(t,e){return new this(t).mod(e)}function Vle(t,e){return new this(t).mul(e)}function $le(t,e){return new this(t).pow(e)}function zle(t){var e,r,n,i,s=0,a=new this(1),o=[];if(t===void 0?t=this.precision:di(t,1,xl),n=Math.ceil(t/et),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(n));s<n;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:o[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(n*=4);s<n;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(o.push(i%1e7),s+=4);s=n/4}else throw Error(L8);else for(;s<n;)o[s++]=Math.random()*1e7|0;for(n=o[--s],t%=et,n&&t&&(i=Fr(10,et-t),o[s]=(n/i|0)*i);o[s]===0;s--)o.pop();if(s<0)r=0,o=[0];else{for(r=-1;o[0]===0;r-=et)o.shift();for(n=1,i=o[0];i>=10;i/=10)n++;n<et&&(r-=et-n)}return a.e=r,a.d=o,a}function jle(t){return Qe(t=new this(t),t.e+1,this.rounding)}function Ule(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function qle(t){return new this(t).sin()}function Hle(t){return new this(t).sinh()}function Wle(t){return new this(t).sqrt()}function Gle(t,e){return new this(t).sub(e)}function Kle(){var t=0,e=arguments,r=new this(e[t]);for(lt=!1;r.s&&++t<e.length;)r=r.plus(e[t]);return lt=!0,Qe(r,this.precision,this.rounding)}function Yle(t){return new this(t).tan()}function Qle(t){return new this(t).tanh()}function Xle(t){return Qe(t=new this(t),t.e+1,1)}Ne[Symbol.for("nodejs.util.inspect.custom")]=Ne.toString;Ne[Symbol.toStringTag]="Decimal";var al=Ne.constructor=W8(D_);B0=new al(B0);L0=new al(L0);var Jle="BigNumber",Zle=["?on","config"],eue=H(Jle,Zle,t=>{var{on:e,config:r}=t,n=al.clone({precision:r.precision,modulo:al.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},e&&e("config",function(i,s){i.precision!==s.precision&&n.config({precision:i.precision})}),n},{isClass:!0});const En=Math.cosh||function(t){return Math.abs(t)<1e-9?1-t:(Math.exp(t)+Math.exp(-t))*.5},Pi=Math.sinh||function(t){return Math.abs(t)<1e-9?t:(Math.exp(t)-Math.exp(-t))*.5},tue=function(t){const e=Math.PI/4;if(-e>t||t>e)return Math.cos(t)-1;const r=t*t;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},pb=function(t,e){return t=Math.abs(t),e=Math.abs(e),t<e&&([t,e]=[e,t]),t<1e8?Math.sqrt(t*t+e*e):(e/=t,t*Math.sqrt(1+e*e))},lc=function(){throw SyntaxError("Invalid Param")};function gb(t,e){const r=Math.abs(t),n=Math.abs(e);return t===0?Math.log(n):e===0?Math.log(r):r<3e3&&n<3e3?Math.log(t*t+e*e)*.5:(t=t*.5,e=e*.5,.5*Math.log(t*t+e*e)+Math.LN2)}const rue={re:0,im:0},Hl=function(t,e){const r=rue;if(t==null)r.re=r.im=0;else if(e!==void 0)r.re=t,r.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)r.re=t.re,r.im=t.im;else if("abs"in t&&"arg"in t){if(!isFinite(t.abs)&&isFinite(t.arg))return xe.INFINITY;r.re=t.abs*Math.cos(t.arg),r.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!isFinite(t.r)&&isFinite(t.phi))return xe.INFINITY;r.re=t.r*Math.cos(t.phi),r.im=t.r*Math.sin(t.phi)}else t.length===2?(r.re=t[0],r.im=t[1]):lc();break;case"string":r.im=r.re=0;const n=t.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,s=0;n===null&&lc();for(let a=0;a<n.length;a++){const o=n[a];o===" "||o==="	"||o===`
`||(o==="+"?i++:o==="-"?s++:o==="i"||o==="I"?(i+s===0&&lc(),n[a+1]!==" "&&!isNaN(n[a+1])?(r.im+=parseFloat((s%2?"-":"")+n[a+1]),a++):r.im+=parseFloat((s%2?"-":"")+"1"),i=s=0):((i+s===0||isNaN(o))&&lc(),n[a+1]==="i"||n[a+1]==="I"?(r.im+=parseFloat((s%2?"-":"")+o),a++):r.re+=parseFloat((s%2?"-":"")+o),i=s=0))}i+s>0&&lc();break;case"number":r.im=0,r.re=t;break;default:lc()}return isNaN(r.re)||isNaN(r.im),r};function xe(t,e){if(!(this instanceof xe))return new xe(t,e);const r=Hl(t,e);this.re=r.re,this.im=r.im}xe.prototype={re:0,im:0,sign:function(){const t=pb(this.re,this.im);return new xe(this.re/t,this.im/t)},add:function(t,e){const r=Hl(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?xe.NAN:xe.INFINITY:new xe(this.re+r.re,this.im+r.im)},sub:function(t,e){const r=Hl(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im));return n||i?n&&i?xe.NAN:xe.INFINITY:new xe(this.re-r.re,this.im-r.im)},mul:function(t,e){const r=Hl(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),s=this.re===0&&this.im===0,a=r.re===0&&r.im===0;return n&&a||i&&s?xe.NAN:n||i?xe.INFINITY:r.im===0&&this.im===0?new xe(this.re*r.re,0):new xe(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(t,e){const r=Hl(t,e),n=this.isInfinite(),i=!(isFinite(r.re)&&isFinite(r.im)),s=this.re===0&&this.im===0,a=r.re===0&&r.im===0;if(s&&a||n&&i)return xe.NAN;if(a||n)return xe.INFINITY;if(s||i)return xe.ZERO;if(r.im===0)return new xe(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const o=r.re/r.im,l=r.re*o+r.im;return new xe((this.re*o+this.im)/l,(this.im*o-this.re)/l)}else{const o=r.im/r.re,l=r.im*o+r.re;return new xe((this.re+this.im*o)/l,(this.im-this.re*o)/l)}},pow:function(t,e){const r=Hl(t,e),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return xe.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new xe(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new xe(Math.pow(this.im,r.re),0);case 1:return new xe(0,Math.pow(this.im,r.re));case 2:return new xe(-Math.pow(this.im,r.re),0);case 3:return new xe(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return xe.ZERO;const s=Math.atan2(this.im,this.re),a=gb(this.re,this.im);let o=Math.exp(r.re*a-r.im*s),l=r.im*a+r.re*s;return new xe(o*Math.cos(l),o*Math.sin(l))},sqrt:function(){const t=this.re,e=this.im;if(e===0)return t>=0?new xe(Math.sqrt(t),0):new xe(0,Math.sqrt(-t));const r=pb(t,e);let n=Math.sqrt(.5*(r+Math.abs(t))),i=Math.abs(e)/(2*n);return t>=0?new xe(n,e<0?-i:i):new xe(i,e<0?-n:n)},exp:function(){const t=Math.exp(this.re);return this.im===0?new xe(t,0):new xe(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){const t=this.re,e=this.im;return new xe(Math.expm1(t)*Math.cos(e)+tue(e),Math.exp(t)*Math.sin(e))},log:function(){const t=this.re,e=this.im;return e===0&&t>0?new xe(Math.log(t),0):new xe(gb(t,e),Math.atan2(e,t))},abs:function(){return pb(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const t=this.re,e=this.im;return new xe(Math.sin(t)*En(e),Math.cos(t)*Pi(e))},cos:function(){const t=this.re,e=this.im;return new xe(Math.cos(t)*En(e),-Math.sin(t)*Pi(e))},tan:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)+En(e);return new xe(Math.sin(t)/r,Pi(e)/r)},cot:function(){const t=2*this.re,e=2*this.im,r=Math.cos(t)-En(e);return new xe(-Math.sin(t)/r,Pi(e)/r)},sec:function(){const t=this.re,e=this.im,r=.5*En(2*e)+.5*Math.cos(2*t);return new xe(Math.cos(t)*En(e)/r,Math.sin(t)*Pi(e)/r)},csc:function(){const t=this.re,e=this.im,r=.5*En(2*e)-.5*Math.cos(2*t);return new xe(Math.sin(t)*En(e)/r,-Math.cos(t)*Pi(e)/r)},asin:function(){const t=this.re,e=this.im,r=new xe(e*e-t*t+1,-2*t*e).sqrt(),n=new xe(r.re-e,r.im+t).log();return new xe(n.im,-n.re)},acos:function(){const t=this.re,e=this.im,r=new xe(e*e-t*t+1,-2*t*e).sqrt(),n=new xe(r.re-e,r.im+t).log();return new xe(Math.PI/2-n.im,n.re)},atan:function(){const t=this.re,e=this.im;if(t===0){if(e===1)return new xe(0,1/0);if(e===-1)return new xe(0,-1/0)}const r=t*t+(1-e)*(1-e),n=new xe((1-e*e-t*t)/r,-2*t/r).log();return new xe(-.5*n.im,.5*n.re)},acot:function(){const t=this.re,e=this.im;if(e===0)return new xe(Math.atan2(1,t),0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).atan():new xe(t!==0?t/0:0,e!==0?-e/0:0).atan()},asec:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new xe(0,1/0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).acos():new xe(t!==0?t/0:0,e!==0?-e/0:0).acos()},acsc:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new xe(Math.PI/2,1/0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).asin():new xe(t!==0?t/0:0,e!==0?-e/0:0).asin()},sinh:function(){const t=this.re,e=this.im;return new xe(Pi(t)*Math.cos(e),En(t)*Math.sin(e))},cosh:function(){const t=this.re,e=this.im;return new xe(En(t)*Math.cos(e),Pi(t)*Math.sin(e))},tanh:function(){const t=2*this.re,e=2*this.im,r=En(t)+Math.cos(e);return new xe(Pi(t)/r,Math.sin(e)/r)},coth:function(){const t=2*this.re,e=2*this.im,r=En(t)-Math.cos(e);return new xe(Pi(t)/r,-Math.sin(e)/r)},csch:function(){const t=this.re,e=this.im,r=Math.cos(2*e)-En(2*t);return new xe(-2*Pi(t)*Math.cos(e)/r,2*En(t)*Math.sin(e)/r)},sech:function(){const t=this.re,e=this.im,r=Math.cos(2*e)+En(2*t);return new xe(2*En(t)*Math.cos(e)/r,-2*Pi(t)*Math.sin(e)/r)},asinh:function(){let t=this.im;this.im=-this.re,this.re=t;const e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){const t=this.acos();if(t.im<=0){const e=t.re;t.re=-t.im,t.im=e}else{const e=t.im;t.im=-t.re,t.re=e}return t},atanh:function(){const t=this.re,e=this.im,r=t>1&&e===0,n=1-t,i=1+t,s=n*n+e*e,a=s!==0?new xe((i*n-e*e)/s,(e*n+i*e)/s):new xe(t!==-1?t/0:0,e!==0?e/0:0),o=a.re;return a.re=gb(a.re,a.im)/2,a.im=Math.atan2(a.im,o)/2,r&&(a.im=-a.im),a},acoth:function(){const t=this.re,e=this.im;if(t===0&&e===0)return new xe(0,Math.PI/2);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).atanh():new xe(t!==0?t/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const t=this.re,e=this.im;if(e===0)return new xe(t!==0?Math.log(t+Math.sqrt(t*t+1)):1/0,0);const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).asinh():new xe(t!==0?t/0:0,e!==0?-e/0:0).asinh()},asech:function(){const t=this.re,e=this.im;if(this.isZero())return xe.INFINITY;const r=t*t+e*e;return r!==0?new xe(t/r,-e/r).acosh():new xe(t!==0?t/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return xe.INFINITY;if(this.isInfinite())return xe.ZERO;const t=this.re,e=this.im,r=t*t+e*e;return new xe(t/r,-e/r)},conjugate:function(){return new xe(this.re,-this.im)},neg:function(){return new xe(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new xe(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new xe(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new xe(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){const r=Hl(t,e);return Math.abs(r.re-this.re)<=xe.EPSILON&&Math.abs(r.im-this.im)<=xe.EPSILON},clone:function(){return new xe(this.re,this.im)},toString:function(){let t=this.re,e=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(t)<xe.EPSILON&&(t=0),Math.abs(e)<xe.EPSILON&&(e=0),e===0?r+t:(t!==0?(r+=t,r+=" ",e<0?(e=-e,r+="-"):r+="+",r+=" "):e<0&&(e=-e,r+="-"),e!==1&&(r+=e),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};xe.ZERO=new xe(0,0);xe.ONE=new xe(1,0);xe.I=new xe(0,1);xe.PI=new xe(Math.PI,0);xe.E=new xe(Math.E,0);xe.INFINITY=new xe(1/0,1/0);xe.NAN=new xe(NaN,NaN);xe.EPSILON=1e-15;var nue="Complex",iue=[],sue=H(nue,iue,()=>(Object.defineProperty(xe,"name",{value:"Complex"}),xe.prototype.constructor=xe,xe.prototype.type="Complex",xe.prototype.isComplex=!0,xe.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},xe.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},xe.prototype.format=function(t){var e="",r=this.im,n=this.re,i=du(this.re,t),s=du(this.im,t),a=ft(t)?t:t?t.precision:null;if(a!==null){var o=Math.pow(10,-a);Math.abs(n/r)<o&&(n=0),Math.abs(r/n)<o&&(r=0)}return r===0?e=i:n===0?r===1?e="i":r===-1?e="-i":e=s+"i":r<0?r===-1?e=i+" - i":e=i+" - "+s.substring(1)+"i":r===1?e=i+" + i":e=i+" + "+s+"i",e},xe.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return xe(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(ft(r)){if(yi(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),ft(n))return new xe({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},xe.prototype.valueOf=xe.prototype.toString,xe.fromJSON=function(t){return new xe(t)},xe.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},xe),{isClass:!0});typeof BigInt>"u"&&(BigInt=function(t){if(isNaN(t))throw new Error("");return t});const Ke=BigInt(0),xt=BigInt(1),Kr=BigInt(2),wd=BigInt(3),Fc=BigInt(5),Zn=BigInt(10);BigInt(Number.MAX_SAFE_INTEGER);const aue=2e3,Fe={s:xt,n:Ke,d:xt};function ha(t,e){try{t=BigInt(t)}catch{throw uo()}return t*e}function ss(t){return typeof t=="bigint"?t:Math.floor(t)}function or(t,e){if(e===Ke)throw UA();const r=Object.create(Oi.prototype);r.s=t<Ke?-xt:xt,t=t<Ke?-t:t;const n=Yl(t,e);return r.n=t/n,r.d=e/n,r}const oue=[Kr*Kr,Kr,Kr*Kr,Kr,Kr*Kr,Kr*wd,Kr,Kr*wd];function uc(t){const e=Object.create(null);if(t<=xt)return e[t]=xt,e;const r=n=>{e[n]=(e[n]||Ke)+xt};for(;t%Kr===Ke;)r(Kr),t/=Kr;for(;t%wd===Ke;)r(wd),t/=wd;for(;t%Fc===Ke;)r(Fc),t/=Fc;for(let n=0,i=Kr+Fc;i*i<=t;){for(;t%i===Ke;)r(i),t/=i;i+=oue[n],n=n+1&7}return t>xt&&r(t),e}const Gr=function(t,e){let r=Ke,n=xt,i=xt;if(t!=null)if(e!==void 0){if(typeof t=="bigint")r=t;else{if(isNaN(t))throw uo();if(t%1!==0)throw gI();r=BigInt(t)}if(typeof e=="bigint")n=e;else{if(isNaN(e))throw uo();if(e%1!==0)throw gI();n=BigInt(e)}i=r*n}else if(typeof t=="object"){if("d"in t&&"n"in t)r=BigInt(t.n),n=BigInt(t.d),"s"in t&&(r*=BigInt(t.s));else if(0 in t)r=BigInt(t[0]),1 in t&&(n=BigInt(t[1]));else if(typeof t=="bigint")r=t;else throw uo();i=r*n}else if(typeof t=="number"){if(isNaN(t))throw uo();if(t<0&&(i=-xt,t=-t),t%1===0)r=BigInt(t);else{let s=1,a=0,o=1,l=1,u=1,c=1e7;for(t>=1&&(s=10**Math.floor(1+Math.log10(t)),t/=s);o<=c&&u<=c;){let f=(a+l)/(o+u);if(t===f){o+u<=c?(r=a+l,n=o+u):u>o?(r=l,n=u):(r=a,n=o);break}else t>f?(a+=l,o+=u):(l+=a,u+=o),o>c?(r=l,n=u):(r=a,n=o)}r=BigInt(r)*BigInt(s),n=BigInt(n)}}else if(typeof t=="string"){let s=0,a=Ke,o=Ke,l=Ke,u=xt,c=xt,f=t.replace(/_/g,"").match(/\d+|./g);if(f===null)throw uo();if(f[s]==="-"?(i=-xt,s++):f[s]==="+"&&s++,f.length===s+1?o=ha(f[s++],i):f[s+1]==="."||f[s]==="."?(f[s]!=="."&&(a=ha(f[s++],i)),s++,(s+1===f.length||f[s+1]==="("&&f[s+3]===")"||f[s+1]==="'"&&f[s+3]==="'")&&(o=ha(f[s],i),u=Zn**BigInt(f[s].length),s++),(f[s]==="("&&f[s+2]===")"||f[s]==="'"&&f[s+2]==="'")&&(l=ha(f[s+1],i),c=Zn**BigInt(f[s+1].length)-xt,s+=3)):f[s+1]==="/"||f[s+1]===":"?(o=ha(f[s],i),u=ha(f[s+2],xt),s+=3):f[s+3]==="/"&&f[s+1]===" "&&(a=ha(f[s],i),o=ha(f[s+2],i),u=ha(f[s+4],xt),s+=5),f.length<=s)n=u*c,i=r=l+n*a+c*o;else throw uo()}else if(typeof t=="bigint")r=t,i=t,n=xt;else throw uo();if(n===Ke)throw UA();Fe.s=i<Ke?-xt:xt,Fe.n=r<Ke?-r:r,Fe.d=n<Ke?-n:n};function lue(t,e,r){let n=xt;for(;e>Ke;t=t*t%r,e>>=xt)e&xt&&(n=n*t%r);return n}function uue(t,e){for(;e%Kr===Ke;e/=Kr);for(;e%Fc===Ke;e/=Fc);if(e===xt)return Ke;let r=Zn%e,n=1;for(;r!==xt;n++)if(r=r*Zn%e,n>aue)return Ke;return BigInt(n)}function cue(t,e,r){let n=xt,i=lue(Zn,r,e);for(let s=0;s<300;s++){if(n===i)return BigInt(s);n=n*Zn%e,i=i*Zn%e}return 0}function Yl(t,e){if(!t)return e;if(!e)return t;for(;;){if(t%=e,!t)return e;if(e%=t,!e)return t}}function Oi(t,e){if(Gr(t,e),this instanceof Oi)t=Yl(Fe.d,Fe.n),this.s=Fe.s,this.n=Fe.n/t,this.d=Fe.d/t;else return or(Fe.s*Fe.n,Fe.d)}const UA=function(){return new Error("Division by Zero")},uo=function(){return new Error("Invalid argument")},gI=function(){return new Error("Parameters must be integer")};Oi.prototype={s:xt,n:Ke,d:xt,abs:function(){return or(this.n,this.d)},neg:function(){return or(-this.s*this.n,this.d)},add:function(t,e){return Gr(t,e),or(this.s*this.n*Fe.d+Fe.s*this.d*Fe.n,this.d*Fe.d)},sub:function(t,e){return Gr(t,e),or(this.s*this.n*Fe.d-Fe.s*this.d*Fe.n,this.d*Fe.d)},mul:function(t,e){return Gr(t,e),or(this.s*Fe.s*this.n*Fe.n,this.d*Fe.d)},div:function(t,e){return Gr(t,e),or(this.s*Fe.s*this.n*Fe.d,this.d*Fe.n)},clone:function(){return or(this.s*this.n,this.d)},mod:function(t,e){if(t===void 0)return or(this.s*this.n%this.d,xt);if(Gr(t,e),Ke===Fe.n*this.d)throw UA();return or(this.s*(Fe.d*this.n)%(Fe.n*this.d),Fe.d*this.d)},gcd:function(t,e){return Gr(t,e),or(Yl(Fe.n,this.n)*Yl(Fe.d,this.d),Fe.d*this.d)},lcm:function(t,e){return Gr(t,e),Fe.n===Ke&&this.n===Ke?or(Ke,xt):or(Fe.n*this.n,Yl(Fe.n,this.n)*Yl(Fe.d,this.d))},inverse:function(){return or(this.s*this.d,this.n)},pow:function(t,e){if(Gr(t,e),Fe.d===xt)return Fe.s<Ke?or((this.s*this.d)**Fe.n,this.n**Fe.n):or((this.s*this.n)**Fe.n,this.d**Fe.n);if(this.s<Ke)return null;let r=uc(this.n),n=uc(this.d),i=xt,s=xt;for(let a in r)if(a!=="1"){if(a==="0"){i=Ke;break}if(r[a]*=Fe.n,r[a]%Fe.d===Ke)r[a]/=Fe.d;else return null;i*=BigInt(a)**r[a]}for(let a in n)if(a!=="1"){if(n[a]*=Fe.n,n[a]%Fe.d===Ke)n[a]/=Fe.d;else return null;s*=BigInt(a)**n[a]}return Fe.s<Ke?or(s,i):or(i,s)},log:function(t,e){if(Gr(t,e),this.s<=Ke||Fe.s<=Ke)return null;const r=Object.create(null),n=uc(Fe.n),i=uc(Fe.d),s=uc(this.n),a=uc(this.d);for(const u in i)n[u]=(n[u]||Ke)-i[u];for(const u in a)s[u]=(s[u]||Ke)-a[u];for(const u in n)u!=="1"&&(r[u]=!0);for(const u in s)u!=="1"&&(r[u]=!0);let o=null,l=null;for(const u in r){const c=n[u]||Ke,f=s[u]||Ke;if(c===Ke){if(f!==Ke)return null;continue}let h=f,d=c;const m=Yl(h,d);if(h/=m,d/=m,o===null&&l===null)o=h,l=d;else if(h*l!==o*d)return null}return o!==null&&l!==null?or(o,l):null},equals:function(t,e){return Gr(t,e),this.s*this.n*Fe.d===Fe.s*Fe.n*this.d},lt:function(t,e){return Gr(t,e),this.s*this.n*Fe.d<Fe.s*Fe.n*this.d},lte:function(t,e){return Gr(t,e),this.s*this.n*Fe.d<=Fe.s*Fe.n*this.d},gt:function(t,e){return Gr(t,e),this.s*this.n*Fe.d>Fe.s*Fe.n*this.d},gte:function(t,e){return Gr(t,e),this.s*this.n*Fe.d>=Fe.s*Fe.n*this.d},compare:function(t,e){Gr(t,e);let r=this.s*this.n*Fe.d-Fe.s*Fe.n*this.d;return(Ke<r)-(r<Ke)},ceil:function(t){return t=Zn**BigInt(t||0),or(ss(this.s*t*this.n/this.d)+(t*this.n%this.d>Ke&&this.s>=Ke?xt:Ke),t)},floor:function(t){return t=Zn**BigInt(t||0),or(ss(this.s*t*this.n/this.d)-(t*this.n%this.d>Ke&&this.s<Ke?xt:Ke),t)},round:function(t){return t=Zn**BigInt(t||0),or(ss(this.s*t*this.n/this.d)+this.s*((this.s>=Ke?xt:Ke)+Kr*(t*this.n%this.d)>this.d?xt:Ke),t)},roundTo:function(t,e){Gr(t,e);const r=this.n*Fe.d,n=this.d*Fe.n,i=r%n;let s=ss(r/n);return i+i>=n&&s++,or(this.s*s*Fe.n,Fe.d)},divisible:function(t,e){return Gr(t,e),Fe.n===Ke?!1:this.n*Fe.d%(Fe.n*this.d)===Ke},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(t=15){let e=this.n,r=this.d,n=uue(e,r),i=cue(e,r,n),s=this.s<Ke?"-":"";if(s+=ss(e/r),e%=r,e*=Zn,e&&(s+="."),n){for(let a=i;a--;)s+=ss(e/r),e%=r,e*=Zn;s+="(";for(let a=n;a--;)s+=ss(e/r),e%=r,e*=Zn;s+=")"}else for(let a=t;e&&a--;)s+=ss(e/r),e%=r,e*=Zn;return s},toFraction:function(t=!1){let e=this.n,r=this.d,n=this.s<Ke?"-":"";if(r===xt)n+=e;else{const i=ss(e/r);t&&i>Ke&&(n+=i,n+=" ",e%=r),n+=e,n+="/",n+=r}return n},toLatex:function(t=!1){let e=this.n,r=this.d,n=this.s<Ke?"-":"";if(r===xt)n+=e;else{const i=ss(e/r);t&&i>Ke&&(n+=i,e%=r),n+="\\frac{",n+=e,n+="}{",n+=r,n+="}"}return n},toContinued:function(){let t=this.n,e=this.d;const r=[];for(;e;){r.push(ss(t/e));const n=t%e;t=e,e=n}return r},simplify:function(t=.001){const e=BigInt(Math.ceil(1/t)),r=this.abs(),n=r.toContinued();for(let i=1;i<n.length;i++){let s=or(n[i-1],xt);for(let o=i-2;o>=0;o--)s=s.inverse().add(n[o]);let a=s.sub(r);if(a.n*e<a.d)return s.mul(this.s)}return this}};var fue="Fraction",hue=[],due=H(fue,hue,()=>(Object.defineProperty(Oi,"name",{value:"Fraction"}),Oi.prototype.constructor=Oi,Oi.prototype.type="Fraction",Oi.prototype.isFraction=!0,Oi.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Oi.fromJSON=function(t){return new Oi(t)},Oi),{isClass:!0}),mue="Range",pue=[],gue=H(mue,pue,()=>{function t(e,r,n){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,s=r!=null,a=n!=null;if(i){if(ht(e))e=e.toNumber();else if(typeof e!="number"&&!bd(e))throw new TypeError("Parameter start must be a number or bigint")}if(s){if(ht(r))r=r.toNumber();else if(typeof r!="number"&&!bd(r))throw new TypeError("Parameter end must be a number or bigint")}if(a){if(ht(n))n=n.toNumber();else if(typeof n!="number"&&!bd(n))throw new TypeError("Parameter step must be a number or bigint")}this.start=i?parseFloat(e):0,this.end=s?parseFloat(r):0,this.step=a?parseFloat(n):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var r=e.split(":"),n=r.map(function(s){return parseFloat(s)}),i=n.some(function(s){return isNaN(s)});if(i)return null;switch(n.length){case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[2],n[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,r=this.start,n=this.step,i=this.end,s=i-r;return To(n)===To(s)?e=Math.ceil(s/n):s===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var r=this.start,n=this.step,i=this.end,s=0;if(n>0)for(;r<i;)e(r,[s],this),r+=n,s++;else if(n<0)for(;r>i;)e(r,[s],this),r+=n,s++},t.prototype.map=function(e){var r=[];return this.forEach(function(n,i,s){r[i[0]]=e(n,i,s)}),r},t.prototype.toArray=function(){var e=[];return this.forEach(function(r,n){e[n[0]]=r}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var r=du(this.start,e);return this.step!==1&&(r+=":"+du(this.step,e)),r+=":"+du(this.end,e),r},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),vue="Matrix",yue=[],xue=H(vue,yue,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,r){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,r,n){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,r){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,r){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,r){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function vb(t,e,r){var n=t.constructor,i=new n(2),s="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!We(r))throw new Error("size must be an integer");if(t.greaterThan(i.pow(r-1).sub(1))||t.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(r))),s="i".concat(r)}switch(e){case 2:return"".concat(t.toBinary()).concat(s);case 8:return"".concat(t.toOctal()).concat(s);case 16:return"".concat(t.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(e," not supported "))}}function bue(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:i}=P8(e);switch(r){case"fixed":return _ue(t,n);case"exponential":return vI(t,n);case"engineering":return wue(t,n);case"bin":return vb(t,2,i);case"oct":return vb(t,8,i);case"hex":return vb(t,16,i);case"auto":{var s=yI(e==null?void 0:e.lowerExp,-3),a=yI(e==null?void 0:e.upperExp,5);if(t.isZero())return"0";var o,l=t.toSignificantDigits(n),u=l.e;return u>=s&&u<a?o=l.toFixed():o=vI(t,n),o.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function wue(t,e){var r=t.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=t.mul(Math.pow(10,-n)),s=i.toPrecision(e);if(s.includes("e")){var a=t.constructor;s=new a(s).toFixed()}return s+"e"+(r>=0?"+":"")+n.toString()}function vI(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function _ue(t,e){return t.toFixed(e)}function yI(t,e){return ft(t)?t:ht(t)?t.toNumber():e}function Eue(t,e){var r=t.length-e.length,n=t.length;return t.substring(r,n)===e}function pt(t,e){var r=Sue(t,e);return e&&typeof e=="object"&&"truncate"in e&&r.length>e.truncate?r.substring(0,e.truncate-3)+"...":r}function Sue(t,e){if(typeof t=="number")return du(t,e);if(ht(t))return bue(t,e);if(Aue(t))return!e||e.fraction!=="decimal"?"".concat(t.s*t.n,"/").concat(t.d):t.toString();if(Array.isArray(t))return G8(t,e);if(Cn(t))return Bc(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var r=Object.keys(t).map(n=>Bc(n)+": "+pt(t[n],e));return"{"+r.join(", ")+"}"}return String(t)}function Bc(t){for(var e=String(t),r="",n=0;n<e.length;){var i=e.charAt(n);r+=i in xI?xI[i]:i,n++}return'"'+r+'"'}var xI={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function zi(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function G8(t,e){if(Array.isArray(t)){for(var r="[",n=t.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=G8(t[i],e);return r+="]",r}else return pt(t,e)}function Aue(t){return t&&typeof t=="object"&&typeof t.s=="bigint"&&typeof t.n=="bigint"&&typeof t.d=="bigint"||!1}function I_(t,e){if(!Cn(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wt(t)+", index: 0)");if(!Cn(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+Wt(e)+", index: 1)");return t===e?0:t>e?1:-1}function gt(t,e,r){if(!(this instanceof gt))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}gt.prototype=new RangeError;gt.prototype.constructor=RangeError;gt.prototype.name="DimensionError";gt.prototype.isDimensionError=!0;function _s(t,e,r){if(!(this instanceof _s))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}_s.prototype=new RangeError;_s.prototype.constructor=RangeError;_s.prototype.name="IndexError";_s.prototype.isIndexError=!0;function st(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function K8(t,e,r){var n,i=t.length;if(i!==e[r])throw new gt(i,e[r]);if(r<e.length-1){var s=r+1;for(n=0;n<i;n++){var a=t[n];if(!Array.isArray(a))throw new gt(e.length-1,e.length,"<");K8(t[n],e,s)}}else for(n=0;n<i;n++)if(Array.isArray(t[n]))throw new gt(e.length+1,e.length,">")}function bI(t,e){var r=e.length===0;if(r){if(Array.isArray(t))throw new gt(t.length,0)}else K8(t,e,0)}function $0(t,e){var r=t.isMatrix?t._size:st(t),n=e._sourceSize;n.forEach((i,s)=>{if(i!==null&&i!==r[s])throw new gt(i,r[s])})}function Yt(t,e){if(t!==void 0){if(!ft(t)||!We(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new _s(t,e)}}function Sf(t){for(var e=0;e<t._dimensions.length;++e){var r=t._dimensions[e];if(r._data&&Ut(r._data)){if(r._size[0]===0)return!0}else if(r.isRange){if(r.start===r.end)return!0}else if(Cn(r)&&r.length===0)return!0}return!1}function Af(t,e,r){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!ft(i)||!We(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pt(e)+")")}),(ft(t)||ht(t))&&(t=[t]);var n=r!==void 0?r:0;return P_(t,e,0,n),t}function P_(t,e,r,n){var i,s,a=t.length,o=e[r],l=Math.min(a,o);if(t.length=o,r<e.length-1){var u=r+1;for(i=0;i<l;i++)s=t[i],Array.isArray(s)||(s=[s],t[i]=s),P_(s,e,u,n);for(i=l;i<o;i++)s=[],t[i]=s,P_(s,e,u,n)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<o;i++)t[i]=n}}function qA(t,e){var r=Ct(t,!0),n=r.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new gt(0,n,"!=");e=HA(e,n);var i=Y8(e);if(n!==i)throw new gt(i,n,"!=");try{return Nue(r,e)}catch(s){throw s instanceof gt?new gt(i,n,"!="):s}}function HA(t,e){var r=Y8(t),n=t.slice(),i=-1,s=t.indexOf(i),a=t.indexOf(i,s+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var o=s>=0,l=e%r===0;if(o)if(l)n[s]=-e/r;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-r);return n}function Y8(t){return t.reduce((e,r)=>e*r,1)}function Nue(t,e){for(var r=t,n,i=e.length-1;i>0;i--){var s=e[i];n=[];for(var a=r.length/s,o=0;o<a;o++)n.push(r.slice(o*s,(o+1)*s));r=n}return r}function z0(t,e){for(var r=st(t);Array.isArray(t)&&t.length===1;)t=t[0],r.shift();for(var n=r.length;r[n-1]===1;)n--;return n<r.length&&(t=Q8(t,n,0),r.length=n),t}function Q8(t,e,r){var n,i;if(r<e){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=Q8(t[n],e,s)}else for(;Array.isArray(t);)t=t[0];return t}function X8(t,e,r,n){var i=n||st(t);if(r)for(var s=0;s<r;s++)t=[t],i.unshift(1);for(t=J8(t,e,0);i.length<e;)i.push(1);return t}function J8(t,e,r){var n,i;if(Array.isArray(t)){var s=r+1;for(n=0,i=t.length;n<i;n++)t[n]=J8(t[n],e,s)}else for(var a=r;a<e;a++)t=[t];return t}function Ct(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Array.isArray(t))return t;if(typeof e!="boolean")throw new TypeError("Boolean expected for second argument of flatten");var r=[];return e?i(t):n(t),r;function n(s){for(var a=0;a<s.length;a++){var o=s[a];Array.isArray(o)?n(o):r.push(o)}}function i(s){if(Array.isArray(s[0]))for(var a=0;a<s.length;a++)i(s[a]);else for(var o=0;o<s.length;o++)r.push(s[o])}}function Ho(t,e){return Array.prototype.map.call(t,e)}function Z8(t,e){Array.prototype.forEach.call(t,e)}function wI(t,e){if(st(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function _I(t,e){if(st(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,r=>e.test(r))}function EI(t,e){return Array.prototype.join.call(t,e)}function Nf(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],r=0;e[0]={value:t[0],identifier:0};for(var n=1;n<t.length;n++)t[n]===t[n-1]?r++:r=0,e.push({value:t[n],identifier:r});return e}function j0(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],r=0;r<t.length;r++)e.push(t[r].value);return e}function P1(t,e){for(var r,n=0,i=0;i<t.length;i++){var s=t[i],a=Array.isArray(s);if(i===0&&a&&(n=s.length),a&&s.length!==n)return;var o=a?P1(s,e):e(s);if(r===void 0)r=o;else if(r!==o)return"mixed"}return r}function eV(t,e,r,n){if(n<r){if(t.length!==e.length)throw new gt(t.length,e.length);for(var i=[],s=0;s<t.length;s++)i[s]=eV(t[s],e[s],r,n+1);return i}else return t.concat(e)}function tV(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(r,n){return eV(r,n,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function WA(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];for(var n=e.map(h=>h.length),i=Math.max(...n),s=new Array(i).fill(null),a=0;a<e.length;a++)for(var o=e[a],l=n[a],u=0;u<l;u++){var c=i-l+u;o[u]>s[c]&&(s[c]=o[u])}for(var f=0;f<e.length;f++)rV(e[f],s);return s}function rV(t,e){for(var r=e.length,n=t.length,i=0;i<n;i++){var s=r-n+i;if(t[i]<e[s]&&t[i]>1||t[i]>e[s])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(n," with size ").concat(t[i]," to size ").concat(e[s]))}}function au(t,e){var r=st(t);if(Ka(r,e))return t;rV(r,e);var n=WA(r,e),i=n.length,s=[...Array(i-r.length).fill(1),...r],a=Due(t);r.length<i&&(a=qA(a,s),r=st(a));for(var o=0;o<i;o++)r[o]<n[o]&&(a=Tue(a,n[o],o),r=st(a));return a}function Tue(t,e,r){return tV(...Array(e).fill(t),r)}function GA(t,e){if(!Array.isArray(t))throw new Error("Array expected");var r=st(t);if(e.length!==r.length)throw new gt(e.length,r.length);for(var n=0;n<e.length;n++)Yt(e[n],r[n]);return e.reduce((i,s)=>i[s],t)}function k_(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return[];if(r)return s(t);var n=[];return i(t,0);function i(a,o){if(Array.isArray(a)){for(var l=a.length,u=Array(l),c=0;c<l;c++)n[o]=c,u[c]=i(a[c],o+1);return u}else return e(a,n.slice(0,o),t)}function s(a){if(Array.isArray(a)){for(var o=a.length,l=Array(o),u=0;u<o;u++)l[u]=s(a[u]);return l}else return e(a)}}function nV(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t.length===0)return;if(r){s(t);return}var n=[];i(t,0);function i(a,o){if(Array.isArray(a))for(var l=a.length,u=0;u<l;u++)n[o]=u,i(a[u],o+1);else e(a,n.slice(0,o),t)}function s(a){if(Array.isArray(a))for(var o=a.length,l=0;l<o;l++)s(a[l]);else e(a)}}function Due(t){return Lr([],t)}function Du(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(F0.isTypedFunction(t)){var i;if(n)i=1;else{var s=(e.isMatrix?e.size():st(e)).map(()=>0),a=e.isMatrix?e.get(s):GA(e,s);i=Iue(t,a,s,e)}var o;if(e.isMatrix&&e.dataType!=="mixed"&&e.dataType!==void 0){var l=Cue(t,i);o=l!==void 0?l:t}else o=t;return i>=1&&i<=3?{isUnary:i===1,fn:function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return SI(o,f.slice(0,i),r,t.name)}}:{isUnary:!1,fn:function(){for(var c=arguments.length,f=new Array(c),h=0;h<c;h++)f[h]=arguments[h];return SI(o,f,r,t.name)}}}return n===void 0?{isUnary:Mue(t),fn:t}:{isUnary:n,fn:t}}function Cue(t,e){var r=[];if(Object.entries(t.signatures).forEach(n=>{var[i,s]=n;i.split(",").length===e&&r.push(s)}),r.length===1)return r[0]}function Mue(t){if(t.length!==1)return!1;var e=t.toString();if(/arguments/.test(e))return!1;var r=e.match(/\(.*?\)/);return!/\.\.\./.test(r)}function Iue(t,e,r,n){for(var i=[e,r,n],s=3;s>0;s--){var a=i.slice(0,s);if(F0.resolve(t,a)!==null)return s}}function SI(t,e,r,n){try{return t(...e)}catch(i){Pue(i,e,r,n)}}function Pue(t,e,r,n){var i;if(t instanceof TypeError&&((i=t.data)===null||i===void 0?void 0:i.category)==="wrongType"){var s=[];throw s.push("value: ".concat(Wt(e[0]))),e.length>=2&&s.push("index: ".concat(Wt(e[1]))),e.length>=3&&s.push("array: ".concat(Wt(e[2]))),new TypeError("Function ".concat(r," cannot apply callback arguments ")+"".concat(n,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(r," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(t.message))}var kue="DenseMatrix",Rue=["Matrix"],Oue=H(kue,Rue,t=>{var{Matrix:e}=t;function r(c,f){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!Cn(f))throw new Error("Invalid datatype: "+f);if(Je(c))c.type==="DenseMatrix"?(this._data=at(c._data),this._size=at(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&Ut(c.data)&&Ut(c.size))this._data=c.data,this._size=c.size,bI(this._data,this._size),this._datatype=f||c.datatype;else if(Ut(c))this._data=u(c),this._size=st(this._data),bI(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+Wt(c)+")");this._data=[],this._size=[0],this._datatype=f}}r.prototype=new e,r.prototype.createDenseMatrix=function(c,f){return new r(c,f)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return P1(this._data,Wt)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(c,f){return new r(c,f)},r.prototype.subset=function(c,f,h){switch(arguments.length){case 1:return n(this,c);case 2:case 3:return s(this,c,f,h);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(c){return GA(this._data,c)},r.prototype.set=function(c,f,h){if(!Ut(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new gt(c.length,this._size.length,"<");var d,m,p,g=c.map(function(b){return b+1});l(this,g,h);var v=this._data;for(d=0,m=c.length-1;d<m;d++)p=c[d],Yt(p,v.length),v=v[p];return p=c[c.length-1],Yt(p,v.length),v[p]=f,this};function n(c,f){if(!A1(f))throw new TypeError("Invalid index");var h=f.isScalar();if(h)return c.get(f.min());var d=f.size();if(d.length!==c._size.length)throw new gt(d.length,c._size.length);for(var m=f.min(),p=f.max(),g=0,v=c._size.length;g<v;g++)Yt(m[g],c._size[g]),Yt(p[g],c._size[g]);var b=new r([]),y=i(c._data,f);return b._size=y.size,b._datatype=c._datatype,b._data=y.data,b}function i(c,f){var h=f.size().length-1,d=Array(h);return{data:m(c),size:d};function m(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=f.dimension(g);return d[g]=v.size()[0],g<h?v.map(b=>(Yt(b,p.length),m(p[b],g+1))).valueOf():v.map(b=>(Yt(b,p.length),p[b])).valueOf()}}function s(c,f,h,d){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var m=f.size(),p=f.isScalar(),g;if(Je(h)?(g=h.size(),h=h.valueOf()):g=st(h),p){if(g.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),h,d)}else{if(!Ka(g,m))try{g.length===0?h=au([h],m):h=au(h,m),g=st(h)}catch{}if(m.length<c._size.length)throw new gt(m.length,c._size.length,"<");if(g.length<m.length){for(var v=0,b=0;m[v]===1&&g[v]===1;)v++;for(;m[v]===1;)b++,v++;h=X8(h,m.length,b,g)}if(!Ka(m,g))throw new gt(m,g,">");var y=f.max().map(function(x){return x+1});l(c,y,d),a(c._data,f,h)}return c}function a(c,f,h){var d=f.size().length-1;m(c,h);function m(p,g){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=f.dimension(v);v<d?b.forEach((y,x)=>{Yt(y,p.length),m(p[y],g[x[0]],v+1)}):b.forEach((y,x)=>{Yt(y,p.length),p[y]=g[x[0]]})}}r.prototype.resize=function(c,f,h){if(!Qi(c))throw new TypeError("Array or Matrix expected");var d=c.valueOf().map(p=>Array.isArray(p)&&p.length===1?p[0]:p),m=h?this.clone():this;return o(m,d,f)};function o(c,f,h){if(f.length===0){for(var d=c._data;Ut(d);)d=d[0];return d}return c._size=f.slice(0),c._data=Af(c._data,c._size,h),c}r.prototype.reshape=function(c,f){var h=f?this.clone():this;h._data=qA(h._data,c);var d=h._size.reduce((m,p)=>m*p);return h._size=HA(c,d),h};function l(c,f,h){for(var d=c._size.slice(0),m=!1;d.length<f.length;)d.push(0),m=!0;for(var p=0,g=f.length;p<g;p++)f[p]>d[p]&&(d[p]=f[p],m=!0);m&&o(c,d,h)}r.prototype.clone=function(){var c=new r({data:at(this._data),size:at(this._size),datatype:this._datatype});return c},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this,d=h._size.length-1;if(d<0)return h.clone();var m=Du(c,h,"map",f),p=m.fn,g=h.create(void 0,h._datatype);if(g._size=h._size,f||m.isUnary)return g._data=E(h._data),g;if(d===0){for(var v=h.valueOf(),b=Array(v.length),y=0;y<v.length;y++)b[y]=p(v[y],[y],h);return g._data=b,g}var x=[];return g._data=w(h._data),g;function w(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(S.length);if(A<d)for(var D=0;D<S.length;D++)x[A]=D,N[D]=w(S[D],A+1);else for(var C=0;C<S.length;C++)x[A]=C,N[C]=p(S[C],x.slice(),h);return N}function E(S){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=Array(S.length);if(A<d)for(var D=0;D<S.length;D++)N[D]=E(S[D],A+1);else for(var C=0;C<S.length;C++)N[C]=p(S[C]);return N}},r.prototype.forEach=function(c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,h=this,d=h._size.length-1;if(d<0)return;var m=Du(c,h,"map",f),p=m.fn;if(f||m.isUnary){y(h._data);return}if(d===0){for(var g=0;g<h._data.length;g++)p(h._data[g],[g],h);return}var v=[];b(h._data);function b(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(w<d)for(var E=0;E<x.length;E++)v[w]=E,b(x[E],w+1);else for(var S=0;S<x.length;S++)v[w]=S,p(x[S],v.slice(),h)}function y(x){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(w<d)for(var E=0;E<x.length;E++)y(x[E],w+1);else for(var S=0;S<x.length;S++)p(x[S])}},r.prototype[Symbol.iterator]=function*(){var c=this._size.length-1;if(!(c<0)){if(c===0){for(var f=0;f<this._data.length;f++)yield{value:this._data[f],index:[f]};return}var h=[],d=function*(p,g){if(g<c)for(var v=0;v<p.length;v++)h[g]=v,yield*d(p[v],g+1);else for(var b=0;b<p.length;b++)h[g]=b,yield{value:p[b],index:h.slice()}};yield*d(this._data,0)}},r.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var h=this._data;for(var d of h)c.push(new r([d],this._datatype));return c},r.prototype.columns=function(){var c=this,f=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var d=this._data,m=function(v){var b=d.map(y=>[y[v]]);f.push(new r(b,c._datatype))},p=0;p<h[1];p++)m(p);return f},r.prototype.toArray=function(){return at(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(c){return pt(this._data,c)},r.prototype.toString=function(){return pt(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(c){if(c){if(ht(c)&&(c=c.toNumber()),!ft(c)||!We(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,h=c<0?-c:0,d=this._size[0],m=this._size[1],p=Math.min(d-h,m-f),g=[],v=0;v<p;v++)g[v]=this._data[v+h][v+f];return new r({data:g,size:[p],datatype:this._datatype})},r.diagonal=function(c,f,h,d){if(!Ut(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(S){if(ht(S)&&(S=S.toNumber()),!ft(S)||!We(S)||S<1)throw new Error("Size values must be positive integers");return S}),h){if(ht(h)&&(h=h.toNumber()),!ft(h)||!We(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,p=h<0?-h:0,g=c[0],v=c[1],b=Math.min(g-p,v-m),y;if(Ut(f)){if(f.length!==b)throw new Error("Invalid value array length");y=function(A){return f[A]}}else if(Je(f)){var x=f.size();if(x.length!==1||x[0]!==b)throw new Error("Invalid matrix length");y=function(A){return f.get([A])}}else y=function(){return f};d||(d=ht(y(0))?y(0).mul(0):0);var w=[];if(c.length>0){w=Af(w,c,d);for(var E=0;E<b;E++)w[E+p][E+m]=y(E)}return new r({data:w,size:[g,v]})},r.fromJSON=function(c){return new r(c)},r.prototype.swapRows=function(c,f){if(!ft(c)||!We(c)||!ft(f)||!We(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Yt(c,this._size[0]),Yt(f,this._size[0]),r._swapRows(c,f,this._data),this},r._swapRows=function(c,f,h){var d=h[c];h[c]=h[f],h[f]=d};function u(c){return Je(c)?u(c.valueOf()):Ut(c)?c.map(u):c}return r},{isClass:!0}),AI="clone",Fue=["typed"],Bue=H(AI,Fue,t=>{var{typed:e}=t;return e(AI,{any:at})});function iV(t){var e=t.length,r=t[0].length,n,i,s=[];for(i=0;i<r;i++){var a=[];for(n=0;n<e;n++)a.push(t[n][i]);s.push(a)}return s}function Wf(t){for(var e=0;e<t.length;e++)if(Qi(t[e]))return!0;return!1}function ol(t,e){Je(t)?t.forEach(r=>e(r),!1,!0):nV(t,e,!0)}function dt(t,e,r){if(!r)return Je(t)?t.map(i=>e(i),!1,!0):k_(t,e,!0);var n=i=>i===0?i:e(i);return Je(t)?t.map(i=>n(i),!1,!0):k_(t,n,!0)}function k1(t,e,r){var n=Array.isArray(t)?st(t):t.size();if(e<0||e>=n.length)throw new _s(e,n.length);return Je(t)?t.create(U0(t.valueOf(),e,r),t.datatype()):U0(t,e,r)}function U0(t,e,r){var n,i,s,a;if(e<=0)if(Array.isArray(t[0])){for(a=iV(t),i=[],n=0;n<a.length;n++)i[n]=U0(a[n],e-1,r);return i}else{for(s=t[0],n=1;n<t.length;n++)s=r(s,t[n]);return s}else{for(i=[],n=0;n<t.length;n++)i[n]=U0(t[n],e-1,r);return i}}function NI(t,e,r,n,i,s,a,o,l,u,c){var f=t._values,h=t._index,d=t._ptr,m,p,g,v;if(n)for(p=d[e],g=d[e+1],m=p;m<g;m++)v=h[m],r[v]!==s?(r[v]=s,a.push(v),n[v]=f[m]):(n[v]=o(n[v],f[m]),i[v]=s);else for(p=d[e],g=d[e+1],m=p;m<g;m++)v=h[m],r[v]!==s?(r[v]=s,a.push(v)):i[v]=s}var TI="isInteger",Lue=["typed"],Vue=H(TI,Lue,t=>{var{typed:e}=t;return e(TI,{number:We,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1n},"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),Es="number",Gf="number, number";function sV(t){return Math.abs(t)}sV.signature=Es;function aV(t,e){return t+e}aV.signature=Gf;function oV(t,e){return t-e}oV.signature=Gf;function lV(t,e){return t*e}lV.signature=Gf;function uV(t){return-t}uV.signature=Es;function cV(t){return t}cV.signature=Es;function Hh(t){return zoe(t)}Hh.signature=Es;function fV(t){return t*t*t}fV.signature=Es;function hV(t){return Math.exp(t)}hV.signature=Es;function dV(t){return joe(t)}dV.signature=Es;function mV(t,e){if(!We(t)||!We(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var r,n=t*e;e!==0;)r=e,e=t%r,t=r;return Math.abs(n/t)}mV.signature=Gf;function DI(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function q0(t){return Voe(t)}q0.signature=Es;function R_(t){return Loe(t)}R_.signature=Es;function CI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,r=e<0;if(r&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return r?1/0:0;if(!isFinite(t))return r?0:t;var n=Math.pow(Math.abs(t),1/e);return n=t<0?-n:n,r?1/n:n}function O_(t){return To(t)}O_.signature=Es;function pV(t){return t*t}pV.signature=Es;function gV(t,e){var r,n,i,s=0,a=1,o=1,l=0;if(!We(t)||!We(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)n=Math.floor(t/e),i=t-n*e,r=s,s=a-n*s,a=r,r=o,o=l-n*o,l=r,t=e,e=i;var u;return t<0?u=[-t,-a,-l]:u=[t,t?a:0,l],u}gV.signature=Gf;function vV(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}vV.signature=Gf;function Ah(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!We(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(k8(t,e))}var $ue="number",Kf="number, number";function yV(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function bitAnd");return t&e}yV.signature=Kf;function xV(t){if(!We(t))throw new Error("Integer expected in function bitNot");return~t}xV.signature=$ue;function bV(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function bitOr");return t|e}bV.signature=Kf;function wV(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function bitXor");return t^e}wV.signature=Kf;function _V(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function leftShift");return t<<e}_V.signature=Kf;function EV(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function rightArithShift");return t>>e}EV.signature=Kf;function SV(t,e){if(!We(t)||!We(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}SV.signature=Kf;function Da(t,e){if(e<t)return 1;if(e===t)return e;var r=e+t>>1;return Da(t,r)*Da(r+1,e)}function AV(t,e){if(!We(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!We(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var r=t-e,n=1,i=e<r?r+1:e+1,s=2,a=e<r?e:r,o=i;o<=t;++o)for(n*=o;s<=a&&n%s===0;)n/=s,++s;return s<=a&&(n/=Da(s,a)),n}AV.signature="number, number";var zue=Math.PI,jue=2*Math.PI,Uue=Math.E,que=1.618033988749895,Hue="number",KA="number, number";function NV(t){return!t}NV.signature=Hue;function F_(t,e){return!!(t||e)}F_.signature=KA;function B_(t,e){return!!t!=!!e}B_.signature=KA;function L_(t,e){return!!(t&&e)}L_.signature=KA;function H0(t){var e;if(We(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Da(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*H0(1-t));if(t>=171.35)return 1/0;if(t>85){var r=t*t,n=r*t,i=n*t,s=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*r)-139/(51840*n)-571/(2488320*i)+163879/(209018880*s)+5246819/(75246796800*s*t))}--t,e=Jc[0];for(var a=1;a<Jc.length;++a)e+=Jc[a]/(t+a);var o=t+TV+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,t+.5)*Math.exp(-o)*e}H0.signature="number";var TV=4.7421875,Jc=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],DV=.9189385332046728,Wue=5,Gue=7,MI=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function W0(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-W0(1-t);t=t-1;for(var e=t+Wue+.5,r=MI[0],n=Gue-1;n>=1;n--)r+=MI[n]/(t+n);return DV+(t+.5)*Math.log(e)-e+Math.log(r)}W0.signature="number";var Bn="number";function CV(t){return Woe(t)}CV.signature=Bn;function MV(t){return Math.atan(1/t)}MV.signature=Bn;function IV(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}IV.signature=Bn;function PV(t){return Math.asin(1/t)}PV.signature=Bn;function kV(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}kV.signature=Bn;function RV(t){return Math.acos(1/t)}RV.signature=Bn;function OV(t){var e=1/t,r=Math.sqrt(e*e-1);return Math.log(r+e)}OV.signature=Bn;function FV(t){return Goe(t)}FV.signature=Bn;function BV(t){return Koe(t)}BV.signature=Bn;function LV(t){return 1/Math.tan(t)}LV.signature=Bn;function VV(t){var e=Math.exp(2*t);return(e+1)/(e-1)}VV.signature=Bn;function $V(t){return 1/Math.sin(t)}$V.signature=Bn;function zV(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*To(t)}zV.signature=Bn;function jV(t){return 1/Math.cos(t)}jV.signature=Bn;function UV(t){return 2/(Math.exp(t)+Math.exp(-t))}UV.signature=Bn;function qV(t){return Qoe(t)}qV.signature=Bn;var YA="number";function HV(t){return t<0}HV.signature=YA;function WV(t){return t>0}WV.signature=YA;function GV(t){return Number.isNaN(t)}GV.signature=YA;function Xi(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return t.isNaN()||e.isNaN()?!1:!t.isFinite()||!e.isFinite()?t.eq(e):t.eq(e)?!0:t.minus(e).abs().lte(t.constructor.max(t.constructor.max(t.abs(),e.abs()).mul(r),n))}var II="isNegative",Kue=["typed","config"],Yue=H(II,Kue,t=>{var{typed:e,config:r}=t;return e(II,{number:n=>mn(n,0,r.relTol,r.absTol)?!1:HV(n),BigNumber:n=>Xi(n,new n.constructor(0),r.relTol,r.absTol)?!1:n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n<0n,Fraction:n=>n.s<0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),PI="isNumeric",Que=["typed"],Xue=H(PI,Que,t=>{var{typed:e}=t;return e(PI,{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),kI="hasNumericValue",Jue=["typed","isNumeric"],Zue=H(kI,Jue,t=>{var{typed:e,isNumeric:r}=t;return e(kI,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return r(i)}})}),RI="isPositive",ece=["typed","config"],tce=H(RI,ece,t=>{var{typed:e,config:r}=t;return e(RI,{number:n=>mn(n,0,r.relTol,r.absTol)?!1:WV(n),BigNumber:n=>Xi(n,new n.constructor(0),r.relTol,r.absTol)?!1:!n.isNeg()&&!n.isZero()&&!n.isNaN(),bigint:n=>n>0n,Fraction:n=>n.s>0n&&n.n>0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),OI="isZero",rce=["typed","equalScalar"],nce=H(OI,rce,t=>{var{typed:e,equalScalar:r}=t;return e(OI,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:e.referToSelf(n=>i=>e.find(n,i.valueType())(i.value)),"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),FI="isNaN",ice=["typed"],sce=H(FI,ice,t=>{var{typed:e}=t;return e(FI,{number:GV,BigNumber:function(n){return n.isNaN()},bigint:function(n){return!1},Fraction:function(n){return!1},Complex:function(n){return n.isNaN()},Unit:function(n){return Number.isNaN(n.value)},"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),BI="typeOf",ace=["typed"],oce=H(BI,ace,t=>{var{typed:e}=t;return e(BI,{any:Wt})});function lce(t,e,r,n){return mn(t.re,e.re,r,n)&&mn(t.im,e.im,r,n)}var Yf=H("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(!n.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(r,[n.valueType(),i.valueType()])(n.value,i.value)})}}),G0="equalScalar",uce=["typed","config"],cce=H(G0,uce,t=>{var{typed:e,config:r}=t,n=Yf({typed:e});return e(G0,{"boolean, boolean":function(s,a){return s===a},"number, number":function(s,a){return mn(s,a,r.relTol,r.absTol)},"BigNumber, BigNumber":function(s,a){return s.eq(a)||Xi(s,a,r.relTol,r.absTol)},"bigint, bigint":function(s,a){return s===a},"Fraction, Fraction":function(s,a){return s.equals(a)},"Complex, Complex":function(s,a){return lce(s,a,r.relTol,r.absTol)}},n)});H(G0,["typed","config"],t=>{var{typed:e,config:r}=t;return e(G0,{"number, number":function(i,s){return mn(i,s,r.relTol,r.absTol)}})});var fce="SparseMatrix",hce=["typed","equalScalar","Matrix"],dce=H(fce,hce,t=>{var{typed:e,equalScalar:r,Matrix:n}=t;function i(p,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!Cn(g))throw new Error("Invalid datatype: "+g);if(Je(p))s(this,p,g);else if(p&&Ut(p.index)&&Ut(p.ptr)&&Ut(p.size))this._values=p.values,this._index=p.index,this._ptr=p.ptr,this._size=p.size,this._datatype=g||p.datatype;else if(Ut(p))a(this,p,g);else{if(p)throw new TypeError("Unsupported type of data ("+Wt(p)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function s(p,g,v){g.type==="SparseMatrix"?(p._values=g._values?at(g._values):void 0,p._index=at(g._index),p._ptr=at(g._ptr),p._size=at(g._size),p._datatype=v||g._datatype):a(p,g.valueOf(),v||g._datatype)}function a(p,g,v){p._values=[],p._index=[],p._ptr=[],p._datatype=v;var b=g.length,y=0,x=r,w=0;if(Cn(v)&&(x=e.find(r,[v,v])||r,w=e.convert(0,v)),b>0){var E=0;do{p._ptr.push(p._index.length);for(var S=0;S<b;S++){var A=g[S];if(Ut(A)){if(E===0&&y<A.length&&(y=A.length),E<A.length){var N=A[E];x(N,w)||(p._values.push(N),p._index.push(S))}}else E===0&&y<1&&(y=1),x(A,w)||(p._values.push(A),p._index.push(S))}E++}while(E<y)}p._ptr.push(p._index.length),p._size=[b,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(p,g){return new i(p,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return P1(this._values,Wt)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(p,g){return new i(p,g)},i.prototype.density=function(){var p=this._size[0],g=this._size[1];return p!==0&&g!==0?this._index.length/(p*g):0},i.prototype.subset=function(p,g,v){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return o(this,p);case 2:case 3:return l(this,p,g,v);default:throw new SyntaxError("Wrong number of arguments")}};function o(p,g){if(!A1(g))throw new TypeError("Invalid index");var v=g.isScalar();if(v)return p.get(g.min());var b=g.size();if(b.length!==p._size.length)throw new gt(b.length,p._size.length);var y,x,w,E,S=g.min(),A=g.max();for(y=0,x=p._size.length;y<x;y++)Yt(S[y],p._size[y]),Yt(A[y],p._size[y]);var N=p._values,D=p._index,C=p._ptr,M=g.dimension(0),I=g.dimension(1),z=[],V=[];M.forEach(function($,Y){V[$]=Y[0],z[$]=!0});var k=N?[]:void 0,L=[],B=[];return I.forEach(function($){for(B.push(L.length),w=C[$],E=C[$+1];w<E;w++)y=D[w],z[y]===!0&&(L.push(V[y]),k&&k.push(N[w]))}),B.push(L.length),new i({values:k,index:L,ptr:B,size:b,datatype:p._datatype})}function l(p,g,v,b){if(!g||g.isIndex!==!0)throw new TypeError("Invalid index");var y=g.size(),x=g.isScalar(),w;if(Je(v)?(w=v.size(),v=v.toArray()):w=st(v),x){if(w.length!==0)throw new TypeError("Scalar expected");p.set(g.min(),v,b)}else{if(y.length!==1&&y.length!==2)throw new gt(y.length,p._size.length,"<");if(w.length<y.length){for(var E=0,S=0;y[E]===1&&w[E]===1;)E++;for(;y[E]===1;)S++,E++;v=X8(v,y.length,S,w)}if(!Ka(y,w))throw new gt(y,w,">");if(y.length===1){var A=g.dimension(0);A.forEach(function(C,M){Yt(C),p.set([C,0],v[M[0]],b)})}else{var N=g.dimension(0),D=g.dimension(1);N.forEach(function(C,M){Yt(C),D.forEach(function(I,z){Yt(I),p.set([C,I],v[M[0]][z[0]],b)})})}}return p}i.prototype.get=function(p){if(!Ut(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new gt(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=p[0],v=p[1];Yt(g,this._size[0]),Yt(v,this._size[1]);var b=u(g,this._ptr[v],this._ptr[v+1],this._index);return b<this._ptr[v+1]&&this._index[b]===g?this._values[b]:0},i.prototype.set=function(p,g,v){if(!Ut(p))throw new TypeError("Array expected");if(p.length!==this._size.length)throw new gt(p.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=p[0],y=p[1],x=this._size[0],w=this._size[1],E=r,S=0;Cn(this._datatype)&&(E=e.find(r,[this._datatype,this._datatype])||r,S=e.convert(0,this._datatype)),(b>x-1||y>w-1)&&(h(this,Math.max(b+1,x),Math.max(y+1,w),v),x=this._size[0],w=this._size[1]),Yt(b,x),Yt(y,w);var A=u(b,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===b?E(g,S)?c(A,y,this._values,this._index,this._ptr):this._values[A]=g:E(g,S)||f(A,b,y,g,this._values,this._index,this._ptr),this};function u(p,g,v,b){if(v-g===0)return v;for(var y=g;y<v;y++)if(b[y]===p)return y;return g}function c(p,g,v,b,y){v.splice(p,1),b.splice(p,1);for(var x=g+1;x<y.length;x++)y[x]--}function f(p,g,v,b,y,x,w){y.splice(p,0,b),x.splice(p,0,g);for(var E=v+1;E<w.length;E++)w[E]++}i.prototype.resize=function(p,g,v){if(!Qi(p))throw new TypeError("Array or Matrix expected");var b=p.valueOf().map(x=>Array.isArray(x)&&x.length===1?x[0]:x);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(x){if(!ft(x)||!We(x)||x<0)throw new TypeError("Invalid size, must contain positive integers (size: "+pt(b)+")")});var y=v?this.clone():this;return h(y,b[0],b[1],g)};function h(p,g,v,b){var y=b||0,x=r,w=0;Cn(p._datatype)&&(x=e.find(r,[p._datatype,p._datatype])||r,w=e.convert(0,p._datatype),y=e.convert(y,p._datatype));var E=!x(y,w),S=p._size[0],A=p._size[1],N,D,C;if(v>A){for(D=A;D<v;D++)if(p._ptr[D]=p._values.length,E)for(N=0;N<S;N++)p._values.push(y),p._index.push(N);p._ptr[v]=p._values.length}else v<A&&(p._ptr.splice(v+1,A-v),p._values.splice(p._ptr[v],p._values.length),p._index.splice(p._ptr[v],p._index.length));if(A=v,g>S){if(E){var M=0;for(D=0;D<A;D++){p._ptr[D]=p._ptr[D]+M,C=p._ptr[D+1]+M;var I=0;for(N=S;N<g;N++,I++)p._values.splice(C+I,0,y),p._index.splice(C+I,0,N),M++}p._ptr[A]=p._values.length}}else if(g<S){var z=0;for(D=0;D<A;D++){p._ptr[D]=p._ptr[D]-z;var V=p._ptr[D],k=p._ptr[D+1]-z;for(C=V;C<k;C++)N=p._index[C],N>g-1&&(p._values.splice(C,1),p._index.splice(C,1),z++)}p._ptr[D]=p._values.length}return p._size[0]=g,p._size[1]=v,p}i.prototype.reshape=function(p,g){if(!Ut(p))throw new TypeError("Array expected");if(p.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");p.forEach(function($){if(!ft($)||!We($)||$<=-2||$===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+pt(p)+")")});var v=this._size[0]*this._size[1];p=HA(p,v);var b=p[0]*p[1];if(v!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=g?this.clone():this;if(this._size[0]===p[0]&&this._size[1]===p[1])return y;for(var x=[],w=0;w<y._ptr.length;w++)for(var E=0;E<y._ptr[w+1]-y._ptr[w];E++)x.push(w);for(var S=y._values.slice(),A=y._index.slice(),N=0;N<y._index.length;N++){var D=A[N],C=x[N],M=D*y._size[1]+C;x[N]=M%p[1],A[N]=Math.floor(M/p[1])}y._values.length=0,y._index.length=0,y._ptr.length=p[1]+1,y._size=p.slice();for(var I=0;I<y._ptr.length;I++)y._ptr[I]=0;for(var z=0;z<S.length;z++){var V=A[z],k=x[z],L=S[z],B=u(V,y._ptr[k],y._ptr[k+1],y._index);f(B,V,k,L,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var p=new i({values:this._values?at(this._values):void 0,index:at(this._index),ptr:at(this._ptr),size:at(this._size),datatype:this._datatype});return p},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(p,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var v=this,b=this._size[0],y=this._size[1],x=Du(p,v,"map"),w=function(S,A,N){return x.fn(S,[A,N],v)};return d(this,0,b-1,0,y-1,w,g)};function d(p,g,v,b,y,x,w){var E=[],S=[],A=[],N=r,D=0;Cn(p._datatype)&&(N=e.find(r,[p._datatype,p._datatype])||r,D=e.convert(0,p._datatype));for(var C=function(q,j,me){var ue=x(q,j,me);N(ue,D)||(E.push(ue),S.push(j))},M=b;M<=y;M++){A.push(E.length);var I=p._ptr[M],z=p._ptr[M+1];if(w)for(var V=I;V<z;V++){var k=p._index[V];k>=g&&k<=v&&C(p._values[V],k-g,M-b)}else{for(var L={},B=I;B<z;B++){var $=p._index[B];L[$]=p._values[B]}for(var Y=g;Y<=v;Y++){var ie=Y in L?L[Y]:0;C(ie,Y-g,M-b)}}}return A.push(E.length),new i({values:E,index:S,ptr:A,size:[v-g+1,y-b+1]})}i.prototype.forEach=function(p,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var v=this,b=this._size[0],y=this._size[1],x=Du(p,v,"forEach"),w=0;w<y;w++){var E=this._ptr[w],S=this._ptr[w+1];if(g)for(var A=E;A<S;A++){var N=this._index[A];x.fn(this._values[A],[N,w],v)}else{for(var D={},C=E;C<S;C++){var M=this._index[C];D[M]=this._values[C]}for(var I=0;I<b;I++){var z=I in D?D[I]:0;x.fn(z,[I,w],v)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var p=this._size[1],g=0;g<p;g++)for(var v=this._ptr[g],b=this._ptr[g+1],y=v;y<b;y++){var x=this._index[y];yield{value:this._values[y],index:[x,g]}}},i.prototype.toArray=function(){return m(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return m(this._values,this._index,this._ptr,this._size,!1)};function m(p,g,v,b,y){var x=b[0],w=b[1],E=[],S,A;for(S=0;S<x;S++)for(E[S]=[],A=0;A<w;A++)E[S][A]=0;for(A=0;A<w;A++)for(var N=v[A],D=v[A+1],C=N;C<D;C++)S=g[C],E[S][A]=p?y?at(p[C]):p[C]:1;return E}return i.prototype.format=function(p){for(var g=this._size[0],v=this._size[1],b=this.density(),y="Sparse Matrix ["+pt(g,p)+" x "+pt(v,p)+"] density: "+pt(b,p)+`
`,x=0;x<v;x++)for(var w=this._ptr[x],E=this._ptr[x+1],S=w;S<E;S++){var A=this._index[S];y+=`
    (`+pt(A,p)+", "+pt(x,p)+") ==> "+(this._values?pt(this._values[S],p):"X")}return y},i.prototype.toString=function(){return pt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(p){if(p){if(ht(p)&&(p=p.toNumber()),!ft(p)||!We(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var g=p>0?p:0,v=p<0?-p:0,b=this._size[0],y=this._size[1],x=Math.min(b-v,y-g),w=[],E=[],S=[];S[0]=0;for(var A=g;A<y&&w.length<x;A++)for(var N=this._ptr[A],D=this._ptr[A+1],C=N;C<D;C++){var M=this._index[C];if(M===A-g+v){w.push(this._values[C]),E[w.length-1]=M-v;break}}return S.push(w.length),new i({values:w,index:E,ptr:S,size:[x,1]})},i.fromJSON=function(p){return new i(p)},i.diagonal=function(p,g,v,b,y){if(!Ut(p))throw new TypeError("Array expected, size parameter");if(p.length!==2)throw new Error("Only two dimensions matrix are supported");if(p=p.map(function($){if(ht($)&&($=$.toNumber()),!ft($)||!We($)||$<1)throw new Error("Size values must be positive integers");return $}),v){if(ht(v)&&(v=v.toNumber()),!ft(v)||!We(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var x=r,w=0;Cn(y)&&(x=e.find(r,[y,y])||r,w=e.convert(0,y));var E=v>0?v:0,S=v<0?-v:0,A=p[0],N=p[1],D=Math.min(A-S,N-E),C;if(Ut(g)){if(g.length!==D)throw new Error("Invalid value array length");C=function(Y){return g[Y]}}else if(Je(g)){var M=g.size();if(M.length!==1||M[0]!==D)throw new Error("Invalid matrix length");C=function(Y){return g.get([Y])}}else C=function(){return g};for(var I=[],z=[],V=[],k=0;k<N;k++){V.push(I.length);var L=k-E;if(L>=0&&L<D){var B=C(L);x(B,w)||(z.push(L+S),I.push(B))}}return V.push(I.length),new i({values:I,index:z,ptr:V,size:[A,N]})},i.prototype.swapRows=function(p,g){if(!ft(p)||!We(p)||!ft(g)||!We(g))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Yt(p,this._size[0]),Yt(g,this._size[0]),i._swapRows(p,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(p,g,v,b,y){for(var x=b[p],w=b[p+1],E=x;E<w;E++)y(v[E],g[E])},i._swapRows=function(p,g,v,b,y,x){for(var w=0;w<v;w++){var E=x[w],S=x[w+1],A=u(p,E,S,y),N=u(g,E,S,y);if(A<S&&N<S&&y[A]===p&&y[N]===g){if(b){var D=b[A];b[A]=b[N],b[N]=D}continue}if(A<S&&y[A]===p&&(N>=S||y[N]!==g)){var C=b?b[A]:void 0;y.splice(N,0,g),b&&b.splice(N,0,C),y.splice(N<=A?A+1:A,1),b&&b.splice(N<=A?A+1:A,1);continue}if(N<S&&y[N]===g&&(A>=S||y[A]!==p)){var M=b?b[N]:void 0;y.splice(A,0,p),b&&b.splice(A,0,M),y.splice(A<=N?N+1:N,1),b&&b.splice(A<=N?N+1:N,1)}}},i},{isClass:!0}),mce="number",pce=["typed"];function gce(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var r={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],i=e[3];return{input:t,radix:r,integerPart:n,fractionalPart:i}}else return null}function vce(t){for(var e=parseInt(t.integerPart,t.radix),r=0,n=0;n<t.fractionalPart.length;n++){var i=parseInt(t.fractionalPart[n],t.radix);r+=i/Math.pow(t.radix,n+1)}var s=e+r;if(isNaN(s))throw new SyntaxError('String "'+t.input+'" is not a valid number');return s}var yce=H(mce,pce,t=>{var{typed:e}=t,r=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var s=gce(i);if(s)return vce(s);var a=0,o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);o&&(a=Number(o[2]),i=o[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(o){if(l>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(i){return i.toNumber()},bigint:function(i){return Number(i)},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(n=>i=>{var s=i.clone();return s.value=n(i.value),s}),null:function(i){return 0},"Unit, string | Unit":function(i,s){return i.toNumber(s)},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),xce="bigint",bce=["typed"],wce=H(xce,bce,t=>{var{typed:e}=t,r=e("bigint",{"":function(){return 0n},bigint:function(i){return i},number:function(i){return BigInt(i.toFixed())},BigNumber:function(i){return BigInt(i.round().toString())},Fraction:function(i){return BigInt(i.valueOf().toFixed())},"string | boolean":function(i){return BigInt(i)},null:function(i){return 0n},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))});return r.fromJSON=function(n){return BigInt(n.value)},r}),LI="string",_ce=["typed"],Ece=H(LI,_ce,t=>{var{typed:e}=t;return e(LI,{"":function(){return""},number:du,null:function(n){return"null"},boolean:function(n){return n+""},string:function(n){return n},"Array | Matrix":e.referToSelf(r=>n=>dt(n,r)),any:function(n){return String(n)}})}),VI="boolean",Sce=["typed"],Ace=H(VI,Sce,t=>{var{typed:e}=t;return e(VI,{"":function(){return!1},boolean:function(n){return n},number:function(n){return!!n},null:function(n){return!1},BigNumber:function(n){return!n.isZero()},string:function(n){var i=n.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var s=Number(n);if(n!==""&&!isNaN(s))return!!s;throw new Error('Cannot convert "'+n+'" to a boolean')},"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),Nce="bignumber",Tce=["typed","BigNumber"],Dce=H(Nce,Tce,t=>{var{typed:e,BigNumber:r}=t;return e("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var a=s[2],o=r(s[1]),l=new r(2).pow(Number(a));if(o.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new r(2).pow(Number(a)-1);return o.gte(u)?o.sub(l):o}return new r(i)},BigNumber:function(i){return i},bigint:function(i){return new r(i.toString())},Unit:e.referToSelf(n=>i=>{var s=i.clone();return s.value=n(i.value),s}),Fraction:function(i){return new r(String(i.n)).div(String(i.d)).times(String(i.s))},null:function(i){return new r(0)},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),Cce="complex",Mce=["typed","Complex"],Ice=H(Cce,Mce,t=>{var{typed:e,Complex:r}=t;return e("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,s){return new r(i,s)},"BigNumber, BigNumber":function(i,s){return new r(i.toNumber(),s.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),Pce="fraction",kce=["typed","Fraction"],Rce=H(Pce,kce,t=>{var{typed:e,Fraction:r}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,s){return new r(i,s)},"bigint, bigint":function(i,s){return new r(i,s)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},bigint:function(i){return new r(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(n=>i=>{var s=i.clone();return s.value=n(i.value),s}),Object:function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),$I="matrix",Oce=["typed","Matrix","DenseMatrix","SparseMatrix"],Fce=H($I,Oce,t=>{var{typed:e,Matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e($I,{"":function(){return s([])},string:function(o){return s([],o)},"string, string":function(o,l){return s([],o,l)},Array:function(o){return s(o)},Matrix:function(o){return s(o,o.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(a,o,l){if(o==="dense"||o==="default"||o===void 0)return new n(a,l);if(o==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(o)+".")}}),zI="matrixFromFunction",Bce=["typed","matrix","isZero"],Lce=H(zI,Bce,t=>{var{typed:e,matrix:r,isZero:n}=t;return e(zI,{"Array | Matrix, function, string, string":function(a,o,l,u){return i(a,o,l,u)},"Array | Matrix, function, string":function(a,o,l){return i(a,o,l)},"Matrix, function":function(a,o){return i(a,o,"dense")},"Array, function":function(a,o){return i(a,o,"dense").toArray()},"Array | Matrix, string, function":function(a,o,l){return i(a,l,o)},"Array | Matrix, string, string, function":function(a,o,l,u){return i(a,u,o,l)}});function i(s,a,o,l){var u;return l!==void 0?u=r(o,l):u=r(o),u.resize(s),u.forEach(function(c,f){var h=a(f);n(h)||u.set(f,h)}),u}}),jI="matrixFromRows",Vce=["typed","matrix","flatten","size"],$ce=H(jI,Vce,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(jI,{"...Array":function(l){return s(l)},"...Matrix":function(l){return r(s(l.map(u=>u.toArray())))}});function s(o){if(o.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=a(o[0]),u=[];for(var c of o){var f=a(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(f|0));u.push(n(c))}return u}function a(o){var l=i(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),UI="matrixFromColumns",zce=["typed","matrix","flatten","size"],jce=H(UI,zce,t=>{var{typed:e,matrix:r,flatten:n,size:i}=t;return e(UI,{"...Array":function(l){return s(l)},"...Matrix":function(l){return r(s(l.map(u=>u.toArray())))}});function s(o){if(o.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=a(o[0]),u=[],c=0;c<l;c++)u[c]=[];for(var f of o){var h=a(f);if(h!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(h|0));for(var d=n(f),m=0;m<l;m++)u[m].push(d[m])}return u}function a(o){var l=i(o);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),qI="splitUnit",Uce=["typed"],qce=H(qI,Uce,t=>{var{typed:e}=t;return e(qI,{"Unit, Array":function(n,i){return n.splitUnit(i)}})}),HI="unaryMinus",Hce=["typed"],Wce=H(HI,Hce,t=>{var{typed:e}=t;return e(HI,{number:uV,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:e.referToSelf(r=>n=>{var i=n.clone();return i.value=e.find(r,i.valueType())(n.value),i}),"Array | Matrix":e.referToSelf(r=>n=>dt(n,r,!0))})}),WI="unaryPlus",Gce=["typed","config","numeric"],Kce=H(WI,Gce,t=>{var{typed:e,config:r,numeric:n}=t;return e(WI,{number:cV,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":e.referToSelf(i=>s=>dt(s,i,!0)),boolean:function(s){return n(s?1:0,r.number)},string:function(s){return n(s,yl(s,r))}})}),GI="abs",Yce=["typed"],Qce=H(GI,Yce,t=>{var{typed:e}=t;return e(GI,{number:sV,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":e.referToSelf(r=>n=>dt(n,r,!0))})}),KI="mapSlices",Xce=["typed","isInteger"],V_=H(KI,Xce,t=>{var{typed:e,isInteger:r}=t;return e(KI,{"Array | Matrix, number | BigNumber, function":function(i,s,a){if(!r(s))throw new TypeError("Integer number expected for dimension");var o=Array.isArray(i)?st(i):i.size();if(s<0||s>=o.length)throw new _s(s,o.length);return Je(i)?i.create(K0(i.valueOf(),s,a),i.datatype()):K0(i,s,a)}})},{formerly:"apply"});function K0(t,e,r){var n,i,s;if(e<=0)if(Array.isArray(t[0])){for(s=Jce(t),i=[],n=0;n<s.length;n++)i[n]=K0(s[n],e-1,r);return i}else return r(t);else{for(i=[],n=0;n<t.length;n++)i[n]=K0(t[n],e-1,r);return i}}function Jce(t){var e=t.length,r=t[0].length,n,i,s=[];for(i=0;i<r;i++){var a=[];for(n=0;n<e;n++)a.push(t[n][i]);s.push(a)}return s}var YI="addScalar",Zce=["typed"],efe=H(YI,Zce,t=>{var{typed:e}=t;return e(YI,{"number, number":aV,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"bigint, bigint":function(n,i){return n+i},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var s=n.clone();return s.value=e.find(r,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),QI="subtractScalar",tfe=["typed"],rfe=H(QI,tfe,t=>{var{typed:e}=t;return e(QI,{"number, number":oV,"Complex, Complex":function(n,i){return n.sub(i)},"BigNumber, BigNumber":function(n,i){return n.minus(i)},"bigint, bigint":function(n,i){return n-i},"Fraction, Fraction":function(n,i){return n.sub(i)},"Unit, Unit":e.referToSelf(r=>(n,i)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var s=n.clone();return s.value=e.find(r,[s.valueType(),i.valueType()])(s.value,i.value),s.fixPrefix=!1,s})})}),XI="cbrt",nfe=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],ife=H(XI,nfe,t=>{var{config:e,typed:r,isNegative:n,unaryMinus:i,matrix:s,Complex:a,BigNumber:o,Fraction:l}=t;return r(XI,{number:Hh,Complex:u,"Complex, boolean":u,BigNumber:function(h){return h.cbrt()},Unit:c});function u(f,h){var d=f.arg()/3,m=f.abs(),p=new a(Hh(m),0).mul(new a(0,d).exp());if(h){var g=[p,new a(Hh(m),0).mul(new a(0,d+Math.PI*2/3).exp()),new a(Hh(m),0).mul(new a(0,d-Math.PI*2/3).exp())];return e.matrix==="Array"?g:s(g)}else return p}function c(f){if(f.value&&Ra(f.value)){var h=f.clone();return h.value=1,h=h.pow(1/3),h.value=u(f.value),h}else{var d=n(f.value);d&&(f.value=i(f.value));var m;ht(f.value)?m=new o(1).div(3):Km(f.value)?m=new l(1,3):m=1/3;var p=f.pow(m);return d&&(p.value=i(p.value)),p}}}),sfe="matAlgo11xS0s",afe=["typed","equalScalar"],pn=H(sfe,afe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a,o){var l=i._values,u=i._index,c=i._ptr,f=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],m=f[1],p,g=r,v=0,b=a;typeof h=="string"&&(p=h,g=e.find(r,[p,p]),v=e.convert(0,p),s=e.convert(s,p),b=e.find(a,[p,p]));for(var y=[],x=[],w=[],E=0;E<m;E++){w[E]=x.length;for(var S=c[E],A=c[E+1],N=S;N<A;N++){var D=u[N],C=o?b(s,l[N]):b(l[N],s);g(C,v)||(x.push(D),y.push(C))}}return w[m]=x.length,i.createSparseMatrix({values:y,index:x,ptr:w,size:[d,m],datatype:p})}}),ofe="matAlgo12xSfs",lfe=["typed","DenseMatrix"],Ur=H(ofe,lfe,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,s,a,o){var l=i._values,u=i._index,c=i._ptr,f=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],m=f[1],p,g=a;typeof h=="string"&&(p=h,s=e.convert(s,p),g=e.find(a,[p,p]));for(var v=[],b=[],y=[],x=0;x<m;x++){for(var w=x+1,E=c[x],S=c[x+1],A=E;A<S;A++){var N=u[A];b[N]=l[A],y[N]=w}for(var D=0;D<d;D++)x===0&&(v[D]=[]),y[D]===w?v[D][x]=o?g(s,b[D]):g(b[D],s):v[D][x]=o?g(s,0):g(0,s)}return new r({data:v,size:[d,m],datatype:p})}}),ufe="matAlgo14xDs",cfe=["typed"],Ss=H(ufe,cfe,t=>{var{typed:e}=t;return function(i,s,a,o){var l=i._data,u=i._size,c=i._datatype,f,h=a;typeof c=="string"&&(f=c,s=e.convert(s,f),h=e.find(a,[f,f]));var d=u.length>0?r(h,0,u,u[0],l,s,o):[];return i.createDenseMatrix({data:d,size:at(u),datatype:f})};function r(n,i,s,a,o,l,u){var c=[];if(i===s.length-1)for(var f=0;f<a;f++)c[f]=u?n(l,o[f]):n(o[f],l);else for(var h=0;h<a;h++)c[h]=r(n,i+1,s,s[i+1],o[h],l,u);return c}}),$_="ceil",ffe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],hfe=new al(10),dfe=H($_,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(s){var a=Math.ceil(s),o=n(s);return a===o?a:mn(s,o,r.relTol,r.absTol)&&!mn(s,a,r.relTol,r.absTol)?o:a}return e($_,{number:i,"number, number":function(a,o){if(!We(o))throw new RangeError("number of decimals in function ceil must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**o;return i(a*l)/l}})}),mfe=H($_,ffe,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s,zeros:a,DenseMatrix:o}=t,l=pn({typed:e,equalScalar:s}),u=Ur({typed:e,DenseMatrix:o}),c=Ss({typed:e}),f=dfe({typed:e,config:r,round:n});function h(d){var m=(v,b)=>Xi(v,b,r.relTol,r.absTol),p=d.ceil(),g=n(d);return p.eq(g)?p:m(d,g)&&!m(d,p)?g:p}return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.ceil()},"Complex, number":function(m,p){return m.ceil(p)},"Complex, BigNumber":function(m,p){return m.ceil(p.toNumber())},BigNumber:h,"BigNumber, BigNumber":function(m,p){var g=hfe.pow(p);return h(m.mul(g)).div(g)},bigint:d=>d,"bigint, number":(d,m)=>d,"bigint, BigNumber":(d,m)=>d,Fraction:function(m){return m.ceil()},"Fraction, number":function(m,p){return m.ceil(p)},"Fraction, BigNumber":function(m,p){return m.ceil(p.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(m,p,g){var v=m.toNumeric(g);return g.multiply(d(v,p))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(m,p,g)=>d(m,p.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(m,p,g)=>dt(m,v=>d(v,p,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(m,p)=>d(m,0,p)),"Array | Matrix":e.referToSelf(d=>m=>dt(m,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(m,p)=>dt(m,g=>d(g,p),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>l(m,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>c(m,p,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(m,p)=>c(i(p),m,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(m,p)=>s(m,0)?a(p.size(),p.storage()):p.storage()==="dense"?c(p,m,d,!0):u(p,m,d,!0))})}),JI="cube",pfe=["typed"],gfe=H(JI,pfe,t=>{var{typed:e}=t;return e(JI,{number:fV,Complex:function(n){return n.mul(n).mul(n)},BigNumber:function(n){return n.times(n).times(n)},bigint:function(n){return n*n*n},Fraction:function(n){return n.pow(3)},Unit:function(n){return n.pow(3)}})}),ZI="exp",vfe=["typed"],yfe=H(ZI,vfe,t=>{var{typed:e}=t;return e(ZI,{number:hV,Complex:function(n){return n.exp()},BigNumber:function(n){return n.exp()}})}),eP="expm1",xfe=["typed","Complex"],bfe=H(eP,xfe,t=>{var{typed:e,Complex:r}=t;return e(eP,{number:dV,Complex:function(i){var s=Math.exp(i.re);return new r(s*Math.cos(i.im)-1,s*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),z_="fix",wfe=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],_fe=H(z_,["typed","ceil","floor"],t=>{var{typed:e,ceil:r,floor:n}=t;return e(z_,{number:function(s){return s>0?n(s):r(s)},"number, number":function(s,a){return s>0?n(s,a):r(s,a)}})}),Efe=H(z_,wfe,t=>{var{typed:e,Complex:r,matrix:n,ceil:i,floor:s,equalScalar:a,zeros:o,DenseMatrix:l}=t,u=Ur({typed:e,DenseMatrix:l}),c=Ss({typed:e}),f=_fe({typed:e,ceil:i,floor:s});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(d){return new r(d.re>0?Math.floor(d.re):Math.ceil(d.re),d.im>0?Math.floor(d.im):Math.ceil(d.im))},"Complex, number":function(d,m){return new r(d.re>0?s(d.re,m):i(d.re,m),d.im>0?s(d.im,m):i(d.im,m))},"Complex, BigNumber":function(d,m){var p=m.toNumber();return new r(d.re>0?s(d.re,p):i(d.re,p),d.im>0?s(d.im,p):i(d.im,p))},BigNumber:function(d){return d.isNegative()?i(d):s(d)},"BigNumber, number | BigNumber":function(d,m){return d.isNegative()?i(d,m):s(d,m)},bigint:h=>h,"bigint, number":(h,d)=>h,"bigint, BigNumber":(h,d)=>h,Fraction:function(d){return d.s<0n?d.ceil():d.floor()},"Fraction, number | BigNumber":function(d,m){return d.s<0n?i(d,m):s(d,m)},"Unit, number, Unit":e.referToSelf(h=>function(d,m,p){var g=d.toNumeric(p);return p.multiply(h(g,m))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(d,m,p)=>h(d,m.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(d,m,p)=>dt(d,g=>h(g,m,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(d,m)=>h(d,0,m)),"Array | Matrix":e.referToSelf(h=>d=>dt(d,h,!0)),"Array | Matrix, number | BigNumber":e.referToSelf(h=>(d,m)=>dt(d,p=>h(p,m),!0)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(h=>(d,m)=>c(n(m),d,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(h=>(d,m)=>a(d,0)?o(m.size(),m.storage()):m.storage()==="dense"?c(m,d,h,!0):u(m,d,h,!0))})}),j_="floor",Sfe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Afe=new al(10),Nfe=H(j_,["typed","config","round"],t=>{var{typed:e,config:r,round:n}=t;function i(s){var a=Math.floor(s),o=n(s);return a===o?a:mn(s,o,r.relTol,r.absTol)&&!mn(s,a,r.relTol,r.absTol)?o:a}return e(j_,{number:i,"number, number":function(a,o){if(!We(o))throw new RangeError("number of decimals in function floor must be an integer");if(o<0||o>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**o;return i(a*l)/l}})}),KV=H(j_,Sfe,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s,zeros:a,DenseMatrix:o}=t,l=pn({typed:e,equalScalar:s}),u=Ur({typed:e,DenseMatrix:o}),c=Ss({typed:e}),f=Nfe({typed:e,config:r,round:n});function h(d){var m=(v,b)=>Xi(v,b,r.relTol,r.absTol),p=d.floor(),g=n(d);return p.eq(g)?p:m(d,g)&&!m(d,p)?g:p}return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(m){return m.floor()},"Complex, number":function(m,p){return m.floor(p)},"Complex, BigNumber":function(m,p){return m.floor(p.toNumber())},BigNumber:h,"BigNumber, BigNumber":function(m,p){var g=Afe.pow(p);return h(m.mul(g)).div(g)},bigint:d=>d,"bigint, number":(d,m)=>d,"bigint, BigNumber":(d,m)=>d,Fraction:function(m){return m.floor()},"Fraction, number":function(m,p){return m.floor(p)},"Fraction, BigNumber":function(m,p){return m.floor(p.toNumber())},"Unit, number, Unit":e.referToSelf(d=>function(m,p,g){var v=m.toNumeric(g);return g.multiply(d(v,p))}),"Unit, BigNumber, Unit":e.referToSelf(d=>(m,p,g)=>d(m,p.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(d=>(m,p,g)=>dt(m,v=>d(v,p,g),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(d=>(m,p)=>d(m,0,p)),"Array | Matrix":e.referToSelf(d=>m=>dt(m,d,!0)),"Array, number | BigNumber":e.referToSelf(d=>(m,p)=>dt(m,g=>d(g,p),!0)),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>l(m,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(m,p)=>c(m,p,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(m,p)=>c(i(p),m,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(m,p)=>s(m,0)?a(p.size(),p.storage()):p.storage()==="dense"?c(p,m,d,!0):u(p,m,d,!0))})}),Tfe="matAlgo02xDS0",Dfe=["typed","equalScalar"],As=H(Tfe,Dfe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a,o){var l=i._data,u=i._size,c=i._datatype||i.getDataType(),f=s._values,h=s._index,d=s._ptr,m=s._size,p=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(u.length!==m.length)throw new gt(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var g=u[0],v=u[1],b,y=r,x=0,w=a;typeof c=="string"&&c===p&&c!=="mixed"&&(b=c,y=e.find(r,[b,b]),x=e.convert(0,b),w=e.find(a,[b,b]));for(var E=[],S=[],A=[],N=0;N<v;N++){A[N]=S.length;for(var D=d[N],C=d[N+1],M=D;M<C;M++){var I=h[M],z=o?w(f[M],l[I][N]):w(l[I][N],f[M]);y(z,x)||(S.push(I),E.push(z))}}return A[v]=S.length,s.createSparseMatrix({values:E,index:S,ptr:A,size:[g,v],datatype:c===i._datatype&&p===s._datatype?b:void 0})}}),Cfe="matAlgo03xDSf",Mfe=["typed"],Kn=H(Cfe,Mfe,t=>{var{typed:e}=t;return function(n,i,s,a){var o=n._data,l=n._size,u=n._datatype||n.getDataType(),c=i._values,f=i._index,h=i._ptr,d=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==d.length)throw new gt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=l[0],g=l[1],v,b=0,y=s;typeof u=="string"&&u===m&&u!=="mixed"&&(v=u,b=e.convert(0,v),y=e.find(s,[v,v]));for(var x=[],w=0;w<p;w++)x[w]=[];for(var E=[],S=[],A=0;A<g;A++){for(var N=A+1,D=h[A],C=h[A+1],M=D;M<C;M++){var I=f[M];E[I]=a?y(c[M],o[I][A]):y(o[I][A],c[M]),S[I]=N}for(var z=0;z<p;z++)S[z]===N?x[z][A]=E[z]:x[z][A]=a?y(b,o[z][A]):y(o[z][A],b)}return n.createDenseMatrix({data:x,size:[p,g],datatype:u===n._datatype&&m===i._datatype?v:void 0})}}),Ife="matAlgo05xSfSf",Pfe=["typed","equalScalar"],R1=H(Ife,Pfe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=s._values,d=s._index,m=s._ptr,p=s._size,g=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==p.length)throw new gt(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var v=c[0],b=c[1],y,x=r,w=0,E=a;typeof f=="string"&&f===g&&f!=="mixed"&&(y=f,x=e.find(r,[y,y]),w=e.convert(0,y),E=e.find(a,[y,y]));var S=o&&h?[]:void 0,A=[],N=[],D=S?[]:void 0,C=S?[]:void 0,M=[],I=[],z,V,k,L;for(V=0;V<b;V++){N[V]=A.length;var B=V+1;for(k=u[V],L=u[V+1];k<L;k++)z=l[k],A.push(z),M[z]=B,D&&(D[z]=o[k]);for(k=m[V],L=m[V+1];k<L;k++)z=d[k],M[z]!==B&&A.push(z),I[z]=B,C&&(C[z]=h[k]);if(S)for(k=N[V];k<A.length;){z=A[k];var $=M[z],Y=I[z];if($===B||Y===B){var ie=$===B?D[z]:w,O=Y===B?C[z]:w,q=E(ie,O);x(q,w)?A.splice(k,1):(S.push(q),k++)}}}return N[b]=A.length,i.createSparseMatrix({values:S,index:A,ptr:N,size:[v,b],datatype:f===i._datatype&&g===s._datatype?y:void 0})}}),kfe="matAlgo13xDD",Rfe=["typed"],Ofe=H(kfe,Rfe,t=>{var{typed:e}=t;return function(i,s,a){var o=i._data,l=i._size,u=i._datatype,c=s._data,f=s._size,h=s._datatype,d=[];if(l.length!==f.length)throw new gt(l.length,f.length);for(var m=0;m<l.length;m++){if(l[m]!==f[m])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");d[m]=l[m]}var p,g=a;typeof u=="string"&&u===h&&(p=u,g=e.find(a,[p,p]));var v=d.length>0?r(g,0,d,d[0],o,c):[];return i.createDenseMatrix({data:v,size:d,datatype:p})};function r(n,i,s,a,o,l){var u=[];if(i===s.length-1)for(var c=0;c<a;c++)u[c]=n(o[c],l[c]);else for(var f=0;f<a;f++)u[f]=r(n,i+1,s,s[i+1],o[f],l[f]);return u}});function Wr(t,e){if(Ka(t.size(),e.size()))return[t,e];var r=WA(t.size(),e.size());return[t,e].map(n=>Ffe(n,r))}function Ffe(t,e){return Ka(t.size(),e)?t:t.create(au(t.valueOf(),e),t.datatype())}var Bfe="matrixAlgorithmSuite",Lfe=["typed","matrix"],Qt=H(Bfe,Lfe,t=>{var{typed:e,matrix:r}=t,n=Ofe({typed:e}),i=Ss({typed:e});return function(a){var o=a.elop,l=a.SD||a.DS,u;o?(u={"DenseMatrix, DenseMatrix":(d,m)=>n(...Wr(d,m),o),"Array, Array":(d,m)=>n(...Wr(r(d),r(m)),o).valueOf(),"Array, DenseMatrix":(d,m)=>n(...Wr(r(d),m),o),"DenseMatrix, Array":(d,m)=>n(...Wr(d,r(m)),o)},a.SS&&(u["SparseMatrix, SparseMatrix"]=(d,m)=>a.SS(...Wr(d,m),o,!1)),a.DS&&(u["DenseMatrix, SparseMatrix"]=(d,m)=>a.DS(...Wr(d,m),o,!1),u["Array, SparseMatrix"]=(d,m)=>a.DS(...Wr(r(d),m),o,!1)),l&&(u["SparseMatrix, DenseMatrix"]=(d,m)=>l(...Wr(m,d),o,!0),u["SparseMatrix, Array"]=(d,m)=>l(...Wr(r(m),d),o,!0))):(u={"DenseMatrix, DenseMatrix":e.referToSelf(d=>(m,p)=>n(...Wr(m,p),d)),"Array, Array":e.referToSelf(d=>(m,p)=>n(...Wr(r(m),r(p)),d).valueOf()),"Array, DenseMatrix":e.referToSelf(d=>(m,p)=>n(...Wr(r(m),p),d)),"DenseMatrix, Array":e.referToSelf(d=>(m,p)=>n(...Wr(m,r(p)),d))},a.SS&&(u["SparseMatrix, SparseMatrix"]=e.referToSelf(d=>(m,p)=>a.SS(...Wr(m,p),d,!1))),a.DS&&(u["DenseMatrix, SparseMatrix"]=e.referToSelf(d=>(m,p)=>a.DS(...Wr(m,p),d,!1)),u["Array, SparseMatrix"]=e.referToSelf(d=>(m,p)=>a.DS(...Wr(r(m),p),d,!1))),l&&(u["SparseMatrix, DenseMatrix"]=e.referToSelf(d=>(m,p)=>l(...Wr(p,m),d,!0)),u["SparseMatrix, Array"]=e.referToSelf(d=>(m,p)=>l(...Wr(r(p),m),d,!0))));var c=a.scalar||"any",f=a.Ds||a.Ss;f&&(o?(u["DenseMatrix,"+c]=(d,m)=>i(d,m,o,!1),u[c+", DenseMatrix"]=(d,m)=>i(m,d,o,!0),u["Array,"+c]=(d,m)=>i(r(d),m,o,!1).valueOf(),u[c+", Array"]=(d,m)=>i(r(m),d,o,!0).valueOf()):(u["DenseMatrix,"+c]=e.referToSelf(d=>(m,p)=>i(m,p,d,!1)),u[c+", DenseMatrix"]=e.referToSelf(d=>(m,p)=>i(p,m,d,!0)),u["Array,"+c]=e.referToSelf(d=>(m,p)=>i(r(m),p,d,!1).valueOf()),u[c+", Array"]=e.referToSelf(d=>(m,p)=>i(r(p),m,d,!0).valueOf())));var h=a.sS!==void 0?a.sS:a.Ss;return o?(a.Ss&&(u["SparseMatrix,"+c]=(d,m)=>a.Ss(d,m,o,!1)),h&&(u[c+", SparseMatrix"]=(d,m)=>h(m,d,o,!0))):(a.Ss&&(u["SparseMatrix,"+c]=e.referToSelf(d=>(m,p)=>a.Ss(m,p,d,!1))),h&&(u[c+", SparseMatrix"]=e.referToSelf(d=>(m,p)=>h(p,m,d,!0)))),o&&o.signatures&&M8(u,o.signatures),u}}),tP="mod",Vfe=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],YV=H(tP,Vfe,t=>{var{typed:e,config:r,round:n,matrix:i,equalScalar:s,zeros:a,DenseMatrix:o,concat:l}=t,u=KV({typed:e,config:r,round:n,matrix:i,equalScalar:s,zeros:a,DenseMatrix:o}),c=As({typed:e,equalScalar:s}),f=Kn({typed:e}),h=R1({typed:e,equalScalar:s}),d=pn({typed:e,equalScalar:s}),m=Ur({typed:e,DenseMatrix:o}),p=Qt({typed:e,matrix:i,concat:l});return e(tP,{"number, number":g,"BigNumber, BigNumber":function(b,y){return y.isZero()?b:b.sub(y.mul(u(b.div(y))))},"bigint, bigint":function(b,y){if(y===0n)return b;if(b<0){var x=b%y;return x===0n?x:x+y}return b%y},"Fraction, Fraction":function(b,y){return y.equals(0)?b:b.sub(y.mul(u(b.div(y))))}},p({SS:h,DS:f,SD:c,Ss:d,sS:m}));function g(v,b){return b===0?v:v-b*u(v/b)}}),$fe="matAlgo01xDSid",zfe=["typed"],bl=H($fe,zfe,t=>{var{typed:e}=t;return function(n,i,s,a){var o=n._data,l=n._size,u=n._datatype||n.getDataType(),c=i._values,f=i._index,h=i._ptr,d=i._size,m=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(l.length!==d.length)throw new gt(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=l[0],g=l[1],v=typeof u=="string"&&u!=="mixed"&&u===m?u:void 0,b=v?e.find(s,[v,v]):s,y,x,w=[];for(y=0;y<p;y++)w[y]=[];var E=[],S=[];for(x=0;x<g;x++){for(var A=x+1,N=h[x],D=h[x+1],C=N;C<D;C++)y=f[C],E[y]=a?b(c[C],o[y][x]):b(o[y][x],c[C]),S[y]=A;for(y=0;y<p;y++)S[y]===A?w[y][x]=E[y]:w[y][x]=o[y][x]}return n.createDenseMatrix({data:w,size:[p,g],datatype:u===n._datatype&&m===i._datatype?v:void 0})}}),jfe="matAlgo04xSidSid",Ufe=["typed","equalScalar"],QA=H(jfe,Ufe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=s._values,d=s._index,m=s._ptr,p=s._size,g=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==p.length)throw new gt(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var v=c[0],b=c[1],y,x=r,w=0,E=a;typeof f=="string"&&f===g&&f!=="mixed"&&(y=f,x=e.find(r,[y,y]),w=e.convert(0,y),E=e.find(a,[y,y]));var S=o&&h?[]:void 0,A=[],N=[],D=o&&h?[]:void 0,C=o&&h?[]:void 0,M=[],I=[],z,V,k,L,B;for(V=0;V<b;V++){N[V]=A.length;var $=V+1;for(L=u[V],B=u[V+1],k=L;k<B;k++)z=l[k],A.push(z),M[z]=$,D&&(D[z]=o[k]);for(L=m[V],B=m[V+1],k=L;k<B;k++)if(z=d[k],M[z]===$){if(D){var Y=E(D[z],h[k]);x(Y,w)?M[z]=null:D[z]=Y}}else A.push(z),I[z]=$,C&&(C[z]=h[k]);if(D&&C)for(k=N[V];k<A.length;)z=A[k],M[z]===$?(S[k]=D[z],k++):I[z]===$?(S[k]=C[z],k++):A.splice(k,1)}return N[b]=A.length,i.createSparseMatrix({values:S,index:A,ptr:N,size:[v,b],datatype:f===i._datatype&&g===s._datatype?y:void 0})}}),qfe="matAlgo10xSids",Hfe=["typed","DenseMatrix"],ju=H(qfe,Hfe,t=>{var{typed:e,DenseMatrix:r}=t;return function(i,s,a,o){var l=i._values,u=i._index,c=i._ptr,f=i._size,h=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var d=f[0],m=f[1],p,g=a;typeof h=="string"&&(p=h,s=e.convert(s,p),g=e.find(a,[p,p]));for(var v=[],b=[],y=[],x=0;x<m;x++){for(var w=x+1,E=c[x],S=c[x+1],A=E;A<S;A++){var N=u[A];b[N]=l[A],y[N]=w}for(var D=0;D<d;D++)x===0&&(v[D]=[]),y[D]===w?v[D][x]=o?g(s,b[D]):g(b[D],s):v[D][x]=s}return new r({data:v,size:[d,m],datatype:p})}});function Uu(t,e,r,n){if(!(this instanceof Uu))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=r,this.max=n,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+r+(n!=null?"-"+n:"")+" expected)",this.stack=new Error().stack}Uu.prototype=new Error;Uu.prototype.constructor=Error;Uu.prototype.name="ArgumentsError";Uu.prototype.isArgumentsError=!0;var rP="gcd",Wfe=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],yb="number | BigNumber | Fraction | Matrix | Array",Gfe="".concat(yb,", ").concat(yb,", ...").concat(yb);function nP(t){return!t.some(e=>Array.isArray(e))}var Kfe=H(rP,Wfe,t=>{var{typed:e,matrix:r,config:n,round:i,equalScalar:s,zeros:a,BigNumber:o,DenseMatrix:l,concat:u}=t,c=YV({typed:e,config:n,round:i,matrix:r,equalScalar:s,zeros:a,DenseMatrix:l,concat:u}),f=bl({typed:e}),h=QA({typed:e,equalScalar:s}),d=ju({typed:e,DenseMatrix:l}),m=Qt({typed:e,matrix:r,concat:u});return e(rP,{"number, number":p,"BigNumber, BigNumber":g,"Fraction, Fraction":(v,b)=>v.gcd(b)},m({SS:h,DS:f,Ss:d}),{[Gfe]:e.referToSelf(v=>(b,y,x)=>{for(var w=v(b,y),E=0;E<x.length;E++)w=v(w,x[E]);return w}),Array:e.referToSelf(v=>b=>{if(b.length===1&&Array.isArray(b[0])&&nP(b[0]))return v(...b[0]);if(nP(b))return v(...b);throw new Uu("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(v=>b=>v(b.toArray()))});function p(v,b){if(!We(v)||!We(b))throw new Error("Parameters in function gcd must be integer numbers");for(var y;b!==0;)y=c(v,b),v=b,b=y;return v<0?-v:v}function g(v,b){if(!v.isInt()||!b.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new o(0);!b.isZero();){var x=c(v,b);v=b,b=x}return v.lt(y)?v.neg():v}}),Yfe="matAlgo06xS0S0",Qfe=["typed","equalScalar"],O1=H(Yfe,Qfe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a){var o=i._values,l=i._size,u=i._datatype||i._data===void 0?i._datatype:i.getDataType(),c=s._values,f=s._size,h=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(l.length!==f.length)throw new gt(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var d=l[0],m=l[1],p,g=r,v=0,b=a;typeof u=="string"&&u===h&&u!=="mixed"&&(p=u,g=e.find(r,[p,p]),v=e.convert(0,p),b=e.find(a,[p,p]));for(var y=o&&c?[]:void 0,x=[],w=[],E=y?[]:void 0,S=[],A=[],N=0;N<m;N++){w[N]=x.length;var D=N+1;if(NI(i,N,S,E,A,D,x,b),NI(s,N,S,E,A,D,x,b),E)for(var C=w[N];C<x.length;){var M=x[C];if(A[M]===D){var I=E[M];g(I,v)?x.splice(C,1):(y.push(I),C++)}else x.splice(C,1)}else for(var z=w[N];z<x.length;){var V=x[z];A[V]!==D?x.splice(z,1):z++}}return w[m]=x.length,i.createSparseMatrix({values:y,index:x,ptr:w,size:[d,m],datatype:u===i._datatype&&h===s._datatype?p:void 0})}}),iP="lcm",Xfe=["typed","matrix","equalScalar","concat"],Jfe=H(iP,Xfe,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,s=As({typed:e,equalScalar:n}),a=O1({typed:e,equalScalar:n}),o=pn({typed:e,equalScalar:n}),l=Qt({typed:e,matrix:r,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(h=>(d,m,p)=>{for(var g=h(d,m),v=0;v<p.length;v++)g=h(g,p[v]);return g}),e(iP,{"number, number":mV,"BigNumber, BigNumber":f,"Fraction, Fraction":(h,d)=>h.lcm(d)},l({SS:a,DS:s,Ss:o}),c);function f(h,d){if(!h.isInt()||!d.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(h.isZero())return h;if(d.isZero())return d;for(var m=h.times(d);!d.isZero();){var p=d;d=h.mod(p),h=p}return m.div(h).abs()}});function XA(t,e,r,n){return function(i){if(i>0||r.predictable){if(i<=0)return NaN;var s=i.toString(16),a=s.substring(0,15);return t*(s.length-a.length)+e(+("0x"+a))}return n(i.toNumber())}}var sP="log10",Zfe=["typed","config","Complex"],ehe=q0(16),the=H(sP,Zfe,t=>{var{typed:e,config:r,Complex:n}=t;function i(a){return a.log().div(Math.LN10)}function s(a){return i(new n(a,0))}return e(sP,{number:function(o){return o>=0||r.predictable?q0(o):s(o)},bigint:XA(ehe,q0,r,s),Complex:i,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log():s(o.toNumber())},"Array | Matrix":e.referToSelf(a=>o=>dt(o,a))})}),aP="log2",rhe=["typed","config","Complex"],nhe=H(aP,rhe,t=>{var{typed:e,config:r,Complex:n}=t;function i(a){return s(new n(a,0))}return e(aP,{number:function(o){return o>=0||r.predictable?R_(o):i(o)},bigint:XA(4,R_,r,i),Complex:s,BigNumber:function(o){return!o.isNegative()||r.predictable?o.log(2):i(o.toNumber())},"Array | Matrix":e.referToSelf(a=>o=>dt(o,a))});function s(a){var o=Math.sqrt(a.re*a.re+a.im*a.im);return new n(Math.log2?Math.log2(o):Math.log(o)/Math.LN2,Math.atan2(a.im,a.re)/Math.LN2)}}),ihe="multiplyScalar",she=["typed"],ahe=H(ihe,she,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":lV,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"bigint, bigint":function(n,i){return n*i},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),oP="multiply",ohe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],lhe=H(oP,ohe,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:s,dot:a}=t,o=pn({typed:e,equalScalar:s}),l=Ss({typed:e});function u(w,E){switch(w.length){case 1:switch(E.length){case 1:if(w[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;case 2:switch(E.length){case 1:if(w[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+E[0]+")");break;case 2:if(w[1]!==E[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+E[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+E.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}function c(w,E,S){if(S===0)throw new Error("Cannot multiply two empty vectors");return a(w,E)}function f(w,E){if(E.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return h(w,E)}function h(w,E){var S=w._data,A=w._size,N=w._datatype||w.getDataType(),D=E._data,C=E._size,M=E._datatype||E.getDataType(),I=A[0],z=C[1],V,k=n,L=i;N&&M&&N===M&&typeof N=="string"&&N!=="mixed"&&(V=N,k=e.find(n,[V,V]),L=e.find(i,[V,V]));for(var B=[],$=0;$<z;$++){for(var Y=L(S[0],D[0][$]),ie=1;ie<I;ie++)Y=k(Y,L(S[ie],D[ie][$]));B[$]=Y}return w.createDenseMatrix({data:B,size:[z],datatype:N===w._datatype&&M===E._datatype?V:void 0})}var d=e("_multiplyMatrixVector",{"DenseMatrix, any":p,"SparseMatrix, any":b}),m=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":g,"DenseMatrix, SparseMatrix":v,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":x});function p(w,E){var S=w._data,A=w._size,N=w._datatype||w.getDataType(),D=E._data,C=E._datatype||E.getDataType(),M=A[0],I=A[1],z,V=n,k=i;N&&C&&N===C&&typeof N=="string"&&N!=="mixed"&&(z=N,V=e.find(n,[z,z]),k=e.find(i,[z,z]));for(var L=[],B=0;B<M;B++){for(var $=S[B],Y=k($[0],D[0]),ie=1;ie<I;ie++)Y=V(Y,k($[ie],D[ie]));L[B]=Y}return w.createDenseMatrix({data:L,size:[M],datatype:N===w._datatype&&C===E._datatype?z:void 0})}function g(w,E){var S=w._data,A=w._size,N=w._datatype||w.getDataType(),D=E._data,C=E._size,M=E._datatype||E.getDataType(),I=A[0],z=A[1],V=C[1],k,L=n,B=i;N&&M&&N===M&&typeof N=="string"&&N!=="mixed"&&N!=="mixed"&&(k=N,L=e.find(n,[k,k]),B=e.find(i,[k,k]));for(var $=[],Y=0;Y<I;Y++){var ie=S[Y];$[Y]=[];for(var O=0;O<V;O++){for(var q=B(ie[0],D[0][O]),j=1;j<z;j++)q=L(q,B(ie[j],D[j][O]));$[Y][O]=q}}return w.createDenseMatrix({data:$,size:[I,V],datatype:N===w._datatype&&M===E._datatype?k:void 0})}function v(w,E){var S=w._data,A=w._size,N=w._datatype||w.getDataType(),D=E._values,C=E._index,M=E._ptr,I=E._size,z=E._datatype||E._data===void 0?E._datatype:E.getDataType();if(!D)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=A[0],k=I[1],L,B=n,$=i,Y=s,ie=0;N&&z&&N===z&&typeof N=="string"&&N!=="mixed"&&(L=N,B=e.find(n,[L,L]),$=e.find(i,[L,L]),Y=e.find(s,[L,L]),ie=e.convert(0,L));for(var O=[],q=[],j=[],me=E.createSparseMatrix({values:O,index:q,ptr:j,size:[V,k],datatype:N===w._datatype&&z===E._datatype?L:void 0}),ue=0;ue<k;ue++){j[ue]=q.length;var fe=M[ue],W=M[ue+1];if(W>fe)for(var X=0,ee=0;ee<V;ee++){for(var se=ee+1,oe=void 0,ve=fe;ve<W;ve++){var pe=C[ve];X!==se?(oe=$(S[ee][pe],D[ve]),X=se):oe=B(oe,$(S[ee][pe],D[ve]))}X===se&&!Y(oe,ie)&&(q.push(ee),O.push(oe))}}return j[k]=q.length,me}function b(w,E){var S=w._values,A=w._index,N=w._ptr,D=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!S)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=E._data,M=E._datatype||E.getDataType(),I=w._size[0],z=E._size[0],V=[],k=[],L=[],B,$=n,Y=i,ie=s,O=0;D&&M&&D===M&&typeof D=="string"&&D!=="mixed"&&(B=D,$=e.find(n,[B,B]),Y=e.find(i,[B,B]),ie=e.find(s,[B,B]),O=e.convert(0,B));var q=[],j=[];L[0]=0;for(var me=0;me<z;me++){var ue=C[me];if(!ie(ue,O))for(var fe=N[me],W=N[me+1],X=fe;X<W;X++){var ee=A[X];j[ee]?q[ee]=$(q[ee],Y(ue,S[X])):(j[ee]=!0,k.push(ee),q[ee]=Y(ue,S[X]))}}for(var se=k.length,oe=0;oe<se;oe++){var ve=k[oe];V[oe]=q[ve]}return L[1]=k.length,w.createSparseMatrix({values:V,index:k,ptr:L,size:[I,1],datatype:D===w._datatype&&M===E._datatype?B:void 0})}function y(w,E){var S=w._values,A=w._index,N=w._ptr,D=w._datatype||w._data===void 0?w._datatype:w.getDataType();if(!S)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var C=E._data,M=E._datatype||E.getDataType(),I=w._size[0],z=E._size[0],V=E._size[1],k,L=n,B=i,$=s,Y=0;D&&M&&D===M&&typeof D=="string"&&D!=="mixed"&&(k=D,L=e.find(n,[k,k]),B=e.find(i,[k,k]),$=e.find(s,[k,k]),Y=e.convert(0,k));for(var ie=[],O=[],q=[],j=w.createSparseMatrix({values:ie,index:O,ptr:q,size:[I,V],datatype:D===w._datatype&&M===E._datatype?k:void 0}),me=[],ue=[],fe=0;fe<V;fe++){q[fe]=O.length;for(var W=fe+1,X=0;X<z;X++){var ee=C[X][fe];if(!$(ee,Y))for(var se=N[X],oe=N[X+1],ve=se;ve<oe;ve++){var pe=A[ve];ue[pe]!==W?(ue[pe]=W,O.push(pe),me[pe]=B(ee,S[ve])):me[pe]=L(me[pe],B(ee,S[ve]))}}for(var De=q[fe],Be=O.length,ze=De;ze<Be;ze++){var ke=O[ze];ie[ze]=me[ke]}}return q[V]=O.length,j}function x(w,E){var S=w._values,A=w._index,N=w._ptr,D=w._datatype||w._data===void 0?w._datatype:w.getDataType(),C=E._values,M=E._index,I=E._ptr,z=E._datatype||E._data===void 0?E._datatype:E.getDataType(),V=w._size[0],k=E._size[1],L=S&&C,B,$=n,Y=i;D&&z&&D===z&&typeof D=="string"&&D!=="mixed"&&(B=D,$=e.find(n,[B,B]),Y=e.find(i,[B,B]));for(var ie=L?[]:void 0,O=[],q=[],j=w.createSparseMatrix({values:ie,index:O,ptr:q,size:[V,k],datatype:D===w._datatype&&z===E._datatype?B:void 0}),me=L?[]:void 0,ue=[],fe,W,X,ee,se,oe,ve,pe,De=0;De<k;De++){q[De]=O.length;var Be=De+1;for(se=I[De],oe=I[De+1],ee=se;ee<oe;ee++)if(pe=M[ee],L)for(W=N[pe],X=N[pe+1],fe=W;fe<X;fe++)ve=A[fe],ue[ve]!==Be?(ue[ve]=Be,O.push(ve),me[ve]=Y(C[ee],S[fe])):me[ve]=$(me[ve],Y(C[ee],S[fe]));else for(W=N[pe],X=N[pe+1],fe=W;fe<X;fe++)ve=A[fe],ue[ve]!==Be&&(ue[ve]=Be,O.push(ve));if(L)for(var ze=q[De],ke=O.length,He=ze;He<ke;He++){var K=O[He];ie[He]=me[K]}}return q[k]=O.length,j}return e(oP,i,{"Array, Array":e.referTo("Matrix, Matrix",w=>(E,S)=>{u(st(E),st(S));var A=w(r(E),r(S));return Je(A)?A.valueOf():A}),"Matrix, Matrix":function(E,S){var A=E.size(),N=S.size();return u(A,N),A.length===1?N.length===1?c(E,S,A[0]):f(E,S):N.length===1?d(E,S):m(E,S)},"Matrix, Array":e.referTo("Matrix,Matrix",w=>(E,S)=>w(E,r(S))),"Array, Matrix":e.referToSelf(w=>(E,S)=>w(r(E,S.storage()),S)),"SparseMatrix, any":function(E,S){return o(E,S,i,!1)},"DenseMatrix, any":function(E,S){return l(E,S,i,!1)},"any, SparseMatrix":function(E,S){return o(S,E,i,!0)},"any, DenseMatrix":function(E,S){return l(S,E,i,!0)},"Array, any":function(E,S){return l(r(E),S,i,!1).valueOf()},"any, Array":function(E,S){return l(r(S),E,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(w=>(E,S,A)=>{for(var N=w(E,S),D=0;D<A.length;D++)N=w(N,A[D]);return N})})}),lP="nthRoot",uhe=["typed","matrix","equalScalar","BigNumber","concat"],che=H(lP,uhe,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,concat:s}=t,a=bl({typed:e}),o=As({typed:e,equalScalar:n}),l=O1({typed:e,equalScalar:n}),u=pn({typed:e,equalScalar:n}),c=Qt({typed:e,matrix:r,concat:s});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(lP,{number:CI,"number, number":CI,BigNumber:d=>h(d,new i(2)),"BigNumber, BigNumber":h,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",d=>m=>d(r(m),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",d=>m=>d(m,2)),SparseMatrix:e.referTo("SparseMatrix,number",d=>m=>d(m,2)),"SparseMatrix, SparseMatrix":e.referToSelf(d=>(m,p)=>{if(p.density()===1)return l(m,p,d);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(d=>(m,p)=>{if(p.density()===1)return a(m,p,d,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",d=>(m,p)=>d(r(m),p)),"number | BigNumber, SparseMatrix":e.referToSelf(d=>(m,p)=>{if(p.density()===1)return u(p,m,d,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:o,Ss:u,sS:!1}));function h(d,m){var p=i.precision,g=i.clone({precision:p+2}),v=new i(0),b=new g(1),y=m.isNegative();if(y&&(m=m.neg()),m.isZero())throw new Error("Root must be non-zero");if(d.isNegative()&&!m.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(d.isZero())return y?new g(1/0):0;if(!d.isFinite())return y?v:d;var x=d.abs().pow(b.div(m));return x=d.isNeg()?x.neg():x,new i((y?b.div(x):x).toPrecision(p))}}),uP="sign",fhe=["typed","BigNumber","Fraction","complex"],hhe=H(uP,fhe,t=>{var{typed:e,BigNumber:r,complex:n,Fraction:i}=t;return e(uP,{number:O_,Complex:function(a){return a.im===0?n(O_(a.re)):a.sign()},BigNumber:function(a){return new r(a.cmp(0))},bigint:function(a){return a>0n?1n:a<0n?-1n:0n},Fraction:function(a){return a.n===0n?new i(0):new i(a.s)},"Array | Matrix":e.referToSelf(s=>a=>dt(a,s,!0)),Unit:e.referToSelf(s=>a=>{if(!a._isDerived()&&a.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(s,a.valueType())(a.value)})})}),dhe="sqrt",mhe=["config","typed","Complex"],phe=H(dhe,mhe,t=>{var{config:e,typed:r,Complex:n}=t;return r("sqrt",{number:i,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||e.predictable?a.sqrt():i(a.toNumber())},Unit:function(a){return a.pow(.5)}});function i(s){return isNaN(s)?NaN:s>=0||e.predictable?Math.sqrt(s):new n(s,0).sqrt()}}),cP="square",ghe=["typed"],vhe=H(cP,ghe,t=>{var{typed:e}=t;return e(cP,{number:pV,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),fP="subtract",yhe=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],xhe=H(fP,yhe,t=>{var{typed:e,matrix:r,equalScalar:n,subtractScalar:i,unaryMinus:s,DenseMatrix:a,concat:o}=t,l=bl({typed:e}),u=Kn({typed:e}),c=R1({typed:e,equalScalar:n}),f=ju({typed:e,DenseMatrix:a}),h=Ur({typed:e,DenseMatrix:a}),d=Qt({typed:e,matrix:r,concat:o});return e(fP,{"any, any":i},d({elop:i,SS:c,DS:l,SD:u,Ss:h,sS:f}))}),hP="xgcd",bhe=["typed","config","matrix","BigNumber"],whe=H(hP,bhe,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(hP,{"number, number":function(o,l){var u=gV(o,l);return r.matrix==="Array"?u:n(u)},"BigNumber, BigNumber":s});function s(a,o){var l,u,c,f=new i(0),h=new i(1),d=f,m=h,p=h,g=f;if(!a.isInt()||!o.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!o.isZero();)u=a.div(o).floor(),c=a.mod(o),l=d,d=m.minus(u.times(d)),m=l,l=p,p=g.minus(u.times(p)),g=l,a=o,o=c;var v;return a.lt(f)?v=[a.neg(),m.neg(),g.neg()]:v=[a,a.isZero()?0:m,g],r.matrix==="Array"?v:n(v)}}),dP="invmod",_he=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],Ehe=H(dP,_he,t=>{var{typed:e,config:r,BigNumber:n,xgcd:i,equal:s,smaller:a,mod:o,add:l,isInteger:u}=t;return e(dP,{"number, number":c,"BigNumber, BigNumber":c});function c(f,h){if(!u(f)||!u(h))throw new Error("Parameters in function invmod must be integer numbers");if(f=o(f,h),s(h,0))throw new Error("Divisor must be non zero");var d=i(f,h);d=d.valueOf();var[m,p]=d;return s(m,n(1))?(p=o(p,h),a(p,n(0))&&(p=l(p,h)),p):NaN}}),She="matAlgo09xS0Sf",Ahe=["typed","equalScalar"],QV=H(She,Ahe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=s._values,d=s._index,m=s._ptr,p=s._size,g=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==p.length)throw new gt(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");var v=c[0],b=c[1],y,x=r,w=0,E=a;typeof f=="string"&&f===g&&f!=="mixed"&&(y=f,x=e.find(r,[y,y]),w=e.convert(0,y),E=e.find(a,[y,y]));var S=o&&h?[]:void 0,A=[],N=[],D=S?[]:void 0,C=[],M,I,z,V,k;for(I=0;I<b;I++){N[I]=A.length;var L=I+1;if(D)for(V=m[I],k=m[I+1],z=V;z<k;z++)M=d[z],C[M]=L,D[M]=h[z];for(V=u[I],k=u[I+1],z=V;z<k;z++)if(M=l[z],D){var B=C[M]===L?D[M]:w,$=E(o[z],B);x($,w)||(A.push(M),S.push($))}else A.push(M)}return N[b]=A.length,i.createSparseMatrix({values:S,index:A,ptr:N,size:[v,b],datatype:f===i._datatype&&g===s._datatype?y:void 0})}}),mP="dotMultiply",Nhe=["typed","matrix","equalScalar","multiplyScalar","concat"],The=H(mP,Nhe,t=>{var{typed:e,matrix:r,equalScalar:n,multiplyScalar:i,concat:s}=t,a=As({typed:e,equalScalar:n}),o=QV({typed:e,equalScalar:n}),l=pn({typed:e,equalScalar:n}),u=Qt({typed:e,matrix:r,concat:s});return e(mP,u({elop:i,SS:o,DS:a,Ss:l}))});function Dhe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new r(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t}return JA(t,e,function(n,i){return n&i})}function dm(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,r=e.precision;e.config({precision:1e9});var n=t.plus(new e(1));return n.s=-n.s||null,e.config({precision:r}),n}function Che(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);var n=new r(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:JA(t,e,function(i,s){return i|s})}function JA(t,e,r){var n=t.constructor,i,s,a=+(t.s<0),o=+(e.s<0);if(a){i=lg(dm(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=lg(t);if(o){s=lg(dm(e));for(var u=0;u<s.length;++u)s[u]^=1}else s=lg(e);var c,f,h;i.length<=s.length?(c=i,f=s,h=a):(c=s,f=i,h=o);var d=c.length,m=f.length,p=r(a,o)^1,g=new n(p^1),v=new n(1),b=new n(2),y=n.precision;for(n.config({precision:1e9});d>0;)r(c[--d],f[--m])===p&&(g=g.plus(v)),v=v.times(b);for(;m>0;)r(h,f[--m])===p&&(g=g.plus(v)),v=v.times(b);return n.config({precision:y}),p===0&&(g.s=-g.s),g}function lg(t){for(var e=t.d,r=e[0]+"",n=1;n<e.length;++n){for(var i=e[n]+"",s=7-i.length;s--;)i="0"+i;r+=i}for(var a=r.length;r.charAt(a)==="0";)a--;var o=t.e,l=r.slice(0,a+1||1),u=l.length;if(o>0)if(++o>u)for(o-=u;o--;)l+="0";else o<u&&(l=l.slice(0,o)+"."+l.slice(o));for(var c=[0],f=0;f<l.length;){for(var h=c.length;h--;)c[h]*=10;c[0]+=parseInt(l.charAt(f++));for(var d=0;d<c.length;++d)c[d]>1&&((c[d+1]===null||c[d+1]===void 0)&&(c[d+1]=0),c[d+1]+=c[d]>>1,c[d]&=1)}return c.reverse()}function Mhe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var r=t.constructor;if(t.isNaN()||e.isNaN())return new r(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new r(0);var n=new r(-1);return t.eq(n)?dm(e):e.eq(n)?dm(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?n:new r(t.isNegative()===e.isNegative()?1/0:-1/0):JA(t,e,function(i,s){return i^s})}function Ihe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new r(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new r(2).pow(e))}function Phe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var r=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new r(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new r(2).pow(e)).floor():t.isNegative()?new r(-1):t.isFinite()?new r(0):new r(NaN)}var pP="bitAnd",khe=["typed","matrix","equalScalar","concat"],XV=H(pP,khe,t=>{var{typed:e,matrix:r,equalScalar:n,concat:i}=t,s=As({typed:e,equalScalar:n}),a=O1({typed:e,equalScalar:n}),o=pn({typed:e,equalScalar:n}),l=Qt({typed:e,matrix:r,concat:i});return e(pP,{"number, number":yV,"BigNumber, BigNumber":Dhe,"bigint, bigint":(u,c)=>u&c},l({SS:a,DS:s,Ss:o}))}),gP="bitNot",Rhe=["typed"],Ohe=H(gP,Rhe,t=>{var{typed:e}=t;return e(gP,{number:xV,BigNumber:dm,bigint:r=>~r,"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),vP="bitOr",Fhe=["typed","matrix","equalScalar","DenseMatrix","concat"],JV=H(vP,Fhe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s}=t,a=bl({typed:e}),o=QA({typed:e,equalScalar:n}),l=ju({typed:e,DenseMatrix:i}),u=Qt({typed:e,matrix:r,concat:s});return e(vP,{"number, number":bV,"BigNumber, BigNumber":Che,"bigint, bigint":(c,f)=>c|f},u({SS:o,DS:a,Ss:l}))}),Bhe="matAlgo07xSSf",Lhe=["typed","SparseMatrix"],na=H(Bhe,Lhe,t=>{var{typed:e,SparseMatrix:r}=t;return function(s,a,o){var l=s._size,u=s._datatype||s._data===void 0?s._datatype:s.getDataType(),c=a._size,f=a._datatype||a._data===void 0?a._datatype:a.getDataType();if(l.length!==c.length)throw new gt(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var h=l[0],d=l[1],m,p=0,g=o;typeof u=="string"&&u===f&&u!=="mixed"&&(m=u,p=e.convert(0,m),g=e.find(o,[m,m]));for(var v=[],b=[],y=new Array(d+1).fill(0),x=[],w=[],E=[],S=[],A=0;A<d;A++){var N=A+1,D=0;n(s,A,E,x,N),n(a,A,S,w,N);for(var C=0;C<h;C++){var M=E[C]===N?x[C]:p,I=S[C]===N?w[C]:p,z=g(M,I);z!==0&&z!==!1&&(b.push(C),v.push(z),D++)}y[A+1]=y[A]+D}return new r({values:v,index:b,ptr:y,size:[h,d],datatype:u===s._datatype&&f===a._datatype?m:void 0})};function n(i,s,a,o,l){for(var u=i._values,c=i._index,f=i._ptr,h=f[s],d=f[s+1];h<d;h++){var m=c[h];a[m]=l,o[m]=u[h]}}}),yP="bitXor",Vhe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],$he=H(yP,Vhe,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:s}=t,a=Kn({typed:e}),o=na({typed:e,SparseMatrix:s}),l=Ur({typed:e,DenseMatrix:n}),u=Qt({typed:e,matrix:r,concat:i});return e(yP,{"number, number":wV,"BigNumber, BigNumber":Mhe,"bigint, bigint":(c,f)=>c^f},u({SS:o,DS:a,Ss:l}))}),xP="arg",zhe=["typed"],jhe=H(xP,zhe,t=>{var{typed:e}=t;return e(xP,{number:function(n){return Math.atan2(0,n)},BigNumber:function(n){return n.constructor.atan2(0,n)},Complex:function(n){return n.arg()},"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),bP="conj",Uhe=["typed"],qhe=H(bP,Uhe,t=>{var{typed:e}=t;return e(bP,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),Unit:e.referToSelf(r=>n=>new n.constructor(r(n.toNumeric()),n.formatUnits())),"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),wP="im",Hhe=["typed"],Whe=H(wP,Hhe,t=>{var{typed:e}=t;return e(wP,{number:()=>0,"BigNumber | Fraction":r=>r.mul(0),Complex:r=>r.im,"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),_P="re",Ghe=["typed"],Khe=H(_P,Ghe,t=>{var{typed:e}=t;return e(_P,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.re,"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),EP="not",Yhe=["typed"],Qhe=H(EP,Yhe,t=>{var{typed:e}=t;return e(EP,{"null | undefined":()=>!0,number:NV,Complex:function(n){return n.re===0&&n.im===0},BigNumber:function(n){return n.isZero()||n.isNaN()},bigint:r=>!r,Unit:e.referToSelf(r=>n=>e.find(r,n.valueType())(n.value)),"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),SP="or",Xhe=["typed","matrix","equalScalar","DenseMatrix","concat"],ZV=H(SP,Xhe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s}=t,a=Kn({typed:e}),o=R1({typed:e,equalScalar:n}),l=Ur({typed:e,DenseMatrix:i}),u=Qt({typed:e,matrix:r,concat:s});return e(SP,{"number, number":F_,"Complex, Complex":function(f,h){return f.re!==0||f.im!==0||h.re!==0||h.im!==0},"BigNumber, BigNumber":function(f,h){return!f.isZero()&&!f.isNaN()||!h.isZero()&&!h.isNaN()},"bigint, bigint":F_,"Unit, Unit":e.referToSelf(c=>(f,h)=>c(f.value||0,h.value||0))},u({SS:o,DS:a,Ss:l}))}),AP="xor",Jhe=["typed","matrix","DenseMatrix","concat","SparseMatrix"],Zhe=H(AP,Jhe,t=>{var{typed:e,matrix:r,DenseMatrix:n,concat:i,SparseMatrix:s}=t,a=Kn({typed:e}),o=na({typed:e,SparseMatrix:s}),l=Ur({typed:e,DenseMatrix:n}),u=Qt({typed:e,matrix:r,concat:i});return e(AP,{"number, number":B_,"Complex, Complex":function(f,h){return(f.re!==0||f.im!==0)!=(h.re!==0||h.im!==0)},"bigint, bigint":B_,"BigNumber, BigNumber":function(f,h){return(!f.isZero()&&!f.isNaN())!=(!h.isZero()&&!h.isNaN())},"Unit, Unit":e.referToSelf(c=>(f,h)=>c(f.value||0,h.value||0))},u({SS:o,DS:a,Ss:l}))}),NP="concat",ede=["typed","matrix","isInteger"],e$=H(NP,ede,t=>{var{typed:e,matrix:r,isInteger:n}=t;return e(NP,{"...Array | Matrix | number | BigNumber":function(s){var a,o=s.length,l=-1,u,c=!1,f=[];for(a=0;a<o;a++){var h=s[a];if(Je(h)&&(c=!0),ft(h)||ht(h)){if(a!==o-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=h.valueOf(),!n(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>u)throw new _s(l,u+1)}else{var d=at(h).valueOf(),m=st(d);if(f[a]=d,u=l,l=m.length-1,a>0&&l!==u)throw new gt(u+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var p=f.shift();f.length;)p=tV(p,f.shift(),l);return c?r(p):p},"...string":function(s){return s.join("")}})}),TP="column",tde=["typed","Index","matrix","range"],t$=H(TP,tde,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(TP,{"Matrix, number":s,"Array, number":function(o,l){return s(n(at(o)),l).valueOf()}});function s(a,o){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Yt(o,a.size()[1]);var l=i(0,a.size()[0]),u=new r(l,o),c=a.subset(u);return Je(c)?c:n([[c]])}}),DP="count",rde=["typed","size","prod"],nde=H(DP,rde,t=>{var{typed:e,size:r,prod:n}=t;return e(DP,{string:function(s){return s.length},"Matrix | Array":function(s){return n(r(s))}})}),CP="cross",ide=["typed","matrix","subtract","multiply"],sde=H(CP,ide,t=>{var{typed:e,matrix:r,subtract:n,multiply:i}=t;return e(CP,{"Matrix, Matrix":function(o,l){return r(s(o.toArray(),l.toArray()))},"Matrix, Array":function(o,l){return r(s(o.toArray(),l))},"Array, Matrix":function(o,l){return r(s(o,l.toArray()))},"Array, Array":s});function s(a,o){var l=Math.max(st(a).length,st(o).length);a=z0(a),o=z0(o);var u=st(a),c=st(o);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var f=[n(i(a[1],o[2]),i(a[2],o[1])),n(i(a[2],o[0]),i(a[0],o[2])),n(i(a[0],o[1]),i(a[1],o[0]))];return l>1?[f]:f}}),MP="diag",ade=["typed","matrix","DenseMatrix","SparseMatrix"],ode=H(MP,ade,t=>{var{typed:e,matrix:r,DenseMatrix:n,SparseMatrix:i}=t;return e(MP,{Array:function(u){return s(u,0,st(u),null)},"Array, number":function(u,c){return s(u,c,st(u),null)},"Array, BigNumber":function(u,c){return s(u,c.toNumber(),st(u),null)},"Array, string":function(u,c){return s(u,0,st(u),c)},"Array, number, string":function(u,c,f){return s(u,c,st(u),f)},"Array, BigNumber, string":function(u,c,f){return s(u,c.toNumber(),st(u),f)},Matrix:function(u){return s(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return s(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return s(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return s(u,0,u.size(),c)},"Matrix, number, string":function(u,c,f){return s(u,c,u.size(),f)},"Matrix, BigNumber, string":function(u,c,f){return s(u,c.toNumber(),u.size(),f)}});function s(l,u,c,f){if(!We(u))throw new TypeError("Second parameter in function diag must be an integer");var h=u>0?u:0,d=u<0?-u:0;switch(c.length){case 1:return a(l,u,f,c[0],d,h);case 2:return o(l,u,f,c,d,h)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function a(l,u,c,f,h,d){var m=[f+h,f+d];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var p=c==="sparse"?i.diagonal(m,l,u):n.diagonal(m,l,u);return c!==null?p:p.valueOf()}function o(l,u,c,f,h,d){if(Je(l)){var m=l.diagonal(u);return c!==null?c!==m.storage()?r(m,c):m:m.valueOf()}for(var p=Math.min(f[0]-h,f[1]-d),g=[],v=0;v<p;v++)g[v]=l[v+h][v+d];return c!==null?r(g):g}}),lde="filter",ude=["typed"],r$=H(lde,ude,t=>{var{typed:e}=t;return e("filter",{"Array, function":IP,"Matrix, function":function(n,i){return n.create(IP(n.valueOf(),i),n.datatype())},"Array, RegExp":_I,"Matrix, RegExp":function(n,i){return n.create(_I(n.valueOf(),i),n.datatype())}})});function IP(t,e){var r=Du(e,t,"filter");return r.isUnary?wI(t,r.fn):wI(t,function(n,i,s){return r.fn(n,[i],s)})}var PP="flatten",cde=["typed"],fde=H(PP,cde,t=>{var{typed:e}=t;return e(PP,{Array:function(n){return Ct(n)},Matrix:function(n){return n.create(Ct(n.valueOf(),!0),n.datatype())}})}),U_="forEach",hde=["typed"],n$=H(U_,hde,t=>{var{typed:e}=t;return e(U_,{"Array, function":dde,"Matrix, function":function(n,i){n.forEach(i)}})});function dde(t,e){var r=Du(e,t,U_);nV(t,r.fn,r.isUnary)}var kP="getMatrixDataType",mde=["typed"],pde=H(kP,mde,t=>{var{typed:e}=t;return e(kP,{Array:function(n){return P1(n,Wt)},Matrix:function(n){return n.getDataType()}})}),RP="identity",gde=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],vde=H(RP,gde,t=>{var{typed:e,config:r,matrix:n,BigNumber:i,DenseMatrix:s,SparseMatrix:a}=t;return e(RP,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(c){return n(c)},"number | BigNumber":function(c){return l(c,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,h){return l(c,f,h)},Array:function(c){return o(c)},"Array, string":function(c,f){return o(c,f)},Matrix:function(c){return o(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return o(c.valueOf(),f)}});function o(u,c){switch(u.length){case 0:return c?n(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,f){var h=ht(u)||ht(c)?i:null;if(ht(u)&&(u=u.toNumber()),ht(c)&&(c=c.toNumber()),!We(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!We(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var d=h?new i(1):1,m=h?new h(0):0,p=[u,c];if(f){if(f==="sparse")return a.diagonal(p,d,0,m);if(f==="dense")return s.diagonal(p,d,0,m);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var g=Af([],p,m),v=u<c?u:c,b=0;b<v;b++)g[b][b]=d;return g}}),OP="kron",yde=["typed","matrix","multiplyScalar"],xde=H(OP,yde,t=>{var{typed:e,matrix:r,multiplyScalar:n}=t;return e(OP,{"Matrix, Matrix":function(a,o){return r(i(a.toArray(),o.toArray()))},"Matrix, Array":function(a,o){return r(i(a.toArray(),o))},"Array, Matrix":function(a,o){return r(i(a,o.toArray()))},"Array, Array":i});function i(s,a){if(st(s).length===1&&(s=[s]),st(a).length===1&&(a=[a]),st(s).length>2||st(a).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(a.length)+")");var o=[],l=[];return s.map(function(u){return a.map(function(c){return l=[],o.push(l),u.map(function(f){return c.map(function(h){return l.push(n(f,h))})})})})&&o}}),xb="map",bde=["typed"],i$=H(xb,bde,t=>{var{typed:e}=t;return e(xb,{"Array, function":n,"Matrix, function":function(s,a){return s.map(a)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(i,s,a)=>r([i,s,...a.slice(0,a.length-1)],a[a.length-1])});function r(i,s){if(typeof s!="function")throw new Error("Last argument must be a callback function");var a=i[0].isMatrix,o=WA(...i.map(x=>x.isMatrix?x.size():st(x))),l=a?(x,w)=>x.get(w):GA,u=a?i.map(x=>x.isMatrix?x.create(au(x.toArray(),o),x.datatype()):i[0].create(au(x.valueOf(),o))):i.map(x=>x.isMatrix?au(x.toArray(),o):au(x,o)),c;if(e.isTypedFunction(s)){var f=o.map(()=>0),h=u.map(x=>l(x,f)),d=y(s,h,f,u);c=v(d)}else{var m=i.length,p=b(s,m);c=v(p)}var g=(x,w)=>c([x,...u.slice(1).map(E=>l(E,w))],w);if(a)return u[0].map(g);return n(u[0],g);function v(x){switch(x){case 0:return w=>s(...w);case 1:return(w,E)=>s(...w,E);case 2:return(w,E)=>s(...w,E,...u)}}function b(x,w){return x.length>w+1?2:x.length===w+1?1:0}function y(x,w,E,S){return e.resolve(x,[...w,E,...S])!==null?2:e.resolve(x,[...w,E])!==null?1:(e.resolve(x,w)!==null,0)}}function n(i,s){var a=Du(s,i,xb);return k_(i,a.fn,a.isUnary)}}),FP="diff",wde=["typed","matrix","subtract","number"],s$=H(FP,wde,t=>{var{typed:e,matrix:r,subtract:n,number:i}=t;return e(FP,{"Array | Matrix":function(c){return Je(c)?r(a(c.toArray())):a(c)},"Array | Matrix, number":function(c,f){if(!We(f))throw new RangeError("Dimension must be a whole number");return Je(c)?r(s(c.toArray(),f)):s(c,f)},"Array, BigNumber":e.referTo("Array,number",u=>(c,f)=>u(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,f)=>u(c,i(f)))});function s(u,c){if(Je(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return u.forEach(h=>{f.push(s(h,c-1))}),f}else{if(c===0)return a(u);throw RangeError("Cannot have negative dimension")}}function a(u){for(var c=[],f=u.length,h=1;h<f;h++)c.push(o(u[h-1],u[h]));return c}function o(u,c){Je(u)&&(u=u.toArray()),Je(c)&&(c=c.toArray());var f=Array.isArray(u),h=Array.isArray(c);if(f&&h)return l(u,c);if(!f&&!h)return n(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],h=u.length,d=0;d<h;d++)f.push(o(u[d],c[d]));return f}}),_de="ones",Ede=["typed","config","matrix","BigNumber"],Sde=H(_de,Ede,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e("ones",{"":function(){return r.matrix==="Array"?s([]):s([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return s(u,f)}else return r.matrix==="Array"?s(u):s(u,"default")},Array:s,Matrix:function(u){var c=u.storage();return s(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return s(u.valueOf(),c)}});function s(l,u){var c=a(l),f=c?new i(1):1;if(o(l),u){var h=n(u);return l.length>0?h.resize(l,f):h}else{var d=[];return l.length>0?Af(d,l,f):d}}function a(l){var u=!1;return l.forEach(function(c,f,h){ht(c)&&(u=!0,h[f]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!We(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function ZA(){throw new Error('No "bignumber" implementation available')}function a$(){throw new Error('No "fraction" implementation available')}function o$(){throw new Error('No "matrix" implementation available')}var BP="range",Ade=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],l$=H(BP,Ade,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:s,smallerEq:a,larger:o,largerEq:l,add:u,isPositive:c}=t;return e(BP,{string:h,"string, boolean":h,number:function(g){throw new TypeError("Too few arguments to function range(): ".concat(g))},boolean:function(g){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(g,", number|bigint|BigNumber|Fraction"))},"number, number":function(g,v){return f(d(g,v,1,!1))},"number, number, number":function(g,v,b){return f(d(g,v,b,!1))},"number, number, boolean":function(g,v,b){return f(d(g,v,1,b))},"number, number, number, boolean":function(g,v,b,y){return f(d(g,v,b,y))},"bigint, bigint|number":function(g,v){return f(d(g,v,1n,!1))},"number, bigint":function(g,v){return f(d(BigInt(g),v,1n,!1))},"bigint, bigint|number, bigint|number":function(g,v,b){return f(d(g,v,BigInt(b),!1))},"number, bigint, bigint|number":function(g,v,b){return f(d(BigInt(g),v,BigInt(b),!1))},"bigint, bigint|number, boolean":function(g,v,b){return f(d(g,v,1n,b))},"number, bigint, boolean":function(g,v,b){return f(d(BigInt(g),v,1n,b))},"bigint, bigint|number, bigint|number, boolean":function(g,v,b,y){return f(d(g,v,BigInt(b),y))},"number, bigint, bigint|number, boolean":function(g,v,b,y){return f(d(BigInt(g),v,BigInt(b),y))},"BigNumber, BigNumber":function(g,v){var b=g.constructor;return f(d(g,v,new b(1),!1))},"BigNumber, BigNumber, BigNumber":function(g,v,b){return f(d(g,v,b,!1))},"BigNumber, BigNumber, boolean":function(g,v,b){var y=g.constructor;return f(d(g,v,new y(1),b))},"BigNumber, BigNumber, BigNumber, boolean":function(g,v,b,y){return f(d(g,v,b,y))},"Fraction, Fraction":function(g,v){return f(d(g,v,1,!1))},"Fraction, Fraction, Fraction":function(g,v,b){return f(d(g,v,b,!1))},"Fraction, Fraction, boolean":function(g,v,b){return f(d(g,v,1,b))},"Fraction, Fraction, Fraction, boolean":function(g,v,b,y){return f(d(g,v,b,y))},"Unit, Unit, Unit":function(g,v,b){return f(d(g,v,b,!1))},"Unit, Unit, Unit, boolean":function(g,v,b,y){return f(d(g,v,b,y))}});function f(p){return r.matrix==="Matrix"?n?n(p):o$():p}function h(p,g){var v=m(p);if(!v)throw new SyntaxError('String "'+p+'" is no valid range');return r.number==="BigNumber"?(i===void 0&&ZA(),f(d(i(v.start),i(v.end),i(v.step)))):f(d(v.start,v.end,v.step,g))}function d(p,g,v,b){for(var y=[],x=c(v)?b?a:s:b?l:o,w=p;x(w,g);)y.push(w),w=u(w,v);return y}function m(p){var g=p.split(":"),v=g.map(function(y){return Number(y)}),b=v.some(function(y){return isNaN(y)});if(b)return null;switch(v.length){case 2:return{start:v[0],end:v[1],step:1};case 3:return{start:v[0],end:v[2],step:v[1]};default:return null}}}),LP="reshape",Nde=["typed","isInteger","matrix"],Tde=H(LP,Nde,t=>{var{typed:e,isInteger:r}=t;return e(LP,{"Matrix, Array":function(i,s){return i.reshape(s,!0)},"Array, Array":function(i,s){return s.forEach(function(a){if(!r(a))throw new TypeError("Invalid size for dimension: "+a)}),qA(i,s)}})}),Dde="resize",Cde=["config","matrix"],Mde=H(Dde,Cde,t=>{var{config:e,matrix:r}=t;return function(s,a,o){if(arguments.length!==2&&arguments.length!==3)throw new Uu("resize",arguments.length,2,3);if(Je(a)&&(a=a.valueOf()),ht(a[0])&&(a=a.map(function(c){return ht(c)?c.toNumber():c})),Je(s))return s.resize(a,o,!0);if(typeof s=="string")return n(s,a,o);var l=Array.isArray(s)?!1:e.matrix!=="Array";if(a.length===0){for(;Array.isArray(s);)s=s[0];return at(s)}else{Array.isArray(s)||(s=[s]),s=at(s);var u=Af(s,a,o);return l?r(u):u}};function n(i,s,a){if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";if(s.length!==1)throw new gt(s.length,1);var o=s[0];if(typeof o!="number"||!We(o))throw new TypeError("Invalid size, must contain positive integers (size: "+pt(s)+")");if(i.length>o)return i.substring(0,o);if(i.length<o){for(var l=i,u=0,c=o-i.length;u<c;u++)l+=a;return l}else return i}}),VP="rotate",Ide=["typed","multiply","rotationMatrix"],Pde=H(VP,Ide,t=>{var{typed:e,multiply:r,rotationMatrix:n}=t;return e(VP,{"Array , number | BigNumber | Complex | Unit":function(a,o){i(a,2);var l=r(n(o),a);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(a,o){return i(a,2),r(n(o),a)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(a,o,l){i(a,3);var u=r(n(o,l),a);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(a,o,l){return i(a,3),r(n(o,l),a)}});function i(s,a){var o=Array.isArray(s)?st(s):s.size();if(o.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(o.length===2&&o[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(o[0]!==a)throw new RangeError("Vector must be of dimensions 1x".concat(a))}}),$P="rotationMatrix",kde=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Rde=H($P,kde,t=>{var{typed:e,config:r,multiplyScalar:n,addScalar:i,unaryMinus:s,norm:a,BigNumber:o,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:f,sin:h}=t;return e($P,{"":function(){return r.matrix==="Matrix"?l([]):[]},string:function(y){return l(y)},"number | BigNumber | Complex | Unit":function(y){return d(y,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,x){return d(y,x)},"number | BigNumber | Complex | Unit, Array":function(y,x){var w=l(x);return m(w),v(y,w,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,x){m(x);var w=x.storage()||(r.matrix==="Matrix"?"dense":void 0);return v(y,x,w)},"number | BigNumber | Complex | Unit, Array, string":function(y,x,w){var E=l(x);return m(E),v(y,E,w)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,x,w){return m(x),v(y,x,w)}});function d(b,y){var x=ht(b),w=x?new o(-1):-1,E=f(b),S=h(b),A=[[E,n(w,S)],[S,E]];return g(A,y)}function m(b){var y=b.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function p(b){return b.reduce((y,x)=>n(y,x))}function g(b,y){if(y){if(y==="sparse")return new c(b);if(y==="dense")return new u(b);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return b}function v(b,y,x){var w=a(y);if(w===0)throw new RangeError("Rotation around zero vector");var E=ht(b)?o:null,S=E?new E(1):1,A=E?new E(-1):-1,N=E?new E(y.get([0])/w):y.get([0])/w,D=E?new E(y.get([1])/w):y.get([1])/w,C=E?new E(y.get([2])/w):y.get([2])/w,M=f(b),I=i(S,s(M)),z=h(b),V=i(M,p([N,N,I])),k=i(p([N,D,I]),p([A,C,z])),L=i(p([N,C,I]),p([D,z])),B=i(p([N,D,I]),p([C,z])),$=i(M,p([D,D,I])),Y=i(p([D,C,I]),p([A,N,z])),ie=i(p([N,C,I]),p([A,D,z])),O=i(p([D,C,I]),p([N,z])),q=i(M,p([C,C,I])),j=[[V,k,L],[B,$,Y],[ie,O,q]];return g(j,x)}}),zP="row",Ode=["typed","Index","matrix","range"],u$=H(zP,Ode,t=>{var{typed:e,Index:r,matrix:n,range:i}=t;return e(zP,{"Matrix, number":s,"Array, number":function(o,l){return s(n(at(o)),l).valueOf()}});function s(a,o){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Yt(o,a.size()[0]);var l=i(0,a.size()[1]),u=new r(o,l),c=a.subset(u);return Je(c)?c:n([[c]])}}),jP="size",Fde=["typed","config","?matrix"],Bde=H(jP,Fde,t=>{var{typed:e,config:r,matrix:n}=t;return e(jP,{Matrix:function(s){return s.create(s.size(),"number")},Array:st,string:function(s){return r.matrix==="Array"?[s.length]:n([s.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(s){return r.matrix==="Array"?[]:n?n([],"dense","number"):o$()}})}),UP="squeeze",Lde=["typed"],Vde=H(UP,Lde,t=>{var{typed:e}=t;return e(UP,{Array:function(n){return z0(at(n))},Matrix:function(n){var i=z0(n.toArray());return Array.isArray(i)?n.create(i,n.datatype()):i},any:function(n){return at(n)}})}),qP="subset",$de=["typed","matrix","zeros","add"],c$=H(qP,$de,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t;return e(qP,{"Matrix, Index":function(o,l){return Sf(l)?r():($0(o,l),o.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(a){return function(o,l){var u=a(r(o),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":jde,"string, Index":zde,"Matrix, Index, any, any":function(o,l,u,c){return Sf(l)?o:($0(o,l),o.clone().subset(l,s(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(a){return function(o,l,u,c){var f=a(r(o),l,u,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(o,l,u){return a(r(o),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(o,l,u){return a(o,l,u,void 0)}}),"string, Index, string":HP,"string, Index, string, string":HP,"Object, Index, any":Ude});function s(a,o){if(typeof a=="string")throw new Error("can't boradcast a string");if(o._isScalar)return a;var l=o.size();if(l.every(u=>u>0))try{return i(a,n(l))}catch{return a}else return a}});function zde(t,e){if(!A1(e))throw new TypeError("Index expected");if(Sf(e))return"";if($0(Array.from(t),e),e.size().length!==1)throw new gt(e.size().length,1);var r=t.length;Yt(e.min()[0],r),Yt(e.max()[0],r);var n=e.dimension(0),i="";return n.forEach(function(s){i+=t.charAt(s)}),i}function HP(t,e,r,n){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Sf(e))return t;if($0(Array.from(t),e),e.size().length!==1)throw new gt(e.size().length,1);if(n!==void 0){if(typeof n!="string"||n.length!==1)throw new TypeError("Single character expected as defaultValue")}else n=" ";var i=e.dimension(0),s=i.size()[0];if(s!==r.length)throw new gt(i.size()[0],r.length);var a=t.length;Yt(e.min()[0]),Yt(e.max()[0]);for(var o=[],l=0;l<a;l++)o[l]=t.charAt(l);if(i.forEach(function(f,h){o[f]=r.charAt(h[0])}),o.length>a)for(var u=a-1,c=o.length;u<c;u++)o[u]||(o[u]=n);return o.join("")}function jde(t,e){if(!Sf(e)){if(e.size().length!==1)throw new gt(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");return jn(t,r)}}function Ude(t,e,r){if(Sf(e))return t;if(e.size().length!==1)throw new gt(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");var i=at(t);return _f(i,n,r),i}var WP="transpose",qde=["typed","matrix"],Hde=H(WP,qde,t=>{var{typed:e,matrix:r}=t;return e(WP,{Array:a=>n(r(a)).valueOf(),Matrix:n,any:at});function n(a){var o=a.size(),l;switch(o.length){case 1:l=a.clone();break;case 2:{var u=o[0],c=o[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+pt(o)+")");switch(a.storage()){case"dense":l=i(a,u,c);break;case"sparse":l=s(a,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+pt(o)+")")}return l}function i(a,o,l){for(var u=a._data,c=[],f,h=0;h<l;h++){f=c[h]=[];for(var d=0;d<o;d++)f[d]=at(u[d][h])}return a.createDenseMatrix({data:c,size:[l,o],datatype:a._datatype})}function s(a,o,l){for(var u=a._values,c=a._index,f=a._ptr,h=u?[]:void 0,d=[],m=[],p=[],g=0;g<o;g++)p[g]=0;var v,b,y;for(v=0,b=c.length;v<b;v++)p[c[v]]++;for(var x=0,w=0;w<o;w++)m.push(x),x+=p[w],p[w]=m[w];for(m.push(x),y=0;y<l;y++)for(var E=f[y],S=f[y+1],A=E;A<S;A++){var N=p[c[A]]++;d[N]=y,u&&(h[N]=at(u[A]))}return a.createSparseMatrix({values:h,index:d,ptr:m,size:[l,o],datatype:a._datatype})}}),GP="ctranspose",Wde=["typed","transpose","conj"],Gde=H(GP,Wde,t=>{var{typed:e,transpose:r,conj:n}=t;return e(GP,{any:function(s){return n(r(s))}})}),KP="zeros",Kde=["typed","config","matrix","BigNumber"],Yde=H(KP,Kde,t=>{var{typed:e,config:r,matrix:n,BigNumber:i}=t;return e(KP,{"":function(){return r.matrix==="Array"?s([]):s([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return s(u,f)}else return r.matrix==="Array"?s(u):s(u,"default")},Array:s,Matrix:function(u){var c=u.storage();return s(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return s(u.valueOf(),c)}});function s(l,u){var c=a(l),f=c?new i(0):0;if(o(l),u){var h=n(u);return l.length>0?h.resize(l,f):h}else{var d=[];return l.length>0?Af(d,l,f):d}}function a(l){var u=!1;return l.forEach(function(c,f,h){ht(c)&&(u=!0,h[f]=c.toNumber())}),u}function o(l){l.forEach(function(u){if(typeof u!="number"||!We(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),YP="fft",Qde=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Xde=H(YP,Qde,t=>{var{typed:e,matrix:r,addScalar:n,multiplyScalar:i,divideScalar:s,exp:a,tau:o,i:l,dotDivide:u,conj:c,pow:f,ceil:h,log2:d}=t;return e(YP,{Array:m,Matrix:function(y){return y.create(m(y.valueOf()),y.datatype())}});function m(b){var y=st(b);return y.length===1?v(b,y[0]):p(b.map(x=>m(x,y.slice(1))),0)}function p(b,y){var x=st(b);if(y!==0)return new Array(x[0]).fill(0).map((E,S)=>p(b[S],y-1));if(x.length===1)return v(b);function w(E){var S=st(E);return new Array(S[1]).fill(0).map((A,N)=>new Array(S[0]).fill(0).map((D,C)=>E[C][N]))}return w(p(w(b),1))}function g(b){for(var y=b.length,x=a(s(i(-1,i(l,o)),y)),w=[],E=1-y;E<y;E++)w.push(f(x,s(f(E,2),2)));for(var S=f(2,h(d(y+y-1))),A=[...new Array(y).fill(0).map((k,L)=>i(b[L],w[y-1+L])),...new Array(S-y).fill(0)],N=[...new Array(y+y-1).fill(0).map((k,L)=>s(1,w[L])),...new Array(S-(y+y-1)).fill(0)],D=v(A),C=v(N),M=new Array(S).fill(0).map((k,L)=>i(D[L],C[L])),I=u(c(m(c(M))),S),z=[],V=y-1;V<y+y-1;V++)z.push(i(I[V],w[V]));return z}function v(b){var y=b.length;if(y===1)return[b[0]];if(y%2===0){for(var x=[...v(b.filter((A,N)=>N%2===0)),...v(b.filter((A,N)=>N%2===1))],w=0;w<y/2;w++){var E=x[w],S=i(x[w+y/2],a(i(i(o,l),s(-w,y))));x[w]=n(E,S),x[w+y/2]=n(E,i(-1,S))}return x}else return g(b)}}),QP="ifft",Jde=["typed","fft","dotDivide","conj"],Zde=H(QP,Jde,t=>{var{typed:e,fft:r,dotDivide:n,conj:i}=t;return e(QP,{"Array | Matrix":function(a){var o=Je(a)?a.size():st(a);return n(i(r(i(a))),o.reduce((l,u)=>l*u,1))}})});function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function eme(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tme(t){var e=eme(t,"string");return mm(e)=="symbol"?e:e+""}function Rr(t,e,r){return(e=tme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rme(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XP(Object(r),!0).forEach(function(n){Rr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nme="solveODE",ime=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],sme=H(nme,ime,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:s,max:a,map:o,abs:l,isPositive:u,isNegative:c,larger:f,smaller:h,matrix:d,bignumber:m,unaryMinus:p}=t;function g(A){return function(N,D,C,M){var I=!(D.length===2&&(D.every(E)||D.every(yi)));if(I)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var z=D[0],V=D[1],k=f(V,z),L=M.firstStep;if(L!==void 0&&!u(L))throw new Error('"firstStep" must be positive');var B=M.maxStep;if(B!==void 0&&!u(B))throw new Error('"maxStep" must be positive');var $=M.minStep;if($&&c($))throw new Error('"minStep" must be positive or zero');var Y=[z,V,L,$,B].filter(U=>U!==void 0);if(!(Y.every(E)||Y.every(yi)))throw new Error('Inconsistent type of "t" dependant variables');for(var ie=1,O=M.tol?M.tol:1e-4,q=M.minDelta?M.minDelta:.2,j=M.maxDelta?M.maxDelta:5,me=M.maxIter?M.maxIter:1e4,ue=[z,V,...C,B,$].some(ht),[fe,W,X,ee]=ue?[m(A.a),m(A.c),m(A.b),m(A.bp)]:[A.a,A.c,A.b,A.bp],se=L?k?L:p(L):s(n(V,z),ie),oe=[z],ve=[C],pe=n(X,ee),De=0,Be=0,ze=x(k),ke=w(k);ze(oe[De],V);){var He=[];se=ke(oe[De],V,se),He.push(N(oe[De],ve[De]));for(var K=1;K<W.length;++K)He.push(N(r(oe[De],i(W[K],se)),r(ve[De],i(se,fe[K],He))));var te=a(l(o(i(pe,He),U=>yi(U)?U.value:U)));te<O&&O/te>1/4&&(oe.push(r(oe[De],se)),ve.push(r(ve[De],i(se,X,He))),De++);var ce=.84*(O/te)**(1/5);if(h(ce,q)?ce=q:f(ce,j)&&(ce=j),ce=ue?m(ce):ce,se=i(se,ce),B&&f(l(se),B)?se=k?B:p(B):$&&h(l(se),$)&&(se=k?$:p($)),Be++,Be>me)throw new Error("Maximum number of iterations reached, try changing options")}return{t:oe,y:ve}}}function v(A,N,D,C){var M=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],I=[null,1/2,3/4,1],z=[2/9,1/3,4/9,0],V=[7/24,1/4,1/3,1/8],k={a:M,c:I,b:z,bp:V};return g(k)(A,N,D,C)}function b(A,N,D,C){var M=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],I=[null,1/5,3/10,4/5,8/9,1,1],z=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],V=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],k={a:M,c:I,b:z,bp:V};return g(k)(A,N,D,C)}function y(A,N,D,C){var M=C.method?C.method:"RK45",I={RK23:v,RK45:b};if(M.toUpperCase()in I){var z=rme({},C);return delete z.method,I[M.toUpperCase()](A,N,D,z)}else{var V=Object.keys(I).map(L=>'"'.concat(L,'"')),k="".concat(V.slice(0,-1).join(", ")," and ").concat(V.slice(-1));throw new Error('Unavailable method "'.concat(M,'". Available methods are ').concat(k))}}function x(A){return A?h:f}function w(A){var N=A?f:h;return function(D,C,M){var I=r(D,M);return N(I,C)?n(C,D):M}}function E(A){return ht(A)||ft(A)}function S(A,N,D,C){var M=y(A,N.toArray(),D.toArray(),C);return{t:d(M.t),y:d(M.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":S,"function, Array, Array":(A,N,D)=>y(A,N,D,{}),"function, Matrix, Matrix":(A,N,D)=>S(A,N,D,{}),"function, Array, number | BigNumber | Unit":(A,N,D)=>{var C=y(A,N,[D],{});return{t:C.t,y:C.y.map(M=>M[0])}},"function, Matrix, number | BigNumber | Unit":(A,N,D)=>{var C=y(A,N.toArray(),[D],{});return{t:d(C.t),y:d(C.y.map(M=>M[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,N,D,C)=>{var M=y(A,N,[D],C);return{t:M.t,y:M.y.map(I=>I[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,N,D,C)=>{var M=y(A,N.toArray(),[D],C);return{t:d(M.t),y:d(M.y.map(I=>I[0]))}}})}),ame="erf",ome=["typed"],lme=H(ame,ome,t=>{var{typed:e}=t;return e("name",{number:function(a){var o=Math.abs(a);return o>=fme?To(a):o<=ume?To(a)*r(o):o<=4?To(a)*(1-n(o)):To(a)*(1-i(o))},"Array | Matrix":e.referToSelf(s=>a=>dt(a,s))});function r(s){var a=s*s,o=da[0][4]*a,l=a,u;for(u=0;u<3;u+=1)o=(o+da[0][u])*a,l=(l+cc[0][u])*a;return s*(o+da[0][3])/(l+cc[0][3])}function n(s){var a=da[1][8]*s,o=s,l;for(l=0;l<7;l+=1)a=(a+da[1][l])*s,o=(o+cc[1][l])*s;var u=(a+da[1][7])/(o+cc[1][7]),c=parseInt(s*16)/16,f=(s-c)*(s+c);return Math.exp(-c*c)*Math.exp(-f)*u}function i(s){var a=1/(s*s),o=da[2][5]*a,l=a,u;for(u=0;u<4;u+=1)o=(o+da[2][u])*a,l=(l+cc[2][u])*a;var c=a*(o+da[2][4])/(l+cc[2][4]);c=(cme-c)/s,a=parseInt(s*16)/16;var f=(s-a)*(s+a);return Math.exp(-a*a)*Math.exp(-f)*c}}),ume=.46875,cme=.5641895835477563,da=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],cc=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],fme=Math.pow(2,53),JP="zeta",hme=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],dme=H(JP,hme,t=>{var{typed:e,config:r,multiply:n,pow:i,divide:s,factorial:a,equal:o,smallerEq:l,isNegative:u,gamma:c,sin:f,subtract:h,add:d,Complex:m,BigNumber:p,pi:g}=t;return e(JP,{number:E=>v(E,S=>S,()=>20),BigNumber:E=>v(E,S=>new p(S),()=>Math.abs(Math.log10(r.relTol))),Complex:b});function v(E,S,A){return o(E,0)?S(-.5):o(E,1)?S(NaN):isFinite(E)?y(E,S,A,N=>N):u(E)?S(NaN):S(1)}function b(E){return E.re===0&&E.im===0?new m(-.5):E.re===1?new m(NaN,NaN):E.re===1/0&&E.im===0?new m(1):E.im===1/0||E.re===-1/0?new m(NaN,NaN):y(E,S=>S,S=>Math.round(1.3*15+.9*Math.abs(S.im)),S=>S.re)}function y(E,S,A,N){var D=A(E);if(N(E)>-(D-1)/2)return w(E,S(D),S);var C=n(i(2,E),i(S(g),h(E,1)));return C=n(C,f(n(s(S(g),2),E))),C=n(C,c(h(1,E))),n(C,y(h(1,E),S,A,N))}function x(E,S){for(var A=E,N=E;l(N,S);N=d(N,1)){var D=s(n(a(d(S,h(N,1))),i(4,N)),n(a(h(S,N)),a(n(2,N))));A=d(A,D)}return n(S,A)}function w(E,S,A){for(var N=s(1,n(x(A(0),S),h(1,i(2,h(1,E))))),D=A(0),C=A(1);l(C,S);C=d(C,1))D=d(D,s(n((-1)**(C-1),x(C,S)),i(C,E)));return n(N,D)}}),ZP="mode",mme=["typed","isNaN","isNumeric"],pme=H(ZP,mme,t=>{var{typed:e,isNaN:r,isNumeric:n}=t;return e(ZP,{"Array | Matrix":i,"...":function(a){return i(a)}});function i(s){s=Ct(s.valueOf());var a=s.length;if(a===0)throw new Error("Cannot calculate mode of an empty array");for(var o={},l=[],u=0,c=0;c<s.length;c++){var f=s[c];if(n(f)&&r(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in o||(o[f]=0),o[f]++,o[f]===u?l.push(f):o[f]>u&&(u=o[f],l=[f])}return l}});function Hn(t,e,r){var n;return String(t).includes("Unexpected type")?(n=arguments.length>2?" (type: "+Wt(r)+", value: "+JSON.stringify(r)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(t).includes("complex numbers")?(n=arguments.length>2?" (type: "+Wt(r)+", value: "+JSON.stringify(r)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):t}var ek="prod",gme=["typed","config","multiplyScalar","numeric"],vme=H(ek,gme,t=>{var{typed:e,config:r,multiplyScalar:n,numeric:i}=t;return e(ek,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(o,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(o){return s(o)}});function s(a){var o;if(ol(a,function(l){try{o=o===void 0?l:n(o,l)}catch(u){throw Hn(u,"prod",l)}}),typeof o=="string"&&(o=i(o,yl(o,r))),o===void 0)throw new Error("Cannot calculate prod of an empty array");return o}}),tk="format",yme=["typed"],xme=H(tk,yme,t=>{var{typed:e}=t;return e(tk,{any:pt,"any, Object | function | number | BigNumber":pt})}),rk="bin",bme=["typed","format"],wme=H(rk,bme,t=>{var{typed:e,format:r}=t;return e(rk,{"number | BigNumber":function(i){return r(i,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(i,s){return r(i,{notation:"bin",wordSize:s})}})}),nk="oct",_me=["typed","format"],Eme=H(nk,_me,t=>{var{typed:e,format:r}=t;return e(nk,{"number | BigNumber":function(i){return r(i,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(i,s){return r(i,{notation:"oct",wordSize:s})}})}),ik="hex",Sme=["typed","format"],Ame=H(ik,Sme,t=>{var{typed:e,format:r}=t;return e(ik,{"number | BigNumber":function(i){return r(i,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(i,s){return r(i,{notation:"hex",wordSize:s})}})}),f$=/\$([\w.]+)/g,sk="print",Nme=["typed"],h$=H(sk,Nme,t=>{var{typed:e}=t;return e(sk,{"string, Object | Array":ak,"string, Object | Array, number | Object":ak})});function ak(t,e,r){return t.replace(f$,function(n,i){var s=i.split("."),a=e[s.shift()];for(a!==void 0&&a.isMatrix&&(a=a.toArray());s.length&&a!==void 0;){var o=s.shift();a=o?a[o]:a+"."}return a!==void 0?Cn(a)?a:pt(a,r):n})}var ok="to",Tme=["typed","matrix","concat"],Dme=H(ok,Tme,t=>{var{typed:e,matrix:r,concat:n}=t,i=Qt({typed:e,matrix:r,concat:n});return e(ok,{"Unit, Unit | string":(s,a)=>s.to(a)},i({Ds:!0}))}),lk="toBest",Cme=["typed"],Mme=H(lk,Cme,t=>{var{typed:e}=t;return e(lk,{Unit:r=>r.toBest(),"Unit, string":(r,n)=>r.toBest(n.split(",")),"Unit, string, Object":(r,n,i)=>r.toBest(n.split(","),i),"Unit, Array":(r,n)=>r.toBest(n),"Unit, Array, Object":(r,n,i)=>r.toBest(n,i)})}),uk="isPrime",Ime=["typed"],Pme=H(uk,Ime,t=>{var{typed:e}=t;return e(uk,{number:function(n){if(n<=3)return n>1;if(n%2===0||n%3===0)return!1;for(var i=5;i*i<=n;i+=6)if(n%i===0||n%(i+2)===0)return!1;return!0},bigint:function(n){if(n<=3n)return n>1n;if(n%2n===0n||n%3n===0n)return!1;for(var i=5n;i*i<=n;i+=6n)if(n%i===0n||n%(i+2n)===0n)return!1;return!0},BigNumber:function(n){if(n.lte(3))return n.gt(1);if(n.mod(2).eq(0)||n.mod(3).eq(0))return!1;if(n.lt(Math.pow(2,32))){for(var i=n.toNumber(),s=5;s*s<=i;s+=6)if(i%s===0||i%(s+2)===0)return!1;return!0}function a(b,y,x){for(var w=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),b=b.mul(b).mod(x)):(y=y.sub(1),w=b.mul(w).mod(x));return w}var o=n.constructor.clone({precision:n.toFixed(0).length*2});n=new o(n);for(var l=0,u=n.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(n.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(b=>b<n);else{var f=Math.min(n.toNumber()-2,Math.floor(2*Math.pow(n.toFixed(0).length*Math.log(10),2)));c=[];for(var h=2;h<=f;h+=1)c.push(f)}for(var d=0;d<c.length;d+=1){var m=c[d],p=a(n.sub(n).add(m),u,n);if(!p.eq(1)){for(var g=0,v=p;!v.eq(n.sub(1));g+=1,v=v.mul(v).mod(n))if(g===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(r=>n=>dt(n,r))})}),kme="numeric",Rme=["number","?bignumber","?fraction"],Ome=H(kme,Rme,t=>{var{number:e,bignumber:r,fraction:n}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:a=>e(a),BigNumber:r?a=>r(a):ZA,bigint:a=>BigInt(a),Fraction:n?a=>n(a):a$};return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=Wt(o);if(!(c in i))throw new TypeError("Cannot convert "+o+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+o+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===c?o:s[l](o)}}),ck="divideScalar",Fme=["typed","numeric"],Bme=H(ck,Fme,t=>{var{typed:e,numeric:r}=t;return e(ck,{"number, number":function(i,s){return i/s},"Complex, Complex":function(i,s){return i.div(s)},"BigNumber, BigNumber":function(i,s){return i.div(s)},"bigint, bigint":function(i,s){return i/s},"Fraction, Fraction":function(i,s){return i.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,i)=>n.divide(i),"number | Fraction | Complex | BigNumber, Unit":(n,i)=>i.divideInto(n)})}),fk="pow",Lme=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],Vme=H(fk,Lme,t=>{var{typed:e,config:r,identity:n,multiply:i,matrix:s,inv:a,number:o,fraction:l,Complex:u}=t;return e(fk,{"number, number":c,"Complex, Complex":function(m,p){return m.pow(p)},"BigNumber, BigNumber":function(m,p){return p.isInteger()||m>=0||r.predictable?m.pow(p):new u(m.toNumber(),0).pow(p.toNumber(),0)},"bigint, bigint":(d,m)=>d**m,"Fraction, Fraction":function(m,p){var g=m.pow(p);if(g!=null)return g;if(r.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(m.valueOf(),p.valueOf())},"Array, number":f,"Array, BigNumber":function(m,p){return f(m,p.toNumber())},"Matrix, number":h,"Matrix, BigNumber":function(m,p){return h(m,p.toNumber())},"Unit, number | BigNumber":function(m,p){return m.pow(p)}});function c(d,m){if(r.predictable&&!We(m)&&d<0)try{var p=l(m),g=o(p);if((m===g||Math.abs((m-g)/m)<1e-14)&&p.d%2n===1n)return(p.n%2n===0n?1:-1)*Math.pow(-d,m)}catch{}return r.predictable&&(d<-1&&m===1/0||d>-1&&d<0&&m===-1/0)?NaN:We(m)||d>=0||r.predictable?vV(d,m):d*d<1&&m===1/0||d*d>1&&m===-1/0?0:new u(d,0).pow(m,0)}function f(d,m){if(!We(m))throw new TypeError("For A^b, b must be an integer (value is "+m+")");var p=st(d);if(p.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!==p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");if(m<0)try{return f(a(d),-m)}catch(b){throw b.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+m+")"):b}for(var g=n(p[0]).valueOf(),v=d;m>=1;)(m&1)===1&&(g=i(v,g)),m>>=1,v=i(v,v);return g}function h(d,m){return s(f(d.valueOf(),m))}}),fc="Number of decimals in function round must be an integer",hk="round",$me=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],zme=H(hk,$me,t=>{var{typed:e,config:r,matrix:n,equalScalar:i,zeros:s,BigNumber:a,DenseMatrix:o}=t,l=pn({typed:e,equalScalar:i}),u=Ur({typed:e,DenseMatrix:o}),c=Ss({typed:e});function f(h){return Math.abs(Qm(h).exponent)}return e(hk,{number:function(d){var m=Ah(d,f(r.relTol)),p=mn(d,m,r.relTol,r.absTol)?m:d;return Ah(p)},"number, number":function(d,m){var p=f(r.relTol);if(m>=p)return Ah(d,m);var g=Ah(d,p),v=mn(d,g,r.relTol,r.absTol)?g:d;return Ah(v,m)},"number, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(fc);return new a(d).toDecimalPlaces(m.toNumber())},Complex:function(d){return d.round()},"Complex, number":function(d,m){if(m%1)throw new TypeError(fc);return d.round(m)},"Complex, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(fc);var p=m.toNumber();return d.round(p)},BigNumber:function(d){var m=new a(d).toDecimalPlaces(f(r.relTol)),p=Xi(d,m,r.relTol,r.absTol)?m:d;return p.toDecimalPlaces(0)},"BigNumber, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(fc);var p=f(r.relTol);if(m>=p)return d.toDecimalPlaces(m.toNumber());var g=d.toDecimalPlaces(p),v=Xi(d,g,r.relTol,r.absTol)?g:d;return v.toDecimalPlaces(m.toNumber())},bigint:h=>h,"bigint, number":(h,d)=>h,"bigint, BigNumber":(h,d)=>h,Fraction:function(d){return d.round()},"Fraction, number":function(d,m){if(m%1)throw new TypeError(fc);return d.round(m)},"Fraction, BigNumber":function(d,m){if(!m.isInteger())throw new TypeError(fc);return d.round(m.toNumber())},"Unit, number, Unit":e.referToSelf(h=>function(d,m,p){var g=d.toNumeric(p);return p.multiply(h(g,m))}),"Unit, BigNumber, Unit":e.referToSelf(h=>(d,m,p)=>h(d,m.toNumber(),p)),"Array | Matrix, number | BigNumber, Unit":e.referToSelf(h=>(d,m,p)=>dt(d,g=>h(g,m,p),!0)),"Array | Matrix | Unit, Unit":e.referToSelf(h=>(d,m)=>h(d,0,m)),"Array | Matrix":e.referToSelf(h=>d=>dt(d,h,!0)),"SparseMatrix, number | BigNumber":e.referToSelf(h=>(d,m)=>l(d,m,h,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(h=>(d,m)=>c(d,m,h,!1)),"Array, number | BigNumber":e.referToSelf(h=>(d,m)=>c(n(d),m,h,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(h=>(d,m)=>i(d,0)?s(m.size(),m.storage()):u(m,d,h,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(h=>(d,m)=>i(d,0)?s(m.size(),m.storage()):c(m,d,h,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(h=>(d,m)=>c(n(m),d,h,!0).valueOf())})}),dk="log",jme=["config","typed","typeOf","divideScalar","Complex"],Ume=Math.log(16),qme=H(dk,jme,t=>{var{typed:e,typeOf:r,config:n,divideScalar:i,Complex:s}=t;function a(l){return l.log()}function o(l){return a(new s(l,0))}return e(dk,{number:function(u){return u>=0||n.predictable?DI(u):o(u)},bigint:XA(Ume,DI,n,o),Complex:a,BigNumber:function(u){return!u.isNegative()||n.predictable?u.ln():o(u.toNumber())},"any, any":e.referToSelf(l=>(u,c)=>{if(r(u)==="Fraction"&&r(c)==="Fraction"){var f=u.log(c);if(f!==null)return f}return i(l(u),l(c))})})}),mk="log1p",Hme=["typed","config","divideScalar","log","Complex"],Wme=H(mk,Hme,t=>{var{typed:e,config:r,divideScalar:n,log:i,Complex:s}=t;return e(mk,{number:function(l){return l>=-1||r.predictable?$oe(l):a(new s(l,0))},Complex:a,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||r.predictable?u.ln():a(new s(l.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>l=>dt(l,o)),"any, any":e.referToSelf(o=>(l,u)=>n(o(l),i(u)))});function a(o){var l=o.re+1;return new s(Math.log(Math.sqrt(l*l+o.im*o.im)),Math.atan2(o.im,l))}}),pk="nthRoots",Gme=["config","typed","divideScalar","Complex"],Kme=H(pk,Gme,t=>{var{typed:e,config:r,divideScalar:n,Complex:i}=t,s=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function a(o,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(o===0||o.abs()===0)return[new i(0,0)];var u=typeof o=="number",c;(u||o.re===0||o.im===0)&&(u?c=2*+(o<0):o.im===0?c=2*+(o.re<0):c=2*+(o.im<0)+1);for(var f=o.arg(),h=o.abs(),d=[],m=Math.pow(h,1/l),p=0;p<l;p++){var g=(c+4*p)/l;if(g===Math.round(g)){d.push(s[g%4](m));continue}d.push(new i({r:m,phi:(f+2*Math.PI*p)/l}))}return d}return e(pk,{Complex:function(l){return a(l,2)},"Complex, number":a})}),gk="dotPow",Yme=["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],Qme=H(gk,Yme,t=>{var{typed:e,equalScalar:r,matrix:n,pow:i,DenseMatrix:s,concat:a,SparseMatrix:o}=t,l=Kn({typed:e}),u=na({typed:e,SparseMatrix:o}),c=pn({typed:e,equalScalar:r}),f=Ur({typed:e,DenseMatrix:s}),h=Qt({typed:e,matrix:n,concat:a}),d={};for(var m in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,m)&&!m.includes("Matrix")&&!m.includes("Array")&&(d[m]=i.signatures[m]);var p=e(d);return e(gk,h({elop:p,SS:u,DS:l,Ss:c,sS:f}))}),vk="dotDivide",Xme=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],Jme=H(vk,Xme,t=>{var{typed:e,matrix:r,equalScalar:n,divideScalar:i,DenseMatrix:s,concat:a,SparseMatrix:o}=t,l=As({typed:e,equalScalar:n}),u=Kn({typed:e}),c=na({typed:e,SparseMatrix:o}),f=pn({typed:e,equalScalar:n}),h=Ur({typed:e,DenseMatrix:s}),d=Qt({typed:e,matrix:r,concat:a});return e(vk,d({elop:i,SS:c,DS:u,SD:l,Ss:f,sS:h}))});function Xm(t){var{DenseMatrix:e}=t;return function(n,i,s){var a=n.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+pt(a)+")");var o=a[0],l=a[1];if(o!==l)throw new RangeError("Matrix must be square (size: "+pt(a)+")");var u=[];if(Je(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var h=0;h<o;h++)u[h]=[f[h]];return new e({data:u,size:[o,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==o||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(O0(i)){if(s){u=[];for(var d=0;d<o;d++)u[d]=[f[d][0]];return new e({data:u,size:[o,1],datatype:i._datatype})}return i}if(su(i)){for(var m=0;m<o;m++)u[m]=[0];for(var p=i._values,g=i._index,v=i._ptr,b=v[1],y=v[0];y<b;y++){var x=g[y];u[x][0]=p[y]}return new e({data:u,size:[o,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(Ut(i)){var w=st(i);if(w.length===1){if(w[0]!==o)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var E=0;E<o;E++)u[E]=[i[E]];return new e({data:u,size:[o,1]})}if(w.length===2){if(w[0]!==o||w[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var S=0;S<o;S++)u[S]=[i[S][0]];return new e({data:u,size:[o,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var yk="lsolve",Zme=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],epe=H(yk,Zme,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:s,equalScalar:a,DenseMatrix:o}=t,l=Xm({DenseMatrix:o});return e(yk,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var m=r(h),p=u(m,d);return p.valueOf()}});function u(f,h){h=l(f,h,!0);for(var d=h._data,m=f._size[0],p=f._size[1],g=[],v=f._data,b=0;b<p;b++){var y=d[b][0]||0,x=void 0;if(a(y,0))x=0;else{var w=v[b][b];if(a(w,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(y,w);for(var E=b+1;E<m;E++)d[E]=[s(d[E][0]||0,i(x,v[E][b]))]}g[b]=[x]}return new o({data:g,size:[m,1]})}function c(f,h){h=l(f,h,!0);for(var d=h._data,m=f._size[0],p=f._size[1],g=f._values,v=f._index,b=f._ptr,y=[],x=0;x<p;x++){var w=d[x][0]||0;if(a(w,0))y[x]=[0];else{for(var E=0,S=[],A=[],N=b[x],D=b[x+1],C=N;C<D;C++){var M=v[C];M===x?E=g[C]:M>x&&(S.push(g[C]),A.push(M))}if(a(E,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var I=n(w,E),z=0,V=A.length;z<V;z++){var k=A[z];d[k]=[s(d[k][0]||0,i(I,S[z]))]}y[x]=[I]}}return new o({data:y,size:[m,1]})}}),xk="usolve",tpe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],rpe=H(xk,tpe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:s,equalScalar:a,DenseMatrix:o}=t,l=Xm({DenseMatrix:o});return e(xk,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var m=r(h),p=u(m,d);return p.valueOf()}});function u(f,h){h=l(f,h,!0);for(var d=h._data,m=f._size[0],p=f._size[1],g=[],v=f._data,b=p-1;b>=0;b--){var y=d[b][0]||0,x=void 0;if(a(y,0))x=0;else{var w=v[b][b];if(a(w,0))throw new Error("Linear system cannot be solved since matrix is singular");x=n(y,w);for(var E=b-1;E>=0;E--)d[E]=[s(d[E][0]||0,i(x,v[E][b]))]}g[b]=[x]}return new o({data:g,size:[m,1]})}function c(f,h){h=l(f,h,!0);for(var d=h._data,m=f._size[0],p=f._size[1],g=f._values,v=f._index,b=f._ptr,y=[],x=p-1;x>=0;x--){var w=d[x][0]||0;if(a(w,0))y[x]=[0];else{for(var E=0,S=[],A=[],N=b[x],D=b[x+1],C=D-1;C>=N;C--){var M=v[C];M===x?E=g[C]:M<x&&(S.push(g[C]),A.push(M))}if(a(E,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var I=n(w,E),z=0,V=A.length;z<V;z++){var k=A[z];d[k]=[s(d[k][0],i(I,S[z]))]}y[x]=[I]}}return new o({data:y,size:[m,1]})}}),bk="lsolveAll",npe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ipe=H(bk,npe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:s,equalScalar:a,DenseMatrix:o}=t,l=Xm({DenseMatrix:o});return e(bk,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var m=r(h),p=u(m,d);return p.map(g=>g.valueOf())}});function u(f,h){for(var d=[l(f,h,!0)._data.map(A=>A[0])],m=f._data,p=f._size[0],g=f._size[1],v=0;v<g;v++)for(var b=d.length,y=0;y<b;y++){var x=d[y];if(a(m[v][v],0))if(a(x[v],0)){if(y===0){var E=[...x];E[v]=1;for(var S=v+1;S<g;S++)E[S]=s(E[S],m[S][v]);d.push(E)}}else{if(y===0)return[];d.splice(y,1),y-=1,b-=1}else{x[v]=n(x[v],m[v][v]);for(var w=v+1;w<g;w++)x[w]=s(x[w],i(x[v],m[w][v]))}}return d.map(A=>new o({data:A.map(N=>[N]),size:[p,1]}))}function c(f,h){for(var d=[l(f,h,!0)._data.map(ie=>ie[0])],m=f._size[0],p=f._size[1],g=f._values,v=f._index,b=f._ptr,y=0;y<p;y++)for(var x=d.length,w=0;w<x;w++){for(var E=d[w],S=[],A=[],N=b[y],D=b[y+1],C=0,M=N;M<D;M++){var I=v[M];I===y?C=g[M]:I>y&&(S.push(g[M]),A.push(I))}if(a(C,0))if(a(E[y],0)){if(w===0){var L=[...E];L[y]=1;for(var B=0,$=A.length;B<$;B++){var Y=A[B];L[Y]=s(L[Y],S[B])}d.push(L)}}else{if(w===0)return[];d.splice(w,1),w-=1,x-=1}else{E[y]=n(E[y],C);for(var z=0,V=A.length;z<V;z++){var k=A[z];E[k]=s(E[k],i(E[y],S[z]))}}}return d.map(ie=>new o({data:ie.map(O=>[O]),size:[m,1]}))}}),wk="usolveAll",spe=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],ape=H(wk,spe,t=>{var{typed:e,matrix:r,divideScalar:n,multiplyScalar:i,subtractScalar:s,equalScalar:a,DenseMatrix:o}=t,l=Xm({DenseMatrix:o});return e(wk,{"SparseMatrix, Array | Matrix":function(h,d){return c(h,d)},"DenseMatrix, Array | Matrix":function(h,d){return u(h,d)},"Array, Array | Matrix":function(h,d){var m=r(h),p=u(m,d);return p.map(g=>g.valueOf())}});function u(f,h){for(var d=[l(f,h,!0)._data.map(A=>A[0])],m=f._data,p=f._size[0],g=f._size[1],v=g-1;v>=0;v--)for(var b=d.length,y=0;y<b;y++){var x=d[y];if(a(m[v][v],0))if(a(x[v],0)){if(y===0){var E=[...x];E[v]=1;for(var S=v-1;S>=0;S--)E[S]=s(E[S],m[S][v]);d.push(E)}}else{if(y===0)return[];d.splice(y,1),y-=1,b-=1}else{x[v]=n(x[v],m[v][v]);for(var w=v-1;w>=0;w--)x[w]=s(x[w],i(x[v],m[w][v]))}}return d.map(A=>new o({data:A.map(N=>[N]),size:[p,1]}))}function c(f,h){for(var d=[l(f,h,!0)._data.map(ie=>ie[0])],m=f._size[0],p=f._size[1],g=f._values,v=f._index,b=f._ptr,y=p-1;y>=0;y--)for(var x=d.length,w=0;w<x;w++){for(var E=d[w],S=[],A=[],N=b[y],D=b[y+1],C=0,M=D-1;M>=N;M--){var I=v[M];I===y?C=g[M]:I<y&&(S.push(g[M]),A.push(I))}if(a(C,0))if(a(E[y],0)){if(w===0){var L=[...E];L[y]=1;for(var B=0,$=A.length;B<$;B++){var Y=A[B];L[Y]=s(L[Y],S[B])}d.push(L)}}else{if(w===0)return[];d.splice(w,1),w-=1,x-=1}else{E[y]=n(E[y],C);for(var z=0,V=A.length;z<V;z++){var k=A[z];E[k]=s(E[k],i(E[y],S[z]))}}}return d.map(ie=>new o({data:ie.map(O=>[O]),size:[m,1]}))}}),ope="matAlgo08xS0Sid",lpe=["typed","equalScalar"],e2=H(ope,lpe,t=>{var{typed:e,equalScalar:r}=t;return function(i,s,a){var o=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype||i._data===void 0?i._datatype:i.getDataType(),h=s._values,d=s._index,m=s._ptr,p=s._size,g=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(c.length!==p.length)throw new gt(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!o||!h)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v=c[0],b=c[1],y,x=r,w=0,E=a;typeof f=="string"&&f===g&&f!=="mixed"&&(y=f,x=e.find(r,[y,y]),w=e.convert(0,y),E=e.find(a,[y,y]));for(var S=[],A=[],N=[],D=[],C=[],M,I,z,V,k=0;k<b;k++){N[k]=A.length;var L=k+1;for(I=u[k],z=u[k+1],M=I;M<z;M++)V=l[M],C[V]=L,D[V]=o[M],A.push(V);for(I=m[k],z=m[k+1],M=I;M<z;M++)V=d[M],C[V]===L&&(D[V]=E(D[V],h[M]));for(M=N[k];M<A.length;){V=A[M];var B=D[V];x(B,w)?A.splice(M,1):(S.push(B),M++)}}return N[b]=A.length,i.createSparseMatrix({values:S,index:A,ptr:N,size:[v,b],datatype:f===i._datatype&&g===s._datatype?y:void 0})}}),t2=H("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:r}=t;return{"Array, number":e.referTo("DenseMatrix, number",n=>(i,s)=>n(r(i),s).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",n=>(i,s)=>n(r(i),s).valueOf()),"number, Array":e.referTo("number, DenseMatrix",n=>(i,s)=>n(i,r(s)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",n=>(i,s)=>n(i,r(s)).valueOf())}}),_k="leftShift",upe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],cpe=H(_k,upe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:s,concat:a}=t,o=bl({typed:e}),l=As({typed:e,equalScalar:n}),u=e2({typed:e,equalScalar:n}),c=ju({typed:e,DenseMatrix:s}),f=pn({typed:e,equalScalar:n}),h=Ss({typed:e}),d=Qt({typed:e,matrix:r,concat:a}),m=t2({typed:e,matrix:r});return e(_k,{"number, number":_V,"BigNumber, BigNumber":Ihe,"bigint, bigint":(p,g)=>p<<g,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(g,v)=>n(v,0)?g.clone():f(g,v,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(g,v)=>n(v,0)?g.clone():h(g,v,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(g,v)=>n(g,0)?i(v.size(),v.storage()):h(v,g,p,!0))},m,d({SS:u,DS:o,SD:l}))}),Ek="rightArithShift",fpe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],hpe=H(Ek,fpe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:s,concat:a}=t,o=bl({typed:e}),l=As({typed:e,equalScalar:n}),u=e2({typed:e,equalScalar:n}),c=ju({typed:e,DenseMatrix:s}),f=pn({typed:e,equalScalar:n}),h=Ss({typed:e}),d=Qt({typed:e,matrix:r,concat:a}),m=t2({typed:e,matrix:r});return e(Ek,{"number, number":EV,"BigNumber, BigNumber":Phe,"bigint, bigint":(p,g)=>p>>g,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(g,v)=>n(v,0)?g.clone():f(g,v,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(g,v)=>n(v,0)?g.clone():h(g,v,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(g,v)=>n(g,0)?i(v.size(),v.storage()):h(v,g,p,!0))},m,d({SS:u,DS:o,SD:l}))}),Sk="rightLogShift",dpe=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],mpe=H(Sk,dpe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,DenseMatrix:s,concat:a}=t,o=bl({typed:e}),l=As({typed:e,equalScalar:n}),u=e2({typed:e,equalScalar:n}),c=ju({typed:e,DenseMatrix:s}),f=pn({typed:e,equalScalar:n}),h=Ss({typed:e}),d=Qt({typed:e,matrix:r,concat:a}),m=t2({typed:e,matrix:r});return e(Sk,{"number, number":SV,"SparseMatrix, number | BigNumber":e.referToSelf(p=>(g,v)=>n(v,0)?g.clone():f(g,v,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(g,v)=>n(v,0)?g.clone():h(g,v,p,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(p=>(g,v)=>n(g,0)?i(v.size(),v.storage()):c(v,g,p,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(p=>(g,v)=>n(g,0)?i(v.size(),v.storage()):h(v,g,p,!0))},m,d({SS:u,DS:o,SD:l}))}),Ak="and",ppe=["typed","matrix","equalScalar","zeros","not","concat"],d$=H(Ak,ppe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:s,concat:a}=t,o=As({typed:e,equalScalar:n}),l=O1({typed:e,equalScalar:n}),u=pn({typed:e,equalScalar:n}),c=Ss({typed:e}),f=Qt({typed:e,matrix:r,concat:a});return e(Ak,{"number, number":L_,"Complex, Complex":function(d,m){return(d.re!==0||d.im!==0)&&(m.re!==0||m.im!==0)},"BigNumber, BigNumber":function(d,m){return!d.isZero()&&!m.isZero()&&!d.isNaN()&&!m.isNaN()},"bigint, bigint":L_,"Unit, Unit":e.referToSelf(h=>(d,m)=>h(d.value||0,m.value||0)),"SparseMatrix, any":e.referToSelf(h=>(d,m)=>s(m)?i(d.size(),d.storage()):u(d,m,h,!1)),"DenseMatrix, any":e.referToSelf(h=>(d,m)=>s(m)?i(d.size(),d.storage()):c(d,m,h,!1)),"any, SparseMatrix":e.referToSelf(h=>(d,m)=>s(d)?i(d.size(),d.storage()):u(m,d,h,!0)),"any, DenseMatrix":e.referToSelf(h=>(d,m)=>s(d)?i(d.size(),d.storage()):c(m,d,h,!0)),"Array, any":e.referToSelf(h=>(d,m)=>h(r(d),m).valueOf()),"any, Array":e.referToSelf(h=>(d,m)=>h(d,r(m)).valueOf())},f({SS:l,DS:o}))}),Y0="compare",gpe=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],vpe=H(Y0,gpe,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,BigNumber:s,Fraction:a,DenseMatrix:o,concat:l}=t,u=Kn({typed:e}),c=R1({typed:e,equalScalar:n}),f=Ur({typed:e,DenseMatrix:o}),h=Qt({typed:e,matrix:i,concat:l}),d=Yf({typed:e});return e(Y0,ype({typed:e,config:r}),{"boolean, boolean":function(p,g){return p===g?0:p>g?1:-1},"BigNumber, BigNumber":function(p,g){return Xi(p,g,r.relTol,r.absTol)?new s(0):new s(p.cmp(g))},"bigint, bigint":function(p,g){return p===g?0n:p>g?1n:-1n},"Fraction, Fraction":function(p,g){return new a(p.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,h({SS:c,DS:u,Ss:f}))}),ype=H(Y0,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Y0,{"number, number":function(i,s){return mn(i,s,r.relTol,r.absTol)?0:i>s?1:-1}})}),xpe=function t(e,r){var n=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,s=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,o=/^0/,l=function(y){return t.insensitive&&(""+y).toLowerCase()||""+y},u=l(e).replace(i,"")||"",c=l(r).replace(i,"")||"",f=u.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=c.replace(n,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=parseInt(u.match(a),16)||f.length!==1&&u.match(s)&&Date.parse(u),m=parseInt(c.match(a),16)||d&&c.match(s)&&Date.parse(c)||null,p,g;if(m){if(d<m)return-1;if(d>m)return 1}for(var v=0,b=Math.max(f.length,h.length);v<b;v++){if(p=!(f[v]||"").match(o)&&parseFloat(f[v])||f[v]||0,g=!(h[v]||"").match(o)&&parseFloat(h[v])||h[v]||0,isNaN(p)!==isNaN(g))return isNaN(p)?1:-1;if(typeof p!=typeof g&&(p+="",g+=""),p<g)return-1;if(p>g)return 1}return 0};const hc=Sm(xpe);var Nk="compareNatural",bpe=["typed","compare"],wpe=H(Nk,bpe,t=>{var{typed:e,compare:r}=t,n=r.signatures["boolean,boolean"];return e(Nk,{"any, any":i});function i(l,u){var c=Wt(l),f=Wt(u),h;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return h=r(l,u),h.toString()!=="0"?h>0?1:-1:hc(c,f);var d=["Array","DenseMatrix","SparseMatrix"];if(d.includes(c)||d.includes(f))return h=s(i,l,u),h!==0?h:hc(c,f);if(c!==f)return hc(c,f);if(c==="Complex")return _pe(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):a(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return n(l,u);if(c==="string")return hc(l,u);if(c==="Object")return o(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function s(l,u,c){return su(u)&&su(c)?a(l,u.toJSON().values,c.toJSON().values):su(u)?s(l,u.toArray(),c):su(c)?s(l,u,c.toArray()):O0(u)?s(l,u.toJSON().data,c):O0(c)?s(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?a(l,u,c):s(l,u,[c]):s(l,[u],c)}function a(l,u,c){for(var f=0,h=Math.min(u.length,c.length);f<h;f++){var d=l(u[f],c[f]);if(d!==0)return d}return u.length>c.length?1:u.length<c.length?-1:0}function o(l,u,c){var f=Object.keys(u),h=Object.keys(c);f.sort(hc),h.sort(hc);var d=a(l,f,h);if(d!==0)return d;for(var m=0;m<f.length;m++){var p=l(u[f[m]],c[h[m]]);if(p!==0)return p}return 0}});function _pe(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var Tk="compareText",Epe=["typed","matrix","concat"];I_.signature="any, any";var Spe=H(Tk,Epe,t=>{var{typed:e,matrix:r,concat:n}=t,i=Qt({typed:e,matrix:r,concat:n});return e(Tk,I_,i({elop:I_,Ds:!0}))}),Q0="equal",Ape=["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],Npe=H(Q0,Ape,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s,SparseMatrix:a}=t,o=Kn({typed:e}),l=na({typed:e,SparseMatrix:a}),u=Ur({typed:e,DenseMatrix:i}),c=Qt({typed:e,matrix:r,concat:s});return e(Q0,Tpe({typed:e,equalScalar:n}),c({elop:n,SS:l,DS:o,Ss:u}))}),Tpe=H(Q0,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(Q0,{"any, any":function(i,s){return i===null?s===null:s===null?i===null:i===void 0?s===void 0:s===void 0?i===void 0:r(i,s)}})}),Dk="equalText",Dpe=["typed","compareText","isZero"],Cpe=H(Dk,Dpe,t=>{var{typed:e,compareText:r,isZero:n}=t;return e(Dk,{"any, any":function(s,a){return n(r(s,a))}})}),X0="smaller",Mpe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Ipe=H(X0,Mpe,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:s,concat:a,SparseMatrix:o}=t,l=Kn({typed:e}),u=na({typed:e,SparseMatrix:o}),c=Ur({typed:e,DenseMatrix:s}),f=Qt({typed:e,matrix:i,concat:a}),h=Yf({typed:e});function d(m,p){return m.lt(p)&&!Xi(m,p,r.relTol,r.absTol)}return e(X0,Ppe({typed:e,config:r}),{"boolean, boolean":(m,p)=>m<p,"BigNumber, BigNumber":d,"bigint, bigint":(m,p)=>m<p,"Fraction, Fraction":(m,p)=>m.compare(p)===-1,"Fraction, BigNumber":function(p,g){return d(n(p),g)},"BigNumber, Fraction":function(p,g){return d(p,n(g))},"Complex, Complex":function(p,g){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:l,Ss:c}))}),Ppe=H(X0,["typed","config"],t=>{var{typed:e,config:r}=t;return e(X0,{"number, number":function(i,s){return i<s&&!mn(i,s,r.relTol,r.absTol)}})}),J0="smallerEq",kpe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],Rpe=H(J0,kpe,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:s,SparseMatrix:a}=t,o=Kn({typed:e}),l=na({typed:e,SparseMatrix:a}),u=Ur({typed:e,DenseMatrix:i}),c=Qt({typed:e,matrix:n,concat:s}),f=Yf({typed:e});return e(J0,Ope({typed:e,config:r}),{"boolean, boolean":(h,d)=>h<=d,"BigNumber, BigNumber":function(d,m){return d.lte(m)||Xi(d,m,r.relTol,r.absTol)},"bigint, bigint":(h,d)=>h<=d,"Fraction, Fraction":(h,d)=>h.compare(d)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:o,Ss:u}))}),Ope=H(J0,["typed","config"],t=>{var{typed:e,config:r}=t;return e(J0,{"number, number":function(i,s){return i<=s||mn(i,s,r.relTol,r.absTol)}})}),Z0="larger",Fpe=["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],Bpe=H(Z0,Fpe,t=>{var{typed:e,config:r,bignumber:n,matrix:i,DenseMatrix:s,concat:a,SparseMatrix:o}=t,l=Kn({typed:e}),u=na({typed:e,SparseMatrix:o}),c=Ur({typed:e,DenseMatrix:s}),f=Qt({typed:e,matrix:i,concat:a}),h=Yf({typed:e});function d(m,p){return m.gt(p)&&!Xi(m,p,r.relTol,r.absTol)}return e(Z0,Lpe({typed:e,config:r}),{"boolean, boolean":(m,p)=>m>p,"BigNumber, BigNumber":d,"bigint, bigint":(m,p)=>m>p,"Fraction, Fraction":(m,p)=>m.compare(p)===1,"Fraction, BigNumber":function(p,g){return d(n(p),g)},"BigNumber, Fraction":function(p,g){return d(p,n(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:l,Ss:c}))}),Lpe=H(Z0,["typed","config"],t=>{var{typed:e,config:r}=t;return e(Z0,{"number, number":function(i,s){return i>s&&!mn(i,s,r.relTol,r.absTol)}})}),ey="largerEq",Vpe=["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],$pe=H(ey,Vpe,t=>{var{typed:e,config:r,matrix:n,DenseMatrix:i,concat:s,SparseMatrix:a}=t,o=Kn({typed:e}),l=na({typed:e,SparseMatrix:a}),u=Ur({typed:e,DenseMatrix:i}),c=Qt({typed:e,matrix:n,concat:s}),f=Yf({typed:e});return e(ey,zpe({typed:e,config:r}),{"boolean, boolean":(h,d)=>h>=d,"BigNumber, BigNumber":function(d,m){return d.gte(m)||Xi(d,m,r.relTol,r.absTol)},"bigint, bigint":function(d,m){return d>=m},"Fraction, Fraction":(h,d)=>h.compare(d)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,c({SS:l,DS:o,Ss:u}))}),zpe=H(ey,["typed","config"],t=>{var{typed:e,config:r}=t;return e(ey,{"number, number":function(i,s){return i>=s||mn(i,s,r.relTol,r.absTol)}})}),Ck="deepEqual",jpe=["typed","equal"],Upe=H(Ck,jpe,t=>{var{typed:e,equal:r}=t;return e(Ck,{"any, any":function(s,a){return n(s.valueOf(),a.valueOf())}});function n(i,s){if(Array.isArray(i))if(Array.isArray(s)){var a=i.length;if(a!==s.length)return!1;for(var o=0;o<a;o++)if(!n(i[o],s[o]))return!1;return!0}else return!1;else return Array.isArray(s)?!1:r(i,s)}}),ty="unequal",qpe=["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],Hpe=H(ty,qpe,t=>{var{typed:e,config:r,equalScalar:n,matrix:i,DenseMatrix:s,concat:a,SparseMatrix:o}=t,l=Kn({typed:e}),u=na({typed:e,SparseMatrix:o}),c=Ur({typed:e,DenseMatrix:s}),f=Qt({typed:e,matrix:i,concat:a});return e(ty,Wpe({typed:e,equalScalar:n}),f({elop:h,SS:u,DS:l,Ss:c}));function h(d,m){return!n(d,m)}}),Wpe=H(ty,["typed","equalScalar"],t=>{var{typed:e,equalScalar:r}=t;return e(ty,{"any, any":function(i,s){return i===null?s!==null:s===null?i!==null:i===void 0?s!==void 0:s===void 0?i!==void 0:!r(i,s)}})}),Mk="partitionSelect",Gpe=["typed","isNumeric","isNaN","compare"],Kpe=H(Mk,Gpe,t=>{var{typed:e,isNumeric:r,isNaN:n,compare:i}=t,s=i,a=(u,c)=>-i(u,c);return e(Mk,{"Array | Matrix, number":function(c,f){return o(c,f,s)},"Array | Matrix, number, string":function(c,f,h){if(h==="asc")return o(c,f,s);if(h==="desc")return o(c,f,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":o});function o(u,c,f){if(!We(c)||c<0)throw new Error("k must be a non-negative integer");if(Je(u)){var h=u.size();if(h.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,f)}if(Array.isArray(u))return l(u,c,f)}function l(u,c,f){if(c>=u.length)throw new Error("k out of bounds");for(var h=0;h<u.length;h++)if(r(u[h])&&n(u[h]))return u[h];for(var d=0,m=u.length-1;d<m;){for(var p=d,g=m,v=u[Math.floor(Math.random()*(m-d+1))+d];p<g;)if(f(u[p],v)>=0){var b=u[g];u[g]=u[p],u[p]=b,--g}else++p;f(u[p],v)>0&&--p,c<=p?m=p:d=p+1}return u[c]}}),Ik="sort",Ype=["typed","matrix","compare","compareNatural"],Qpe=H(Ik,Ype,t=>{var{typed:e,matrix:r,compare:n,compareNatural:i}=t,s=n,a=(c,f)=>-n(c,f);return e(Ik,{Array:function(f){return l(f),f.sort(s)},Matrix:function(f){return u(f),r(f.toArray().sort(s),f.storage())},"Array, function":function(f,h){return l(f),f.sort(h)},"Matrix, function":function(f,h){return u(f),r(f.toArray().sort(h),f.storage())},"Array, string":function(f,h){return l(f),f.sort(o(h))},"Matrix, string":function(f,h){return u(f),r(f.toArray().sort(o(h)),f.storage())}});function o(c){if(c==="asc")return s;if(c==="desc")return a;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(st(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),Pk="max",Xpe=["typed","config","numeric","larger","isNaN"],m$=H(Pk,Xpe,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:s}=t;return e(Pk,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return k1(u,c.valueOf(),a)},"...":function(u){if(Wf(u))throw new TypeError("Scalar values expected in function max");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(c){throw Hn(c,"max",u)}}function o(l){var u;if(ol(l,function(c){try{(s(c)||u===void 0||i(c,u))&&(u=c)}catch(f){throw Hn(f,"max",c)}}),u===void 0)throw new Error("Cannot calculate max of an empty array");return typeof u=="string"&&(u=n(u,yl(u,r))),u}}),kk="min",Jpe=["typed","config","numeric","smaller","isNaN"],p$=H(kk,Jpe,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:s}=t;return e(kk,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,c){return k1(u,c.valueOf(),a)},"...":function(u){if(Wf(u))throw new TypeError("Scalar values expected in function min");return o(u)}});function a(l,u){try{return i(l,u)?l:u}catch(c){throw Hn(c,"min",u)}}function o(l){var u;if(ol(l,function(c){try{(s(c)||u===void 0||i(c,u))&&(u=c)}catch(f){throw Hn(f,"min",c)}}),u===void 0)throw new Error("Cannot calculate min of an empty array");return typeof u=="string"&&(u=n(u,yl(u,r))),u}}),Zpe="ImmutableDenseMatrix",ege=["smaller","DenseMatrix"],tge=H(Zpe,ege,t=>{var{smaller:e,DenseMatrix:r}=t;function n(i,s){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!Cn(s))throw new Error("Invalid datatype: "+s);if(Je(i)||Ut(i)){var a=new r(i,s);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(i&&Ut(i.data)&&Ut(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Wt(i)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var s=r.prototype.subset.call(this,i);return Je(s)?new n({data:s._data,size:s._size,datatype:s._datatype}):s}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:at(this._data),size:at(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(s){(i===null||e(s,i))&&(i=s)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(s){(i===null||e(i,s))&&(i=s)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),rge="Index",nge=["ImmutableDenseMatrix","getMatrixDataType"],ige=H(rge,nge,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:r}=t;function n(s){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var a=0,o=arguments.length;a<o;a++){var l=arguments[a],u=Ut(l),c=Je(l),f=typeof l,h=null;if(zA(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var d=void 0;r(l)==="boolean"?(u&&(d=i(Rk(l).valueOf())),c&&(d=i(Rk(l._data).valueOf())),h=l.valueOf().length):d=i(l.valueOf()),this._dimensions.push(d);var m=d.size();(m.length!==1||m[0]!==1||h!==null)&&(this._isScalar=!1)}else if(f==="number")this._dimensions.push(i([l]));else if(f==="bigint")this._dimensions.push(i([Number(l)]));else if(f==="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._sourceSize.push(h)}}n.prototype.type="Index",n.prototype.isIndex=!0;function i(s){for(var a=0,o=s.length;a<o;a++)if(typeof s[a]!="number"||!We(s[a]))throw new TypeError("Index parameters must be positive integer numbers");return new e(s)}return n.prototype.clone=function(){var s=new n;return s._dimensions=at(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},n.create=function(s){var a=new n;return n.apply(a,s),a},n.prototype.size=function(){for(var s=[],a=0,o=this._dimensions.length;a<o;a++){var l=this._dimensions[a];s[a]=typeof l=="string"?1:l.size()[0]}return s},n.prototype.max=function(){for(var s=[],a=0,o=this._dimensions.length;a<o;a++){var l=this._dimensions[a];s[a]=typeof l=="string"?l:l.max()}return s},n.prototype.min=function(){for(var s=[],a=0,o=this._dimensions.length;a<o;a++){var l=this._dimensions[a];s[a]=typeof l=="string"?l:l.min()}return s},n.prototype.forEach=function(s){for(var a=0,o=this._dimensions.length;a<o;a++)s(this._dimensions[a],a,this)},n.prototype.dimension=function(s){return typeof s!="number"?null:this._dimensions[s]||null},n.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},n.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},n.prototype.isScalar=function(){return this._isScalar},n.prototype.toArray=function(){for(var s=[],a=0,o=this._dimensions.length;a<o;a++){var l=this._dimensions[a];s.push(typeof l=="string"?l:l.toArray())}return s},n.prototype.valueOf=n.prototype.toArray,n.prototype.toString=function(){for(var s=[],a=0,o=this._dimensions.length;a<o;a++){var l=this._dimensions[a];typeof l=="string"?s.push(JSON.stringify(l)):s.push(l.toString())}return"["+s.join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},n.fromJSON=function(s){return n.create(s.dimensions)},n},{isClass:!0});function Rk(t){var e=[];return t.forEach((r,n)=>{r&&e.push(n)}),e}var sge="FibonacciHeap",age=["smaller","larger"],oge=H(sge,age,t=>{var{smaller:e,larger:r}=t,n=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var h={key:c,value:f,degree:0};if(this._minimum){var d=this._minimum;h.left=d,h.right=d.right,d.right=h,h.right.left=h,e(c,d.key)&&(this._minimum=h)}else h.left=h,h.right=h,this._minimum=h;return this._size++,h},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,h=c.degree,d=c.child;h>0;){var m=d.right;d.left.right=d.right,d.right.left=d.left,d.left=f,d.right=f.right,f.right=d,d.right.left=d,d.parent=null,d=m,h--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=u(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=s(this._minimum,c,-1),this.extractMinimum()};function s(c,f,h){f.key=h;var d=f.parent;return d&&e(f.key,d.key)&&(a(c,f,d),o(c,d)),e(f.key,c.key)&&(c=f),c}function a(c,f,h){f.left.right=f.right,f.right.left=f.left,h.degree--,h.child===f&&(h.child=f.right),h.degree===0&&(h.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function o(c,f){var h=f.parent;h&&(f.mark?(a(c,f,h),o(h)):f.mark=!0)}var l=function(f,h){f.left.right=f.right,f.right.left=f.left,f.parent=h,h.child?(f.left=h.child,f.right=h.child.right,h.child.right=f,f.right.left=f):(h.child=f,f.right=f,f.left=f),h.degree++,f.mark=!1};function u(c,f){var h=Math.floor(Math.log(f)*n)+1,d=new Array(h),m=0,p=c;if(p)for(m++,p=p.right;p!==c;)m++,p=p.right;for(var g;m>0;){for(var v=p.degree,b=p.right;g=d[v],!!g;){if(r(p.key,g.key)){var y=g;g=p,p=y}l(g,p),d[v]=null,v++}d[v]=p,p=b,m--}c=null;for(var x=0;x<h;x++)g=d[x],g&&(c?(g.left.right=g.right,g.right.left=g.left,g.left=c,g.right=c.right,c.right=g,g.right.left=g,e(g.key,c.key)&&(c=g)):c=g);return c}return i},{isClass:!0}),lge="Spa",uge=["addScalar","equalScalar","FibonacciHeap"],cge=H(lge,uge,t=>{var{addScalar:e,equalScalar:r,FibonacciHeap:n}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new n}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(s,a){if(this._values[s])this._values[s].value=a;else{var o=this._heap.insert(s,a);this._values[s]=o}},i.prototype.get=function(s){var a=this._values[s];return a?a.value:0},i.prototype.accumulate=function(s,a){var o=this._values[s];o?o.value=e(o.value,a):(o=this._heap.insert(s,a),this._values[s]=o)},i.prototype.forEach=function(s,a,o){var l=this._heap,u=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=a;)f.key>=s&&(r(f.value,0)||o(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var h=0;h<c.length;h++){var d=c[h];f=l.insert(d.key,d.value),u[f.key]=f}},i.prototype.swap=function(s,a){var o=this._values[s],l=this._values[a];if(!o&&l)o=this._heap.insert(s,l.value),this._heap.remove(l),this._values[s]=o,this._values[a]=void 0;else if(o&&!l)l=this._heap.insert(a,o.value),this._heap.remove(o),this._values[a]=l,this._values[s]=void 0;else if(o&&l){var u=o.value;o.value=l.value,l.value=u}},i},{isClass:!0});function fge(t){var e=0,r=1,n=Object.create(null),i=Object.create(null),s=0,a=function(l){var u=i[l];if(u&&(delete n[u],delete i[l],--e,r===u)){if(!e){s=0,r=1;return}for(;!Object.prototype.hasOwnProperty.call(n,++r););}};return t=Math.abs(t),{hit:function(l){var u=i[l],c=++s;if(n[c]=l,i[l]=c,!u)return++e,e<=t?void 0:(l=n[r],a(l),l);if(delete n[u],r===u)for(;!Object.prototype.hasOwnProperty.call(n,++r););},delete:a,clear:function(){e=s=0,r=1,n=Object.create(null),i=Object.create(null)}}}function Jm(t){var{hasher:e,limit:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return r=r??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function n(){typeof n.cache!="object"&&(n.cache={values:new Map,lru:fge(r||Number.POSITIVE_INFINITY)});for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var a=e(i);if(n.cache.values.has(a))return n.cache.lru.hit(a),n.cache.values.get(a);var o=t.apply(t,i);return n.cache.values.set(a,o),n.cache.values.delete(n.cache.lru.hit(a)),o}}var hge=Jm(function(t){return new t(1).exp()},{hasher:F1}),dge=Jm(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:F1}),r2=Jm(function(t){return t.acos(-1)},{hasher:F1}),mge=Jm(function(t){return r2(t).times(2)},{hasher:F1});function F1(t){return t[0].precision}function Ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ok(Object(r),!0).forEach(function(n){Rr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var pge="Unit",gge=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],vge=H(pge,gge,t=>{var{on:e,config:r,addScalar:n,subtractScalar:i,multiplyScalar:s,divideScalar:a,pow:o,abs:l,fix:u,round:c,equal:f,isNumeric:h,format:d,toBest:m,number:p,Complex:g,BigNumber:v,Fraction:b}=t,y=p;function x(K,te){if(!(this instanceof x))throw new Error("Constructor must be called with the new operator");if(!(K==null||h(K)||Ra(K)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,te===void 0)this.units=[],this.dimensions=q.map(U=>0);else if(typeof te=="string"){var ce=x.parse(te);this.units=ce.units,this.dimensions=ce.dimensions}else if(yi(te)&&te.value===null)this.fixPrefix=te.fixPrefix,this.skipAutomaticSimplification=te.skipAutomaticSimplification,this.dimensions=te.dimensions.slice(0),this.units=te.units.map(U=>Lr({},U));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(K)}Object.defineProperty(x,"name",{value:"Unit"}),x.prototype.constructor=x,x.prototype.type="Unit",x.prototype.isUnit=!0;var w,E,S;function A(){for(;S===" "||S==="	";)C()}function N(K){return K>="0"&&K<="9"||K==="."}function D(K){return K>="0"&&K<="9"}function C(){E++,S=w.charAt(E)}function M(K){E=K,S=w.charAt(E)}function I(){var K="",te=E;if(S==="+"?C():S==="-"&&(K+=S,C()),!N(S))return M(te),null;if(S==="."){if(K+=S,C(),!D(S))return M(te),null}else{for(;D(S);)K+=S,C();S==="."&&(K+=S,C())}for(;D(S);)K+=S,C();if(S==="E"||S==="e"){var ce="",U=E;if(ce+=S,C(),(S==="+"||S==="-")&&(ce+=S,C()),!D(S))return M(U),K;for(K=K+ce;D(S);)K+=S,C()}return K}function z(){for(var K="";D(S)||x.isValidAlpha(S);)K+=S,C();var te=K.charAt(0);return x.isValidAlpha(te)?K:null}function V(K){return S===K?(C(),K):null}x.parse=function(K,te){if(te=te||{},w=K,E=-1,S="",typeof w!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var ce=new x;ce.units=[];var U=1,Q=!1;C(),A();var re=I(),ae=null;if(re){if(r.number==="BigNumber")ae=new v(re);else if(r.number==="Fraction")try{ae=new b(re)}catch{ae=parseFloat(re)}else ae=parseFloat(re);A(),V("*")?(U=1,Q=!0):V("/")&&(U=-1,Q=!0)}for(var le=[],ge=1;;){for(A();S==="(";)le.push(U),ge*=U,U=1,C(),A();var Se=void 0;if(S){var Te=S;if(Se=z(),Se===null)throw new SyntaxError('Unexpected "'+Te+'" in "'+w+'" at index '+E.toString())}else break;var Ce=k(Se);if(Ce===null)throw new SyntaxError('Unit "'+Se+'" not found.');var Ae=U*ge;if(A(),V("^")){A();var yt=I();if(yt===null)throw new SyntaxError('In "'+K+'", "^" must be followed by a floating-point number');Ae*=yt}ce.units.push({unit:Ce.unit,prefix:Ce.prefix,power:Ae});for(var Ge=0;Ge<q.length;Ge++)ce.dimensions[Ge]+=(Ce.unit.dimensions[Ge]||0)*Ae;for(A();S===")";){if(le.length===0)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+E.toString());ge/=le.pop(),C(),A()}if(Q=!1,V("*")?(U=1,Q=!0):V("/")?(U=-1,Q=!0):U=1,Ce.unit.base){var Rt=Ce.unit.base.key;se.auto[Rt]={unit:Ce.unit,prefix:Ce.prefix}}}if(A(),S)throw new SyntaxError('Could not parse: "'+K+'"');if(Q)throw new SyntaxError('Trailing characters: "'+K+'"');if(le.length!==0)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(ce.units.length===0&&!te.allowNoUnits)throw new SyntaxError('"'+K+'" contains no units');return ce.value=ae!==void 0?ce._normalize(ae):null,ce},x.prototype.clone=function(){var K=new x;K.fixPrefix=this.fixPrefix,K.skipAutomaticSimplification=this.skipAutomaticSimplification,K.value=at(this.value),K.dimensions=this.dimensions.slice(0),K.units=[];for(var te=0;te<this.units.length;te++){K.units[te]={};for(var ce in this.units[te])qe(this.units[te],ce)&&(K.units[te][ce]=this.units[te][ce])}return K},x.prototype.valueType=function(){return Wt(this.value)},x.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},x.prototype._normalize=function(K){if(K==null||this.units.length===0)return K;for(var te=K,ce=x._getNumberConverter(Wt(K)),U=0;U<this.units.length;U++){var Q=ce(this.units[U].unit.value),re=ce(this.units[U].prefix.value),ae=ce(this.units[U].power);te=s(te,o(s(Q,re),ae))}return te},x.prototype._denormalize=function(K,te){if(K==null||this.units.length===0)return K;for(var ce=K,U=x._getNumberConverter(Wt(K)),Q=0;Q<this.units.length;Q++){var re=U(this.units[Q].unit.value),ae=U(this.units[Q].prefix.value),le=U(this.units[Q].power);ce=a(ce,o(s(re,ae),le))}return ce};var k=Jm(K=>{if(qe(W,K)){var te=W[K],ce=te.prefixes[""];return{unit:te,prefix:ce}}for(var U in W)if(qe(W,U)&&Eue(K,U)){var Q=W[U],re=K.length-U.length,ae=K.substring(0,re),le=qe(Q.prefixes,ae)?Q.prefixes[ae]:void 0;if(le!==void 0)return{unit:Q,prefix:le}}return null},{hasher:K=>K[0],limit:100});x.isValuelessUnit=function(K){return k(K)!==null},x.prototype.hasBase=function(K){if(typeof K=="string"&&(K=j[K]),!K)return!1;for(var te=0;te<q.length;te++)if(Math.abs((this.dimensions[te]||0)-(K.dimensions[te]||0))>1e-12)return!1;return!0},x.prototype.equalBase=function(K){for(var te=0;te<q.length;te++)if(Math.abs((this.dimensions[te]||0)-(K.dimensions[te]||0))>1e-12)return!1;return!0},x.prototype.equals=function(K){return this.equalBase(K)&&f(this.value,K.value)},x.prototype.multiply=function(K){for(var te=this.clone(),ce=yi(K)?K:new x(K),U=0;U<q.length;U++)te.dimensions[U]=(this.dimensions[U]||0)+(ce.dimensions[U]||0);for(var Q=0;Q<ce.units.length;Q++){var re=bb({},ce.units[Q]);te.units.push(re)}if(this.value!==null||ce.value!==null){var ae=this.value===null?this._normalize(B(ce.value)):this.value,le=ce.value===null?ce._normalize(B(this.value)):ce.value;te.value=s(ae,le)}else te.value=null;return yi(K)&&(te.skipAutomaticSimplification=!1),L(te)},x.prototype.divideInto=function(K){return new x(K).divide(this)},x.prototype.divide=function(K){for(var te=this.clone(),ce=yi(K)?K:new x(K),U=0;U<q.length;U++)te.dimensions[U]=(this.dimensions[U]||0)-(ce.dimensions[U]||0);for(var Q=0;Q<ce.units.length;Q++){var re=bb(bb({},ce.units[Q]),{},{power:-ce.units[Q].power});te.units.push(re)}if(this.value!==null||ce.value!==null){var ae=this.value===null?this._normalize(B(ce.value)):this.value,le=ce.value===null?ce._normalize(B(this.value)):ce.value;te.value=a(ae,le)}else te.value=null;return yi(K)&&(te.skipAutomaticSimplification=!1),L(te)},x.prototype.pow=function(K){for(var te=this.clone(),ce=0;ce<q.length;ce++)te.dimensions[ce]=(this.dimensions[ce]||0)*K;for(var U=0;U<te.units.length;U++)te.units[U].power*=K;return te.value!==null?te.value=o(te.value,K):te.value=null,te.skipAutomaticSimplification=!1,L(te)};function L(K){return K.equalBase(j.NONE)&&K.value!==null&&!r.predictable?K.value:K}function B(K){var te=x._getNumberConverter(Wt(K));return te(1)}x.prototype.abs=function(){var K=this.clone();if(K.value!==null)if(K._isDerived()||K.units.length===0||K.units[0].unit.offset===0)K.value=l(K.value);else{var te=K._numberConverter(),ce=te(K.units[0].unit.value),U=te(K.units[0].unit.offset),Q=s(ce,U);K.value=i(l(n(K.value,Q)),Q)}for(var re in K.units)(K.units[re].unit.name==="VA"||K.units[re].unit.name==="VAR")&&(K.units[re].unit=W.W);return K},x.prototype.to=function(K){var te=this.value===null?this._normalize(1):this.value,ce;if(typeof K=="string")ce=x.parse(K);else if(yi(K))ce=K.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(ce))throw new Error("Units do not match ('".concat(ce.toString(),"' != '").concat(this.toString(),"')"));if(ce.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||ce.units.length===0||this.units[0].unit.offset===ce.units[0].unit.offset)ce.value=at(te);else{var U=x._getNumberConverter(Wt(te)),Q=this.units[0].unit.value,re=this.units[0].unit.offset,ae=s(Q,re),le=ce.units[0].unit.value,ge=ce.units[0].unit.offset,Se=s(le,ge);ce.value=n(te,U(i(ae,Se)))}return ce.fixPrefix=!0,ce.skipAutomaticSimplification=!0,ce},x.prototype.toNumber=function(K){return y(this.toNumeric(K))},x.prototype.toNumeric=function(K){var te;return K?te=this.to(K):te=this.clone(),te._isDerived()||te.units.length===0?te._denormalize(te.value):te._denormalize(te.value,te.units[0].prefix.value)},x.prototype.toString=function(){return this.format()},x.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},x.fromJSON=function(K){var te,ce=new x(K.value,(te=K.unit)!==null&&te!==void 0?te:void 0);return ce.fixPrefix=K.fixPrefix||!1,ce},x.prototype.valueOf=x.prototype.toString,x.prototype.simplify=function(){var K=this.clone(),te=[],ce;for(var U in oe)if(qe(oe,U)&&K.hasBase(j[U])){ce=U;break}if(ce==="NONE")K.units=[];else{var Q;if(ce&&qe(oe,ce)&&(Q=oe[ce]),Q)K.units=[{unit:Q.unit,prefix:Q.prefix,power:1}];else{for(var re=!1,ae=0;ae<q.length;ae++){var le=q[ae];Math.abs(K.dimensions[ae]||0)>1e-12&&(qe(oe,le)?te.push({unit:oe[le].unit,prefix:oe[le].prefix,power:K.dimensions[ae]||0}):re=!0)}te.length<K.units.length&&!re&&(K.units=te)}}return K},x.prototype.toSI=function(){for(var K=this.clone(),te=[],ce=0;ce<q.length;ce++){var U=q[ce];if(Math.abs(K.dimensions[ce]||0)>1e-12)if(qe(se.si,U))te.push({unit:se.si[U].unit,prefix:se.si[U].prefix,power:K.dimensions[ce]||0});else throw new Error("Cannot express custom unit "+U+" in SI units")}return K.units=te,K.fixPrefix=!0,K.skipAutomaticSimplification=!0,this.value!==null?(K.value=null,this.to(K)):K},x.prototype.formatUnits=function(){for(var K="",te="",ce=0,U=0,Q=0;Q<this.units.length;Q++)this.units[Q].power>0?(ce++,K+=" "+this.units[Q].prefix.name+this.units[Q].unit.name,Math.abs(this.units[Q].power-1)>1e-15&&(K+="^"+this.units[Q].power)):this.units[Q].power<0&&U++;if(U>0)for(var re=0;re<this.units.length;re++)this.units[re].power<0&&(ce>0?(te+=" "+this.units[re].prefix.name+this.units[re].unit.name,Math.abs(this.units[re].power+1)>1e-15&&(te+="^"+-this.units[re].power)):(te+=" "+this.units[re].prefix.name+this.units[re].unit.name,te+="^"+this.units[re].power));K=K.substr(1),te=te.substr(1),ce>1&&U>0&&(K="("+K+")"),U>1&&ce>0&&(te="("+te+")");var ae=K;return ce>0&&U>0&&(ae+=" / "),ae+=te,ae},x.prototype.toBest=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(K&&!Array.isArray(K))throw new Error("Invalid unit type. Expected string or Unit.");var ce=this.units[0].unit.prefixes;if(K&&K.length>0){var U=K.map(ae=>{var le=null;if(typeof ae=="string"){if(le=x.parse(ae),!le)throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!yi(ae))throw new Error("Invalid unit type. Expected compatible string or Unit.");le===null&&(le=ae.clone());try{return this.to(le.formatUnits()),le}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}),Q=U.map(ae=>ae.units[0].prefix);this.units[0].unit.prefixes=Q.reduce((ae,le)=>(ae[le.name]=le,ae),{}),this.units[0].prefix=Q[0]}var re=$(this,te).simp;return this.units[0].unit.prefixes=ce,re.fixPrefix=!0,re},x.prototype.format=function(K){var{simp:te,valueStr:ce,unitStr:U}=$(this,K),Q=ce;return te.value&&Ra(te.value)&&(Q="("+Q+")"),U.length>0&&Q.length>0&&(Q+=" "),Q+=U,Q};function $(K){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=K.skipAutomaticSimplification||K.value===null?K.clone():K.simplify();Y(ce),ie(ce,te.offset);var U=ce._denormalize(ce.value),Q=ce.value!==null?d(U,te||{}):"",re=ce.formatUnits();return{simp:ce,valueStr:Q,unitStr:re}}function Y(K){var te=!1;typeof K.value<"u"&&K.value!==null&&Ra(K.value)&&(te=Math.abs(K.value.re)<1e-14);for(var ce in K.units)qe(K.units,ce)&&K.units[ce].unit&&(K.units[ce].unit.name==="VA"&&te?K.units[ce].unit=W.VAR:K.units[ce].unit.name==="VAR"&&!te&&(K.units[ce].unit=W.VA))}function ie(K,te){K.units.length===1&&!K.fixPrefix&&Math.abs(K.units[0].power-Math.round(K.units[0].power))<1e-14&&(K.units[0].prefix=K._bestPrefix(te))}x.prototype._bestPrefix=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1.2;if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var te=this.value!==null?l(this.value):0,ce=l(this.units[0].unit.value),U=this.units[0].prefix;if(te===0)return U;var Q=this.units[0].power,re=Math.log(te/Math.pow(U.value*ce,Q))/Math.LN10-K;if(re>-2.200001&&re<1.800001)return U;re=Math.abs(re);var ae=this.units[0].unit.prefixes;for(var le in ae)if(qe(ae,le)){var ge=ae[le];if(ge.scientific){var Se=Math.abs(Math.log(te/Math.pow(ge.value*ce,Q))/Math.LN10-K);(Se<re||Se===re&&ge.name.length<U.name.length)&&(U=ge,re=Se)}}return U},x.prototype.splitUnit=function(K){for(var te=this.clone(),ce=[],U=0;U<K.length&&(te=te.to(K[U]),U!==K.length-1);U++){var Q=te.toNumeric(),re=c(Q),ae=void 0,le=f(re,Q);le?ae=re:ae=u(te.toNumeric());var ge=new x(ae,K[U].toString());ce.push(ge),te=i(te,ge)}for(var Se=0,Te=0;Te<ce.length;Te++)Se=n(Se,ce[Te].value);return f(Se,this.value)&&(te.value=0),ce.push(te),ce};var O={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};O.SHORTLONG=Lr({},O.SHORT,O.LONG),O.BINARY_SHORT=Lr({},O.BINARY_SHORT_SI,O.BINARY_SHORT_IEC),O.BINARY_LONG=Lr({},O.BINARY_LONG_SI,O.BINARY_LONG_IEC);var q=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],j={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var me in j)qe(j,me)&&(j[me].key=me);var ue={},fe={name:"",base:ue,value:1,offset:0,dimensions:q.map(K=>0)},W={meter:{name:"meter",base:j.LENGTH,prefixes:O.LONG,value:1,offset:0},inch:{name:"inch",base:j.LENGTH,prefixes:O.NONE,value:.0254,offset:0},foot:{name:"foot",base:j.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yard:{name:"yard",base:j.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mile:{name:"mile",base:j.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},link:{name:"link",base:j.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rod:{name:"rod",base:j.LENGTH,prefixes:O.NONE,value:5.0292,offset:0},chain:{name:"chain",base:j.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:j.LENGTH,prefixes:O.NONE,value:1e-10,offset:0},m:{name:"m",base:j.LENGTH,prefixes:O.SHORT,value:1,offset:0},in:{name:"in",base:j.LENGTH,prefixes:O.NONE,value:.0254,offset:0},ft:{name:"ft",base:j.LENGTH,prefixes:O.NONE,value:.3048,offset:0},yd:{name:"yd",base:j.LENGTH,prefixes:O.NONE,value:.9144,offset:0},mi:{name:"mi",base:j.LENGTH,prefixes:O.NONE,value:1609.344,offset:0},li:{name:"li",base:j.LENGTH,prefixes:O.NONE,value:.201168,offset:0},rd:{name:"rd",base:j.LENGTH,prefixes:O.NONE,value:5.02921,offset:0},ch:{name:"ch",base:j.LENGTH,prefixes:O.NONE,value:20.1168,offset:0},mil:{name:"mil",base:j.LENGTH,prefixes:O.NONE,value:254e-7,offset:0},m2:{name:"m2",base:j.SURFACE,prefixes:O.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:j.SURFACE,prefixes:O.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:j.SURFACE,prefixes:O.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:j.SURFACE,prefixes:O.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:j.SURFACE,prefixes:O.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:j.SURFACE,prefixes:O.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:j.SURFACE,prefixes:O.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:j.SURFACE,prefixes:O.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:j.SURFACE,prefixes:O.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:j.SURFACE,prefixes:O.NONE,value:1e4,offset:0},m3:{name:"m3",base:j.VOLUME,prefixes:O.CUBIC,value:1,offset:0},L:{name:"L",base:j.VOLUME,prefixes:O.SHORT,value:.001,offset:0},l:{name:"l",base:j.VOLUME,prefixes:O.SHORT,value:.001,offset:0},litre:{name:"litre",base:j.VOLUME,prefixes:O.LONG,value:.001,offset:0},cuin:{name:"cuin",base:j.VOLUME,prefixes:O.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:j.VOLUME,prefixes:O.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:j.VOLUME,prefixes:O.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:j.VOLUME,prefixes:O.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:j.VOLUME,prefixes:O.NONE,value:15e-6,offset:0},drop:{name:"drop",base:j.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:j.VOLUME,prefixes:O.NONE,value:5e-8,offset:0},minim:{name:"minim",base:j.VOLUME,prefixes:O.NONE,value:61611519921875e-21,offset:0},fluiddram:{name:"fluiddram",base:j.VOLUME,prefixes:O.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:j.VOLUME,prefixes:O.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:j.VOLUME,prefixes:O.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:j.VOLUME,prefixes:O.NONE,value:1e-6,offset:0},cup:{name:"cup",base:j.VOLUME,prefixes:O.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:j.VOLUME,prefixes:O.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:j.VOLUME,prefixes:O.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:j.VOLUME,prefixes:O.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:j.VOLUME,prefixes:O.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:j.VOLUME,prefixes:O.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:j.VOLUME,prefixes:O.NONE,value:.238480942392,offset:0},g:{name:"g",base:j.MASS,prefixes:O.SHORT,value:.001,offset:0},gram:{name:"gram",base:j.MASS,prefixes:O.LONG,value:.001,offset:0},ton:{name:"ton",base:j.MASS,prefixes:O.SHORT,value:907.18474,offset:0},t:{name:"t",base:j.MASS,prefixes:O.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:j.MASS,prefixes:O.LONG,value:1e3,offset:0},grain:{name:"grain",base:j.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:j.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:j.MASS,prefixes:O.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:j.MASS,prefixes:O.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:j.MASS,prefixes:O.NONE,value:45.359237,offset:0},stick:{name:"stick",base:j.MASS,prefixes:O.NONE,value:.115,offset:0},stone:{name:"stone",base:j.MASS,prefixes:O.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:j.MASS,prefixes:O.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:j.MASS,prefixes:O.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:j.MASS,prefixes:O.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:j.MASS,prefixes:O.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:j.MASS,prefixes:O.NONE,value:45.359237,offset:0},s:{name:"s",base:j.TIME,prefixes:O.SHORT,value:1,offset:0},min:{name:"min",base:j.TIME,prefixes:O.NONE,value:60,offset:0},h:{name:"h",base:j.TIME,prefixes:O.NONE,value:3600,offset:0},second:{name:"second",base:j.TIME,prefixes:O.LONG,value:1,offset:0},sec:{name:"sec",base:j.TIME,prefixes:O.LONG,value:1,offset:0},minute:{name:"minute",base:j.TIME,prefixes:O.NONE,value:60,offset:0},hour:{name:"hour",base:j.TIME,prefixes:O.NONE,value:3600,offset:0},day:{name:"day",base:j.TIME,prefixes:O.NONE,value:86400,offset:0},week:{name:"week",base:j.TIME,prefixes:O.NONE,value:7*86400,offset:0},month:{name:"month",base:j.TIME,prefixes:O.NONE,value:2629800,offset:0},year:{name:"year",base:j.TIME,prefixes:O.NONE,value:31557600,offset:0},decade:{name:"decade",base:j.TIME,prefixes:O.NONE,value:315576e3,offset:0},century:{name:"century",base:j.TIME,prefixes:O.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:j.TIME,prefixes:O.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:j.FREQUENCY,prefixes:O.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:j.FREQUENCY,prefixes:O.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:j.ANGLE,prefixes:O.SHORT,value:1,offset:0},radian:{name:"radian",base:j.ANGLE,prefixes:O.LONG,value:1,offset:0},deg:{name:"deg",base:j.ANGLE,prefixes:O.SHORT,value:null,offset:0},degree:{name:"degree",base:j.ANGLE,prefixes:O.LONG,value:null,offset:0},grad:{name:"grad",base:j.ANGLE,prefixes:O.SHORT,value:null,offset:0},gradian:{name:"gradian",base:j.ANGLE,prefixes:O.LONG,value:null,offset:0},cycle:{name:"cycle",base:j.ANGLE,prefixes:O.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:j.ANGLE,prefixes:O.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:j.ANGLE,prefixes:O.NONE,value:null,offset:0},A:{name:"A",base:j.CURRENT,prefixes:O.SHORT,value:1,offset:0},ampere:{name:"ampere",base:j.CURRENT,prefixes:O.LONG,value:1,offset:0},K:{name:"K",base:j.TEMPERATURE,prefixes:O.SHORT,value:1,offset:0},degC:{name:"degC",base:j.TEMPERATURE,prefixes:O.SHORT,value:1,offset:273.15},degF:{name:"degF",base:j.TEMPERATURE,prefixes:O.SHORT,value:new b(5,9),offset:459.67},degR:{name:"degR",base:j.TEMPERATURE,prefixes:O.SHORT,value:new b(5,9),offset:0},kelvin:{name:"kelvin",base:j.TEMPERATURE,prefixes:O.LONG,value:1,offset:0},celsius:{name:"celsius",base:j.TEMPERATURE,prefixes:O.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:j.TEMPERATURE,prefixes:O.LONG,value:new b(5,9),offset:459.67},rankine:{name:"rankine",base:j.TEMPERATURE,prefixes:O.LONG,value:new b(5,9),offset:0},mol:{name:"mol",base:j.AMOUNT_OF_SUBSTANCE,prefixes:O.SHORT,value:1,offset:0},mole:{name:"mole",base:j.AMOUNT_OF_SUBSTANCE,prefixes:O.LONG,value:1,offset:0},cd:{name:"cd",base:j.LUMINOUS_INTENSITY,prefixes:O.SHORT,value:1,offset:0},candela:{name:"candela",base:j.LUMINOUS_INTENSITY,prefixes:O.LONG,value:1,offset:0},N:{name:"N",base:j.FORCE,prefixes:O.SHORT,value:1,offset:0},newton:{name:"newton",base:j.FORCE,prefixes:O.LONG,value:1,offset:0},dyn:{name:"dyn",base:j.FORCE,prefixes:O.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:j.FORCE,prefixes:O.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:j.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:j.FORCE,prefixes:O.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:j.FORCE,prefixes:O.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:j.FORCE,prefixes:O.NONE,value:9.80665,offset:0},J:{name:"J",base:j.ENERGY,prefixes:O.SHORT,value:1,offset:0},joule:{name:"joule",base:j.ENERGY,prefixes:O.LONG,value:1,offset:0},erg:{name:"erg",base:j.ENERGY,prefixes:O.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:j.ENERGY,prefixes:O.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:j.ENERGY,prefixes:O.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:j.ENERGY,prefixes:O.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:j.ENERGY,prefixes:O.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:j.POWER,prefixes:O.SHORT,value:1,offset:0},watt:{name:"watt",base:j.POWER,prefixes:O.LONG,value:1,offset:0},hp:{name:"hp",base:j.POWER,prefixes:O.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:j.POWER,prefixes:O.SHORT,value:g.I,offset:0},VA:{name:"VA",base:j.POWER,prefixes:O.SHORT,value:1,offset:0},Pa:{name:"Pa",base:j.PRESSURE,prefixes:O.SHORT,value:1,offset:0},psi:{name:"psi",base:j.PRESSURE,prefixes:O.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:j.PRESSURE,prefixes:O.NONE,value:101325,offset:0},bar:{name:"bar",base:j.PRESSURE,prefixes:O.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:j.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:j.PRESSURE,prefixes:O.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:j.PRESSURE,prefixes:O.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:j.PRESSURE,prefixes:O.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:j.ELECTRIC_CHARGE,prefixes:O.LONG,value:1,offset:0},C:{name:"C",base:j.ELECTRIC_CHARGE,prefixes:O.SHORT,value:1,offset:0},farad:{name:"farad",base:j.ELECTRIC_CAPACITANCE,prefixes:O.LONG,value:1,offset:0},F:{name:"F",base:j.ELECTRIC_CAPACITANCE,prefixes:O.SHORT,value:1,offset:0},volt:{name:"volt",base:j.ELECTRIC_POTENTIAL,prefixes:O.LONG,value:1,offset:0},V:{name:"V",base:j.ELECTRIC_POTENTIAL,prefixes:O.SHORT,value:1,offset:0},ohm:{name:"ohm",base:j.ELECTRIC_RESISTANCE,prefixes:O.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:j.ELECTRIC_INDUCTANCE,prefixes:O.LONG,value:1,offset:0},H:{name:"H",base:j.ELECTRIC_INDUCTANCE,prefixes:O.SHORT,value:1,offset:0},siemens:{name:"siemens",base:j.ELECTRIC_CONDUCTANCE,prefixes:O.LONG,value:1,offset:0},S:{name:"S",base:j.ELECTRIC_CONDUCTANCE,prefixes:O.SHORT,value:1,offset:0},weber:{name:"weber",base:j.MAGNETIC_FLUX,prefixes:O.LONG,value:1,offset:0},Wb:{name:"Wb",base:j.MAGNETIC_FLUX,prefixes:O.SHORT,value:1,offset:0},tesla:{name:"tesla",base:j.MAGNETIC_FLUX_DENSITY,prefixes:O.LONG,value:1,offset:0},T:{name:"T",base:j.MAGNETIC_FLUX_DENSITY,prefixes:O.SHORT,value:1,offset:0},b:{name:"b",base:j.BIT,prefixes:O.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:j.BIT,prefixes:O.BINARY_LONG,value:1,offset:0},B:{name:"B",base:j.BIT,prefixes:O.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:j.BIT,prefixes:O.BINARY_LONG,value:8,offset:0}},X={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ee(K){if(K.number==="BigNumber"){var te=r2(v);W.rad.value=new v(1),W.deg.value=te.div(180),W.grad.value=te.div(200),W.cycle.value=te.times(2),W.arcsec.value=te.div(648e3),W.arcmin.value=te.div(10800)}else W.rad.value=1,W.deg.value=Math.PI/180,W.grad.value=Math.PI/200,W.cycle.value=Math.PI*2,W.arcsec.value=Math.PI/648e3,W.arcmin.value=Math.PI/10800;W.radian.value=W.rad.value,W.degree.value=W.deg.value,W.gradian.value=W.grad.value}ee(r),e&&e("config",function(K,te){K.number!==te.number&&ee(K)});var se={si:{NONE:{unit:fe,prefix:O.NONE[""]},LENGTH:{unit:W.m,prefix:O.SHORT[""]},MASS:{unit:W.g,prefix:O.SHORT.k},TIME:{unit:W.s,prefix:O.SHORT[""]},CURRENT:{unit:W.A,prefix:O.SHORT[""]},TEMPERATURE:{unit:W.K,prefix:O.SHORT[""]},LUMINOUS_INTENSITY:{unit:W.cd,prefix:O.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:W.mol,prefix:O.SHORT[""]},ANGLE:{unit:W.rad,prefix:O.SHORT[""]},BIT:{unit:W.bits,prefix:O.SHORT[""]},FORCE:{unit:W.N,prefix:O.SHORT[""]},ENERGY:{unit:W.J,prefix:O.SHORT[""]},POWER:{unit:W.W,prefix:O.SHORT[""]},PRESSURE:{unit:W.Pa,prefix:O.SHORT[""]},ELECTRIC_CHARGE:{unit:W.C,prefix:O.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:W.F,prefix:O.SHORT[""]},ELECTRIC_POTENTIAL:{unit:W.V,prefix:O.SHORT[""]},ELECTRIC_RESISTANCE:{unit:W.ohm,prefix:O.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:W.H,prefix:O.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:W.S,prefix:O.SHORT[""]},MAGNETIC_FLUX:{unit:W.Wb,prefix:O.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:W.T,prefix:O.SHORT[""]},FREQUENCY:{unit:W.Hz,prefix:O.SHORT[""]}}};se.cgs=JSON.parse(JSON.stringify(se.si)),se.cgs.LENGTH={unit:W.m,prefix:O.SHORT.c},se.cgs.MASS={unit:W.g,prefix:O.SHORT[""]},se.cgs.FORCE={unit:W.dyn,prefix:O.SHORT[""]},se.cgs.ENERGY={unit:W.erg,prefix:O.NONE[""]},se.us=JSON.parse(JSON.stringify(se.si)),se.us.LENGTH={unit:W.ft,prefix:O.NONE[""]},se.us.MASS={unit:W.lbm,prefix:O.NONE[""]},se.us.TEMPERATURE={unit:W.degF,prefix:O.NONE[""]},se.us.FORCE={unit:W.lbf,prefix:O.NONE[""]},se.us.ENERGY={unit:W.BTU,prefix:O.BTU[""]},se.us.POWER={unit:W.hp,prefix:O.NONE[""]},se.us.PRESSURE={unit:W.psi,prefix:O.NONE[""]},se.auto=JSON.parse(JSON.stringify(se.si));var oe=se.auto;x.setUnitSystem=function(K){if(qe(se,K))oe=se[K];else throw new Error("Unit system "+K+" does not exist. Choices are: "+Object.keys(se).join(", "))},x.getUnitSystem=function(){for(var K in se)if(qe(se,K)&&se[K]===oe)return K},x.typeConverters={BigNumber:function(te){return te!=null&&te.isFraction?new v(String(te.n)).div(String(te.d)).times(String(te.s)):new v(te+"")},Fraction:function(te){return new b(te)},Complex:function(te){return te},number:function(te){return te!=null&&te.isFraction?p(te):te}},x.prototype._numberConverter=function(){var K=x.typeConverters[this.valueType()];if(K)return K;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},x._getNumberConverter=function(K){if(!x.typeConverters[K])throw new TypeError('Unsupported type "'+K+'"');return x.typeConverters[K]};for(var ve in W)if(qe(W,ve)){var pe=W[ve];pe.dimensions=pe.base.dimensions}for(var De in X)if(qe(X,De)){var Be=W[X[De]],ze={};for(var ke in Be)qe(Be,ke)&&(ze[ke]=Be[ke]);ze.name=De,W[De]=ze}x.isValidAlpha=function(te){return/^[a-zA-Z]$/.test(te)};function He(K){for(var te=0;te<K.length;te++){if(S=K.charAt(te),te===0&&!x.isValidAlpha(S))throw new Error('Invalid unit name (must begin with alpha character): "'+K+'"');if(te>0&&!(x.isValidAlpha(S)||D(S)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+K+'"')}}return x.createUnit=function(K,te){if(typeof K!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(te&&te.override){for(var ce in K)if(qe(K,ce)&&x.deleteUnit(ce),K[ce].aliases)for(var U=0;U<K[ce].aliases.length;U++)x.deleteUnit(K[ce].aliases[U])}var Q;for(var re in K)qe(K,re)&&(Q=x.createUnitSingle(re,K[re]));return Q},x.createUnitSingle=function(K,te){if((typeof te>"u"||te===null)&&(te={}),typeof K!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(qe(W,K))throw new Error('Cannot create unit "'+K+'": a unit with that name already exists');He(K);var ce=null,U=[],Q=0,re,ae,le;if(te&&te.type==="Unit")ce=te.clone();else if(typeof te=="string")te!==""&&(re=te);else if(typeof te=="object")re=te.definition,ae=te.prefixes,Q=te.offset,le=te.baseName,te.aliases&&(U=te.aliases.valueOf());else throw new TypeError('Cannot create unit "'+K+'" from "'+te.toString()+'": expecting "string" or "Unit" or "Object"');if(U){for(var ge=0;ge<U.length;ge++)if(qe(W,U[ge]))throw new Error('Cannot create alias "'+U[ge]+'": a unit with that name already exists')}if(re&&typeof re=="string"&&!ce)try{ce=x.parse(re,{allowNoUnits:!0})}catch(cr){throw cr.message='Could not create unit "'+K+'" from "'+re+'": '+cr.message,cr}else re&&re.type==="Unit"&&(ce=re.clone());U=U||[],Q=Q||0,ae&&ae.toUpperCase?ae=O[ae.toUpperCase()]||O.NONE:ae=O.NONE;var Se={};if(ce){Se={name:K,value:ce.value,dimensions:ce.dimensions.slice(0),prefixes:ae,offset:Q};var yt=!1;for(var Ge in j)if(qe(j,Ge)){for(var Rt=!0,R=0;R<q.length;R++)if(Math.abs((Se.dimensions[R]||0)-(j[Ge].dimensions[R]||0))>1e-12){Rt=!1;break}if(Rt){yt=!0,Se.base=j[Ge];break}}if(!yt){le=le||K+"_STUFF";var Z={dimensions:ce.dimensions.slice(0)};Z.key=le,j[le]=Z,oe[le]={unit:Se,prefix:O.NONE[""]},Se.base=j[le]}}else{if(le=le||K+"_STUFF",q.indexOf(le)>=0)throw new Error('Cannot create new base unit "'+K+'": a base unit with that name already exists (and cannot be overridden)');q.push(le);for(var Te in j)qe(j,Te)&&(j[Te].dimensions[q.length-1]=0);for(var Ce={dimensions:[]},Ae=0;Ae<q.length;Ae++)Ce.dimensions[Ae]=0;Ce.dimensions[q.length-1]=1,Ce.key=le,j[le]=Ce,Se={name:K,value:1,dimensions:j[le].dimensions.slice(0),prefixes:ae,offset:Q,base:j[le]},oe[le]={unit:Se,prefix:O.NONE[""]}}x.UNITS[K]=Se;for(var de=0;de<U.length;de++){var _e=U[de],Ye={};for(var Xe in Se)qe(Se,Xe)&&(Ye[Xe]=Se[Xe]);Ye.name=_e,x.UNITS[_e]=Ye}return delete k.cache,new x(null,K)},x.deleteUnit=function(K){delete x.UNITS[K],delete k.cache},x.PREFIXES=O,x.BASE_DIMENSIONS=q,x.BASE_UNITS=j,x.UNIT_SYSTEMS=se,x.UNITS=W,x},{isClass:!0}),Fk="unit",yge=["typed","Unit"],xge=H(Fk,yge,t=>{var{typed:e,Unit:r}=t;return e(Fk,{Unit:function(i){return i.clone()},string:function(i){return r.isValuelessUnit(i)?new r(null,i):r.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,s){return new r(i,s)},"number | BigNumber | Fraction":function(i){return new r(i)},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),Bk="sparse",bge=["typed","SparseMatrix"],wge=H(Bk,bge,t=>{var{typed:e,SparseMatrix:r}=t;return e(Bk,{"":function(){return new r([])},string:function(i){return new r([],i)},"Array | Matrix":function(i){return new r(i)},"Array | Matrix, string":function(i,s){return new r(i,s)}})}),Lk="createUnit",_ge=["typed","Unit"],Ege=H(Lk,_ge,t=>{var{typed:e,Unit:r}=t;return e(Lk,{"Object, Object":function(i,s){return r.createUnit(i,s)},Object:function(i){return r.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,s,a){var o={};return o[i]=s,r.createUnit(o,a)},"string, Unit | string | Object":function(i,s){var a={};return a[i]=s,r.createUnit(a,{})},string:function(i){var s={};return s[i]={},r.createUnit(s,{})}})}),Vk="acos",Sge=["typed","config","Complex"],Age=H(Vk,Sge,t=>{var{typed:e,config:r,Complex:n}=t;return e(Vk,{number:function(s){return s>=-1&&s<=1||r.predictable?Math.acos(s):new n(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),$k="acosh",Nge=["typed","config","Complex"],Tge=H($k,Nge,t=>{var{typed:e,config:r,Complex:n}=t;return e($k,{number:function(s){return s>=1||r.predictable?CV(s):s<=-1?new n(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new n(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),zk="acot",Dge=["typed","BigNumber"],Cge=H(zk,Dge,t=>{var{typed:e,BigNumber:r}=t;return e(zk,{number:MV,Complex:function(i){return i.acot()},BigNumber:function(i){return new r(1).div(i).atan()}})}),jk="acoth",Mge=["typed","config","Complex","BigNumber"],Ige=H(jk,Mge,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(jk,{number:function(a){return a>=1||a<=-1||r.predictable?IV(a):new n(a,0).acoth()},Complex:function(a){return a.acoth()},BigNumber:function(a){return new i(1).div(a).atanh()}})}),Uk="acsc",Pge=["typed","config","Complex","BigNumber"],kge=H(Uk,Pge,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(Uk,{number:function(a){return a<=-1||a>=1||r.predictable?PV(a):new n(a,0).acsc()},Complex:function(a){return a.acsc()},BigNumber:function(a){return new i(1).div(a).asin()}})}),qk="acsch",Rge=["typed","BigNumber"],Oge=H(qk,Rge,t=>{var{typed:e,BigNumber:r}=t;return e(qk,{number:kV,Complex:function(i){return i.acsch()},BigNumber:function(i){return new r(1).div(i).asinh()}})}),Hk="asec",Fge=["typed","config","Complex","BigNumber"],Bge=H(Hk,Fge,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(Hk,{number:function(a){return a<=-1||a>=1||r.predictable?RV(a):new n(a,0).asec()},Complex:function(a){return a.asec()},BigNumber:function(a){return new i(1).div(a).acos()}})}),Wk="asech",Lge=["typed","config","Complex","BigNumber"],Vge=H(Wk,Lge,t=>{var{typed:e,config:r,Complex:n,BigNumber:i}=t;return e(Wk,{number:function(a){if(a<=1&&a>=-1||r.predictable){var o=1/a;if(o>0||r.predictable)return OV(a);var l=Math.sqrt(o*o-1);return new n(Math.log(l-o),Math.PI)}return new n(a,0).asech()},Complex:function(a){return a.asech()},BigNumber:function(a){return new i(1).div(a).acosh()}})}),Gk="asin",$ge=["typed","config","Complex"],zge=H(Gk,$ge,t=>{var{typed:e,config:r,Complex:n}=t;return e(Gk,{number:function(s){return s>=-1&&s<=1||r.predictable?Math.asin(s):new n(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),jge="asinh",Uge=["typed"],qge=H(jge,Uge,t=>{var{typed:e}=t;return e("asinh",{number:FV,Complex:function(n){return n.asinh()},BigNumber:function(n){return n.asinh()}})}),Hge="atan",Wge=["typed"],Gge=H(Hge,Wge,t=>{var{typed:e}=t;return e("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()}})}),Kk="atan2",Kge=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Yge=H(Kk,Kge,t=>{var{typed:e,matrix:r,equalScalar:n,BigNumber:i,DenseMatrix:s,concat:a}=t,o=As({typed:e,equalScalar:n}),l=Kn({typed:e}),u=QV({typed:e,equalScalar:n}),c=pn({typed:e,equalScalar:n}),f=Ur({typed:e,DenseMatrix:s}),h=Qt({typed:e,matrix:r,concat:a});return e(Kk,{"number, number":Math.atan2,"BigNumber, BigNumber":(d,m)=>i.atan2(d,m)},h({scalar:"number | BigNumber",SS:u,DS:l,SD:o,Ss:c,sS:f}))}),Yk="atanh",Qge=["typed","config","Complex"],Xge=H(Yk,Qge,t=>{var{typed:e,config:r,Complex:n}=t;return e(Yk,{number:function(s){return s<=1&&s>=-1||r.predictable?BV(s):new n(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),Qf=H("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(r=>n=>{if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(r,n.valueType())(n.value)})}}),Qk="cos",Jge=["typed"],Zge=H(Qk,Jge,t=>{var{typed:e}=t,r=Qf({typed:e});return e(Qk,{number:Math.cos,"Complex | BigNumber":n=>n.cos()},r)}),Xk="cosh",eve=["typed"],tve=H(Xk,eve,t=>{var{typed:e}=t;return e(Xk,{number:Yoe,"Complex | BigNumber":r=>r.cosh()})}),Jk="cot",rve=["typed","BigNumber"],nve=H(Jk,rve,t=>{var{typed:e,BigNumber:r}=t,n=Qf({typed:e});return e(Jk,{number:LV,Complex:i=>i.cot(),BigNumber:i=>new r(1).div(i.tan())},n)}),Zk="coth",ive=["typed","BigNumber"],sve=H(Zk,ive,t=>{var{typed:e,BigNumber:r}=t;return e(Zk,{number:VV,Complex:n=>n.coth(),BigNumber:n=>new r(1).div(n.tanh())})}),eR="csc",ave=["typed","BigNumber"],ove=H(eR,ave,t=>{var{typed:e,BigNumber:r}=t,n=Qf({typed:e});return e(eR,{number:$V,Complex:i=>i.csc(),BigNumber:i=>new r(1).div(i.sin())},n)}),tR="csch",lve=["typed","BigNumber"],uve=H(tR,lve,t=>{var{typed:e,BigNumber:r}=t;return e(tR,{number:zV,Complex:n=>n.csch(),BigNumber:n=>new r(1).div(n.sinh())})}),rR="sec",cve=["typed","BigNumber"],fve=H(rR,cve,t=>{var{typed:e,BigNumber:r}=t,n=Qf({typed:e});return e(rR,{number:jV,Complex:i=>i.sec(),BigNumber:i=>new r(1).div(i.cos())},n)}),nR="sech",hve=["typed","BigNumber"],dve=H(nR,hve,t=>{var{typed:e,BigNumber:r}=t;return e(nR,{number:UV,Complex:n=>n.sech(),BigNumber:n=>new r(1).div(n.cosh())})}),iR="sin",mve=["typed"],pve=H(iR,mve,t=>{var{typed:e}=t,r=Qf({typed:e});return e(iR,{number:Math.sin,"Complex | BigNumber":n=>n.sin()},r)}),sR="sinh",gve=["typed"],vve=H(sR,gve,t=>{var{typed:e}=t;return e(sR,{number:qV,"Complex | BigNumber":r=>r.sinh()})}),aR="tan",yve=["typed"],xve=H(aR,yve,t=>{var{typed:e}=t,r=Qf({typed:e});return e(aR,{number:Math.tan,"Complex | BigNumber":n=>n.tan()},r)}),bve="tanh",wve=["typed"],_ve=H(bve,wve,t=>{var{typed:e}=t;return e("tanh",{number:Xoe,"Complex | BigNumber":r=>r.tanh()})}),oR="setCartesian",Eve=["typed","size","subset","compareNatural","Index","DenseMatrix"],Sve=H(oR,Eve,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s,DenseMatrix:a}=t;return e(oR,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(n(r(l),new s(0))!==0&&n(r(u),new s(0))!==0){var f=Ct(Array.isArray(l)?l:l.toArray()).sort(i),h=Ct(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var d=0;d<f.length;d++)for(var m=0;m<h.length;m++)c.push([f[d],h[m]])}return Array.isArray(l)&&Array.isArray(u)?c:new a(c)}})}),lR="setDifference",Ave=["typed","size","subset","compareNatural","Index","DenseMatrix"],Nve=H(lR,Ave,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s,DenseMatrix:a}=t;return e(lR,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(r(l),new s(0))===0)c=[];else{if(n(r(u),new s(0))===0)return Ct(l.toArray());var f=Nf(Ct(Array.isArray(l)?l:l.toArray()).sort(i)),h=Nf(Ct(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var d,m=0;m<f.length;m++){d=!1;for(var p=0;p<h.length;p++)if(i(f[m].value,h[p].value)===0&&f[m].identifier===h[p].identifier){d=!0;break}d||c.push(f[m])}}return Array.isArray(l)&&Array.isArray(u)?j0(c):new a(j0(c))}})}),uR="setDistinct",Tve=["typed","size","subset","compareNatural","Index","DenseMatrix"],Dve=H(uR,Tve,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s,DenseMatrix:a}=t;return e(uR,{"Array | Matrix":function(l){var u;if(n(r(l),new s(0))===0)u=[];else{var c=Ct(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&u.push(c[f])}return Array.isArray(l)?u:new a(u)}})}),cR="setIntersect",Cve=["typed","size","subset","compareNatural","Index","DenseMatrix"],Mve=H(cR,Cve,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s,DenseMatrix:a}=t;return e(cR,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(n(r(l),new s(0))===0||n(r(u),new s(0))===0)c=[];else{var f=Nf(Ct(Array.isArray(l)?l:l.toArray()).sort(i)),h=Nf(Ct(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var d=0;d<f.length;d++)for(var m=0;m<h.length;m++)if(i(f[d].value,h[m].value)===0&&f[d].identifier===h[m].identifier){c.push(f[d]);break}}return Array.isArray(l)&&Array.isArray(u)?j0(c):new a(j0(c))}})}),fR="setIsSubset",Ive=["typed","size","subset","compareNatural","Index"],Pve=H(fR,Ive,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s}=t;return e(fR,{"Array | Matrix, Array | Matrix":function(o,l){if(n(r(o),new s(0))===0)return!0;if(n(r(l),new s(0))===0)return!1;for(var u=Nf(Ct(Array.isArray(o)?o:o.toArray()).sort(i)),c=Nf(Ct(Array.isArray(l)?l:l.toArray()).sort(i)),f,h=0;h<u.length;h++){f=!1;for(var d=0;d<c.length;d++)if(i(u[h].value,c[d].value)===0&&u[h].identifier===c[d].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),hR="setMultiplicity",kve=["typed","size","subset","compareNatural","Index"],Rve=H(hR,kve,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s}=t;return e(hR,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(o,l){if(n(r(l),new s(0))===0)return 0;for(var u=Ct(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<u.length;f++)i(u[f],o)===0&&c++;return c}})}),dR="setPowerset",Ove=["typed","size","subset","compareNatural","Index"],Fve=H(dR,Ove,t=>{var{typed:e,size:r,subset:n,compareNatural:i,Index:s}=t;return e(dR,{"Array | Matrix":function(u){if(n(r(u),new s(0))===0)return[];for(var c=Ct(Array.isArray(u)?u:u.toArray()).sort(i),f=[],h=0;h.toString(2).length<=c.length;)f.push(a(c,h.toString(2).split("").reverse())),h++;return o(f)}});function a(l,u){for(var c=[],f=0;f<u.length;f++)u[f]==="1"&&c.push(l[f]);return c}function o(l){for(var u=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(u=l[f],l[f]=l[f+1],l[f+1]=u);return l}}),mR="setSize",Bve=["typed","compareNatural"],Lve=H(mR,Bve,t=>{var{typed:e,compareNatural:r}=t;return e(mR,{"Array | Matrix":function(i){return Array.isArray(i)?Ct(i).length:Ct(i.toArray()).length},"Array | Matrix, boolean":function(i,s){if(s===!1||i.length===0)return Array.isArray(i)?Ct(i).length:Ct(i.toArray()).length;for(var a=Ct(Array.isArray(i)?i:i.toArray()).sort(r),o=1,l=1;l<a.length;l++)r(a[l],a[l-1])!==0&&o++;return o}})}),pR="setSymDifference",Vve=["typed","size","concat","subset","setDifference","Index"],$ve=H(pR,Vve,t=>{var{typed:e,size:r,concat:n,subset:i,setDifference:s,Index:a}=t;return e(pR,{"Array | Matrix, Array | Matrix":function(l,u){if(i(r(l),new a(0))===0)return Ct(u);if(i(r(u),new a(0))===0)return Ct(l);var c=Ct(l),f=Ct(u);return n(s(c,f),s(f,c))}})}),gR="setUnion",zve=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],jve=H(gR,zve,t=>{var{typed:e,size:r,concat:n,subset:i,setIntersect:s,setSymDifference:a,Index:o}=t;return e(gR,{"Array | Matrix, Array | Matrix":function(u,c){if(i(r(u),new o(0))===0)return Ct(c);if(i(r(c),new o(0))===0)return Ct(u);var f=Ct(u),h=Ct(c);return n(a(f,h),s(f,h))}})}),vR="add",Uve=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],qve=H(vR,Uve,t=>{var{typed:e,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:s,SparseMatrix:a,concat:o}=t,l=bl({typed:e}),u=QA({typed:e,equalScalar:i}),c=ju({typed:e,DenseMatrix:s}),f=Qt({typed:e,matrix:r,concat:o});return e(vR,{"any, any":n,"any, any, ...any":e.referToSelf(h=>(d,m,p)=>{for(var g=h(d,m),v=0;v<p.length;v++)g=h(g,p[v]);return g})},f({elop:n,DS:l,SS:u,Ss:c}))}),yR="hypot",Hve=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],Wve=H(yR,Hve,t=>{var{typed:e,abs:r,addScalar:n,divideScalar:i,multiplyScalar:s,sqrt:a,smaller:o,isPositive:l}=t;return e(yR,{"... number | BigNumber":u,Array:u,Matrix:c=>u(Ct(c.toArray(),!0))});function u(c){for(var f=0,h=0,d=0;d<c.length;d++){if(Ra(c[d]))throw new TypeError("Unexpected type of argument to hypot");var m=r(c[d]);o(h,m)?(f=s(f,s(i(h,m),i(h,m))),f=n(f,1),h=m):f=n(f,l(m)?s(i(m,h),i(m,h)):m)}return s(h,a(f))}}),xR="norm",Gve=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],Kve=H(xR,Gve,t=>{var{typed:e,abs:r,add:n,pow:i,conj:s,sqrt:a,multiply:o,equalScalar:l,larger:u,smaller:c,matrix:f,ctranspose:h,eigs:d}=t;return e(xR,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return E(f(A),2)},Matrix:function(A){return E(A,2)},"Array, number | BigNumber | string":function(A,N){return E(f(A),N)},"Matrix, number | BigNumber | string":function(A,N){return E(A,N)}});function m(S){var A=0;return S.forEach(function(N){var D=r(N);u(D,A)&&(A=D)},!0),A}function p(S){var A;return S.forEach(function(N){var D=r(N);(!A||c(D,A))&&(A=D)},!0),A||0}function g(S,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return m(S);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return p(S);if(A==="fro")return E(S,2);if(typeof A=="number"&&!isNaN(A)){if(!l(A,0)){var N=0;return S.forEach(function(D){N=n(i(r(D),A),N)},!0),i(N,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function v(S){var A=0;return S.forEach(function(N,D){A=n(A,o(N,s(N)))}),r(a(A))}function b(S){var A=[],N=0;return S.forEach(function(D,C){var M=C[1],I=n(A[M]||0,r(D));u(I,N)&&(N=I),A[M]=I},!0),N}function y(S){var A=S.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var N=h(S),D=o(N,S),C=d(D).values.toArray(),M=C[C.length-1];return r(a(M))}function x(S){var A=[],N=0;return S.forEach(function(D,C){var M=C[0],I=n(A[M]||0,r(D));u(I,N)&&(N=I),A[M]=I},!0),N}function w(S,A){if(A===1)return b(S);if(A===Number.POSITIVE_INFINITY||A==="inf")return x(S);if(A==="fro")return v(S);if(A===2)return y(S);throw new Error("Unsupported parameter value "+A)}function E(S,A){var N=S.size();if(N.length===1)return g(S,A);if(N.length===2){if(N[0]&&N[1])return w(S,A);throw new RangeError("Invalid matrix dimensions")}}}),bR="dot",Yve=["typed","addScalar","multiplyScalar","conj","size"],Qve=H(bR,Yve,t=>{var{typed:e,addScalar:r,multiplyScalar:n,conj:i,size:s}=t;return e(bR,{"Array | DenseMatrix, Array | DenseMatrix":o,"SparseMatrix, SparseMatrix":l});function a(c,f){var h=u(c),d=u(f),m,p;if(h.length===1)m=h[0];else if(h.length===2&&h[1]===1)m=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(m!==p)throw new RangeError("Vectors must have equal length ("+m+" != "+p+")");if(m===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return m}function o(c,f){var h=a(c,f),d=Je(c)?c._data:c,m=Je(c)?c._datatype||c.getDataType():void 0,p=Je(f)?f._data:f,g=Je(f)?f._datatype||f.getDataType():void 0,v=u(c).length===2,b=u(f).length===2,y=r,x=n;if(m&&g&&m===g&&typeof m=="string"&&m!=="mixed"){var w=m;y=e.find(r,[w,w]),x=e.find(n,[w,w])}if(!v&&!b){for(var E=x(i(d[0]),p[0]),S=1;S<h;S++)E=y(E,x(i(d[S]),p[S]));return E}if(!v&&b){for(var A=x(i(d[0]),p[0][0]),N=1;N<h;N++)A=y(A,x(i(d[N]),p[N][0]));return A}if(v&&!b){for(var D=x(i(d[0][0]),p[0]),C=1;C<h;C++)D=y(D,x(i(d[C][0]),p[C]));return D}if(v&&b){for(var M=x(i(d[0][0]),p[0][0]),I=1;I<h;I++)M=y(M,x(i(d[I][0]),p[I][0]));return M}}function l(c,f){a(c,f);for(var h=c._index,d=c._values,m=f._index,p=f._values,g=0,v=r,b=n,y=0,x=0;y<h.length&&x<m.length;){var w=h[y],E=m[x];if(w<E){y++;continue}if(w>E){x++;continue}w===E&&(g=v(g,b(d[y],p[x])),y++,x++)}return g}function u(c){return Je(c)?c.size():s(c)}}),Xve="trace",Jve=["typed","matrix","add"],Zve=H(Xve,Jve,t=>{var{typed:e,matrix:r,add:n}=t;return e("trace",{Array:function(o){return i(r(o))},SparseMatrix:s,DenseMatrix:i,any:at});function i(a){var o=a._size,l=a._data;switch(o.length){case 1:if(o[0]===1)return at(l[0]);throw new RangeError("Matrix must be square (size: "+pt(o)+")");case 2:{var u=o[0],c=o[1];if(u===c){for(var f=0,h=0;h<u;h++)f=n(f,l[h][h]);return f}else throw new RangeError("Matrix must be square (size: "+pt(o)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(o)+")")}}function s(a){var o=a._values,l=a._index,u=a._ptr,c=a._size,f=c[0],h=c[1];if(f===h){var d=0;if(o.length>0)for(var m=0;m<h;m++)for(var p=u[m],g=u[m+1],v=p;v<g;v++){var b=l[v];if(b===m){d=n(d,o[v]);break}if(b>m)break}return d}throw new RangeError("Matrix must be square (size: "+pt(c)+")")}}),wR="index",e0e=["typed","Index"],t0e=H(wR,e0e,t=>{var{typed:e,Index:r}=t;return e(wR,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var s=i.map(function(o){return ht(o)?o.toNumber():Ut(o)||Je(o)?o.map(function(l){return ht(l)?l.toNumber():l}):o}),a=new r;return r.apply(a,s),a}})}),g$=new Set(["end"]),r0e="Node",n0e=["mathWithTransform"],i0e=H(r0e,n0e,t=>{var{mathWithTransform:e}=t;function r(i){for(var s of[...g$])if(i.has(s))throw new Error('Scope contains an illegal symbol, "'+s+'" is a reserved keyword')}class n{get type(){return"Node"}get isNode(){return!0}evaluate(s){return this.compile().evaluate(s)}compile(){var s=this._compile(e,{}),a={},o=null;function l(u){var c=Qc(u);return r(c),s(c,a,o)}return{evaluate:l}}_compile(s,a){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(s){throw new Error("Cannot run forEach on a Node interface")}map(s){throw new Error("Cannot run map on a Node interface")}_ifNode(s){if(!$t(s))throw new TypeError("Callback function must return a Node");return s}traverse(s){s(this,null,null);function a(o,l){o.forEach(function(u,c,f){l(u,c,f),a(u,l)})}a(this,s)}transform(s){function a(o,l,u){var c=s(o,l,u);return c!==o?c:o.map(a)}return a(this,null,null)}filter(s){var a=[];return this.traverse(function(o,l,u){s(o,l,u)&&a.push(o)}),a}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(s){return s.cloneDeep()})}equals(s){return s?this.type===s.type&&Ka(this,s):!1}toString(s){var a=this._getCustomString(s);return typeof a<"u"?a:this._toString(s)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(s){var a=this._getCustomString(s);return typeof a<"u"?a:this._toHTML(s)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(s){var a=this._getCustomString(s);return typeof a<"u"?a:this._toTex(s)}_toTex(s){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(s){if(s&&typeof s=="object")switch(typeof s.handler){case"object":case"undefined":return;case"function":return s.handler(this,s);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return n},{isClass:!0,isNode:!0});function Yn(t){return t&&t.isIndexError?new _s(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function v$(t){var{subset:e}=t;return function(n,i){try{if(Array.isArray(n))return e(n,i);if(n&&typeof n.subset=="function")return n.subset(i);if(typeof n=="string")return e(n,i);if(typeof n=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return jn(n,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Yn(s)}}}var ug="AccessorNode",s0e=["subset","Node"],a0e=H(ug,s0e,t=>{var{subset:e,Node:r}=t,n=v$({subset:e});function i(a){return!(Tu(a)||Bi(a)||_t(a)||il(a)||T1(a)||Ga(a)||Xr(a))}class s extends r{constructor(o,l){if(super(),!$t(o))throw new TypeError('Node expected for parameter "object"');if(!Hf(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=o,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ug}get isAccessorNode(){return!0}_compile(o,l){var u=this.object._compile(o,l),c=this.index._compile(o,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(d,m,p){return jn(u(d,m,p),f)}}else return function(d,m,p){var g=u(d,m,p),v=c(d,m,g);return n(g,v)}}forEach(o){o(this.object,"object",this),o(this.index,"index",this)}map(o){return new s(this._ifNode(o(this.object,"object",this)),this._ifNode(o(this.index,"index",this)))}clone(){return new s(this.object,this.index)}_toString(o){var l=this.object.toString(o);return i(this.object)&&(l="("+l+")"),l+this.index.toString(o)}_toHTML(o){var l=this.object.toHTML(o);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(o)}_toTex(o){var l=this.object.toTex(o);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(o)}toJSON(){return{mathjs:ug,object:this.object,index:this.index}}static fromJSON(o){return new s(o.object,o.index)}}return Rr(s,"name",ug),s},{isClass:!0,isNode:!0}),cg="ArrayNode",o0e=["Node"],l0e=H(cg,o0e,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every($t))throw new TypeError("Array containing Nodes expected")}get type(){return cg}get isArrayNode(){return!0}_compile(i,s){var a=Ho(this.items,function(u){return u._compile(i,s)}),o=i.config.matrix!=="Array";if(o){var l=i.matrix;return function(c,f,h){return l(Ho(a,function(d){return d(c,f,h)}))}}else return function(c,f,h){return Ho(a,function(d){return d(c,f,h)})}}forEach(i){for(var s=0;s<this.items.length;s++){var a=this.items[s];i(a,"items["+s+"]",this)}}map(i){for(var s=[],a=0;a<this.items.length;a++)s[a]=this._ifNode(i(this.items[a],"items["+a+"]",this));return new r(s)}clone(){return new r(this.items.slice(0))}_toString(i){var s=this.items.map(function(a){return a.toString(i)});return"["+s.join(", ")+"]"}toJSON(){return{mathjs:cg,items:this.items}}static fromJSON(i){return new r(i.items)}_toHTML(i){var s=this.items.map(function(a){return a.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function s(a,o){var l=a.some(Bi)&&!a.every(Bi),u=o||l,c=u?"&":"\\\\",f=a.map(function(h){return h.items?s(h.items,!o):h.toTex(i)}).join(c);return l||!u||u&&!o?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return s(this.items,!1)}}return Rr(r,"name",cg),r},{isClass:!0,isNode:!0});function u0e(t){var{subset:e,matrix:r}=t;return function(i,s,a){try{if(Array.isArray(i)){var o=r(i).subset(s,a).valueOf();return o.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(s,a);if(typeof i=="string")return e(i,s,a);if(typeof i=="object"){if(!s.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return _f(i,s.getObjectProperty(),a),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Yn(l)}}}var fs=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function fg(t,e){if(!e||e!=="auto")return t;for(var r=t;Ga(r);)r=r.content;return r}function qt(t,e,r,n){var i=t;e!=="keep"&&(i=t.getContent());for(var s=i.getIdentifier(),a=null,o=0;o<fs.length;o++)if(s in fs[o]){a=o;break}if(s==="OperatorNode:multiply"&&i.implicit&&r!=="show"){var l=fg(i.args[0],e);!(_t(l)&&n&&n.getIdentifier()==="OperatorNode:divide"&&N_(fg(n.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&N_(fg(l.args[0],e))&&_t(fg(l.args[1])))&&(a+=1)}return a}function Nh(t,e){var r=t;e!=="keep"&&(r=t.getContent());var n=r.getIdentifier(),i=qt(r,e);if(i===null)return null;var s=fs[i][n];if(qe(s,"associativity")){if(s.associativity==="left")return"left";if(s.associativity==="right")return"right";throw Error("'"+n+"' has the invalid associativity '"+s.associativity+"'.")}return null}function wb(t,e,r){var n=r!=="keep"?t.getContent():t,i=r!=="keep"?t.getContent():e,s=n.getIdentifier(),a=i.getIdentifier(),o=qt(n,r);if(o===null)return null;var l=fs[o][s];if(qe(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===a)return!0;return!1}return null}function c0e(t){var e="OperatorNode:"+t;for(var r of fs)if(e in r)return r[e].op;return null}var hg="AssignmentNode",f0e=["subset","?matrix","Node"],h0e=H(hg,f0e,t=>{var{subset:e,matrix:r,Node:n}=t,i=v$({subset:e}),s=u0e({subset:e,matrix:r});function a(l,u,c){u||(u="keep");var f=qt(l,u,c),h=qt(l.value,u,c);return u==="all"||h!==null&&h<=f}class o extends n{constructor(u,c,f){if(super(),this.object=u,this.index=f?c:null,this.value=f||c,!Xr(u)&&!Tu(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(Xr(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Hf(this.index))throw new TypeError('IndexNode expected as "index"');if(!$t(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return hg}get isAssignmentNode(){return!0}_compile(u,c){var f=this.object._compile(u,c),h=this.index?this.index._compile(u,c):null,d=this.value._compile(u,c),m=this.object.name;if(this.index)if(this.index.isObjectProperty()){var p=this.index.getObjectProperty();return function(x,w,E){var S=f(x,w,E),A=d(x,w,E);return _f(S,p,A),A}}else{if(Xr(this.object))return function(x,w,E){var S=f(x,w,E),A=d(x,w,E),N=h(x,w,S);return x.set(m,s(S,N,A)),A};var g=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var v=this.object.index.getObjectProperty();return function(x,w,E){var S=g(x,w,E),A=jn(S,v),N=h(x,w,A),D=d(x,w,E);return _f(S,v,s(A,N,D)),D}}else{var b=this.object.index._compile(u,c);return function(x,w,E){var S=g(x,w,E),A=b(x,w,S),N=i(S,A),D=h(x,w,N),C=d(x,w,E);return s(S,A,s(N,D,C)),C}}}else{if(!Xr(this.object))throw new TypeError("SymbolNode expected as object");return function(x,w,E){var S=d(x,w,E);return x.set(m,S),S}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),f=this.index?this._ifNode(u(this.index,"index",this)):null,h=this._ifNode(u(this.value,"value",this));return new o(c,f,h)}clone(){return new o(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),f=this.index?this.index.toString(u):"",h=this.value.toString(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(h="("+h+")"),c+f+" = "+h}toJSON(){return{mathjs:hg,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new o(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),f=this.index?this.index.toHTML(u):"",h=this.value.toHTML(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(h='<span class="math-paranthesis math-round-parenthesis">(</span>'+h+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+h}_toTex(u){var c=this.object.toTex(u),f=this.index?this.index.toTex(u):"",h=this.value.toTex(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(h="\\left(".concat(h,"\\right)")),c+f+"="+h}}return Rr(o,"name",hg),o},{isClass:!0,isNode:!0}),dg="BlockNode",d0e=["ResultSet","Node"],m0e=H(dg,d0e,t=>{var{ResultSet:e,Node:r}=t;class n extends r{constructor(s){if(super(),!Array.isArray(s))throw new Error("Array expected");this.blocks=s.map(function(a){var o=a&&a.node,l=a&&a.visible!==void 0?a.visible:!0;if(!$t(o))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:o,visible:l}})}get type(){return dg}get isBlockNode(){return!0}_compile(s,a){var o=Ho(this.blocks,function(l){return{evaluate:l.node._compile(s,a),visible:l.visible}});return function(u,c,f){var h=[];return Z8(o,function(m){var p=m.evaluate(u,c,f);m.visible&&h.push(p)}),new e(h)}}forEach(s){for(var a=0;a<this.blocks.length;a++)s(this.blocks[a].node,"blocks["+a+"].node",this)}map(s){for(var a=[],o=0;o<this.blocks.length;o++){var l=this.blocks[o],u=this._ifNode(s(l.node,"blocks["+o+"].node",this));a[o]={node:u,visible:l.visible}}return new n(a)}clone(){var s=this.blocks.map(function(a){return{node:a.node,visible:a.visible}});return new n(s)}_toString(s){return this.blocks.map(function(a){return a.node.toString(s)+(a.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:dg,blocks:this.blocks}}static fromJSON(s){return new n(s.blocks)}_toHTML(s){return this.blocks.map(function(a){return a.node.toHTML(s)+(a.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(s){return this.blocks.map(function(a){return a.node.toTex(s)+(a.visible?"":";")}).join(`\\;\\;
`)}}return Rr(n,"name",dg),n},{isClass:!0,isNode:!0}),mg="ConditionalNode",p0e=["Node"],g0e=H(mg,p0e,t=>{var{Node:e}=t;function r(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(ht(i))return!i.isZero();if(Ra(i))return!!(i.re||i.im);if(yi(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+Wt(i)+'"')}class n extends e{constructor(s,a,o){if(super(),!$t(s))throw new TypeError("Parameter condition must be a Node");if(!$t(a))throw new TypeError("Parameter trueExpr must be a Node");if(!$t(o))throw new TypeError("Parameter falseExpr must be a Node");this.condition=s,this.trueExpr=a,this.falseExpr=o}get type(){return mg}get isConditionalNode(){return!0}_compile(s,a){var o=this.condition._compile(s,a),l=this.trueExpr._compile(s,a),u=this.falseExpr._compile(s,a);return function(f,h,d){return r(o(f,h,d))?l(f,h,d):u(f,h,d)}}forEach(s){s(this.condition,"condition",this),s(this.trueExpr,"trueExpr",this),s(this.falseExpr,"falseExpr",this)}map(s){return new n(this._ifNode(s(this.condition,"condition",this)),this._ifNode(s(this.trueExpr,"trueExpr",this)),this._ifNode(s(this.falseExpr,"falseExpr",this)))}clone(){return new n(this.condition,this.trueExpr,this.falseExpr)}_toString(s){var a=s&&s.parenthesis?s.parenthesis:"keep",o=qt(this,a,s&&s.implicit),l=this.condition.toString(s),u=qt(this.condition,a,s&&s.implicit);(a==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l="("+l+")");var c=this.trueExpr.toString(s),f=qt(this.trueExpr,a,s&&s.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=o)&&(c="("+c+")");var h=this.falseExpr.toString(s),d=qt(this.falseExpr,a,s&&s.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||d!==null&&d<=o)&&(h="("+h+")"),l+" ? "+c+" : "+h}toJSON(){return{mathjs:mg,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(s){return new n(s.condition,s.trueExpr,s.falseExpr)}_toHTML(s){var a=s&&s.parenthesis?s.parenthesis:"keep",o=qt(this,a,s&&s.implicit),l=this.condition.toHTML(s),u=qt(this.condition,a,s&&s.implicit);(a==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=o)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(s),f=qt(this.trueExpr,a,s&&s.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=o)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var h=this.falseExpr.toHTML(s),d=qt(this.falseExpr,a,s&&s.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||d!==null&&d<=o)&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+h}_toTex(s){return"\\begin{cases} {"+this.trueExpr.toTex(s)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(s)+"}\\\\{"+this.falseExpr.toTex(s)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Rr(n,"name",mg),n},{isClass:!0,isNode:!0}),q_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v0e={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},y0e={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},x0e=function(e,r){return q_({},e,r)},b0e=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.preserveFormatting,n=r===void 0?!1:r,i=e.escapeMapFn,s=i===void 0?x0e:i,a=String(t),o="",l=s(q_({},v0e),n?q_({},y0e):{}),u=Object.keys(l),c=function(){var h=!1;u.forEach(function(d,m){h||a.length>=d.length&&a.slice(0,d.length)===d&&(o+=l[u[m]],a=a.slice(d.length,a.length),h=!0)}),h||(o+=a.slice(0,1),a=a.slice(1,a.length))};a;)c();return o};const w0e=Sm(b0e);var H_={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},Dt={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},_R={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(Dt.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(Dt.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(Dt.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(Dt.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(Dt.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(Dt.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(Dt.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(Dt.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(Dt.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(Dt.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(Dt.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(Dt.bitAnd,"${args[1]}\\right)")},bitNot:{1:Dt.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(Dt.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(Dt.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(Dt.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(Dt.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(Dt.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(Dt.and,"${args[1]}\\right)")},not:{1:Dt.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(Dt.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(Dt.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(Dt.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(Dt.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(Dt.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(Dt.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(Dt.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(Dt.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(Dt.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(Dt.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(Dt.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(Dt.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(Dt.to,"${args[1]}\\right)")},numeric:function(e,r){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(H_.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},_0e="\\mathrm{${name}}\\left(${args}\\right)",ER={deg:"^\\circ"};function W_(t){return w0e(t,{preserveFormatting:!0})}function y$(t,e){return e=typeof e>"u"?!1:e,e?qe(ER,t)?ER[t]:"\\mathrm{"+W_(t)+"}":qe(H_,t)?H_[t]:W_(t)}var pg="ConstantNode",E0e=["Node"],S0e=H(pg,E0e,t=>{var{Node:e}=t;class r extends e{constructor(i){super(),this.value=i}get type(){return pg}get isConstantNode(){return!0}_compile(i,s){var a=this.value;return function(){return a}}forEach(i){}map(i){return this.clone()}clone(){return new r(this.value)}_toString(i){return pt(this.value,i)}_toHTML(i){var s=this._toString(i);switch(Wt(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+s+"</span>";case"string":return'<span class="math-string">'+s+"</span>";case"boolean":return'<span class="math-boolean">'+s+"</span>";case"null":return'<span class="math-null-symbol">'+s+"</span>";case"undefined":return'<span class="math-undefined">'+s+"</span>";default:return'<span class="math-symbol">'+s+"</span>"}}toJSON(){return{mathjs:pg,value:this.value}}static fromJSON(i){return new r(i.value)}_toTex(i){var s=this._toString(i),a=Wt(this.value);switch(a){case"string":return"\\mathtt{"+W_(s)+"}";case"number":case"BigNumber":{var o=a==="BigNumber"?this.value.isFinite():isFinite(this.value);if(!o)return this.value.valueOf()<0?"-\\infty":"\\infty";var l=s.toLowerCase().indexOf("e");return l!==-1?s.substring(0,l)+"\\cdot10^{"+s.substring(l+1)+"}":s}case"bigint":return s.toString();case"Fraction":return this.value.toLatex();default:return s}}}return Rr(r,"name",pg),r},{isClass:!0,isNode:!0}),gg="FunctionAssignmentNode",A0e=["typed","Node"],N0e=H(gg,A0e,t=>{var{typed:e,Node:r}=t;function n(s,a,o){var l=qt(s,a,o),u=qt(s.expr,a,o);return a==="all"||u!==null&&u<=l}class i extends r{constructor(a,o,l){if(super(),typeof a!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(o))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!$t(l))throw new TypeError('Node expected for parameter "expr"');if(g$.has(a))throw new Error('Illegal function name, "'+a+'" is a reserved keyword');var u=new Set;for(var c of o){var f=typeof c=="string"?c:c.name;if(u.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));u.add(f)}this.name=a,this.params=o.map(function(h){return h&&h.name||h}),this.types=o.map(function(h){return h&&h.type||"any"}),this.expr=l}get type(){return gg}get isFunctionAssignmentNode(){return!0}_compile(a,o){var l=Object.create(o);Z8(this.params,function(m){l[m]=!0});var u=this.expr._compile(a,l),c=this.name,f=this.params,h=EI(this.types,","),d=c+"("+EI(this.params,", ")+")";return function(p,g,v){var b={};b[h]=function(){for(var x=Object.create(g),w=0;w<f.length;w++)x[f[w]]=arguments[w];return u(p,x,v)};var y=e(c,b);return y.syntax=d,p.set(c,y),y}}forEach(a){a(this.expr,"expr",this)}map(a){var o=this._ifNode(a(this.expr,"expr",this));return new i(this.name,this.params.slice(0),o)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=this.expr.toString(a);return n(this,o,a&&a.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var a=this.types;return{mathjs:gg,name:this.name,params:this.params.map(function(o,l){return{name:o,type:a[l]}}),expr:this.expr}}static fromJSON(a){return new i(a.name,a.params,a.expr)}_toHTML(a){for(var o=a&&a.parenthesis?a.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+zi(this.params[u])+"</span>");var c=this.expr.toHTML(a);return n(this,o,a&&a.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+zi(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=this.expr.toTex(a);return n(this,o,a&&a.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(y$).join(",")+"\\right)="+l}}return Rr(i,"name",gg),i},{isClass:!0,isNode:!0}),vg="IndexNode",T0e=["Node","size"],D0e=H(vg,T0e,t=>{var{Node:e,size:r}=t;class n extends e{constructor(s,a){if(super(),this.dimensions=s,this.dotNotation=a||!1,!Array.isArray(s)||!s.every($t))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return vg}get isIndexNode(){return!0}_compile(s,a){var o=Ho(this.dimensions,function(u,c){var f=u.filter(m=>m.isSymbolNode&&m.name==="end").length>0;if(f){var h=Object.create(a);h.end=!0;var d=u._compile(s,h);return function(p,g,v){if(!Je(v)&&!Ut(v)&&!Cn(v))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+Wt(v));var b=r(v).valueOf(),y=Object.create(g);return y.end=b[c],d(p,y,v)}}else return u._compile(s,a)}),l=jn(s,"index");return function(c,f,h){var d=Ho(o,function(m){return m(c,f,h)});return l(...d)}}forEach(s){for(var a=0;a<this.dimensions.length;a++)s(this.dimensions[a],"dimensions["+a+"]",this)}map(s){for(var a=[],o=0;o<this.dimensions.length;o++)a[o]=this._ifNode(s(this.dimensions[o],"dimensions["+o+"]",this));return new n(a,this.dotNotation)}clone(){return new n(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&_t(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(s){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:vg,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(s){return new n(s.dimensions,s.dotNotation)}_toHTML(s){for(var a=[],o=0;o<this.dimensions.length;o++)a[o]=this.dimensions[o].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+zi(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(s){var a=this.dimensions.map(function(o){return o.toTex(s)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"}}return Rr(n,"name",vg),n},{isClass:!0,isNode:!0}),yg="ObjectNode",C0e=["Node"],M0e=H(yg,C0e,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(s){return $t(i[s])})))throw new TypeError("Object containing Nodes expected")}get type(){return yg}get isObjectNode(){return!0}_compile(i,s){var a={};for(var o in this.properties)if(qe(this.properties,o)){var l=Bc(o),u=JSON.parse(l),c=jn(this.properties,o);a[u]=c._compile(i,s)}return function(h,d,m){var p={};for(var g in a)qe(a,g)&&(p[g]=a[g](h,d,m));return p}}forEach(i){for(var s in this.properties)qe(this.properties,s)&&i(this.properties[s],"properties["+Bc(s)+"]",this)}map(i){var s={};for(var a in this.properties)qe(this.properties,a)&&(s[a]=this._ifNode(i(this.properties[a],"properties["+Bc(a)+"]",this)));return new r(s)}clone(){var i={};for(var s in this.properties)qe(this.properties,s)&&(i[s]=this.properties[s]);return new r(i)}_toString(i){var s=[];for(var a in this.properties)qe(this.properties,a)&&s.push(Bc(a)+": "+this.properties[a].toString(i));return"{"+s.join(", ")+"}"}toJSON(){return{mathjs:yg,properties:this.properties}}static fromJSON(i){return new r(i.properties)}_toHTML(i){var s=[];for(var a in this.properties)qe(this.properties,a)&&s.push('<span class="math-symbol math-property">'+zi(a)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[a].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var s=[];for(var a in this.properties)qe(this.properties,a)&&s.push("\\mathbf{"+a+":} & "+this.properties[a].toTex(i)+"\\\\");var o="\\left\\{\\begin{array}{ll}"+s.join(`
`)+"\\end{array}\\right\\}";return o}}return Rr(r,"name",yg),r},{isClass:!0,isNode:!0});function Wh(t,e){return new A8(t,new S1(e),new Set(Object.keys(e)))}var xg="OperatorNode",I0e=["Node"],P0e=H(xg,I0e,t=>{var{Node:e}=t;function r(s,a){var o=s;if(a==="auto")for(;Ga(o);)o=o.content;return _t(o)?!0:Ar(o)?r(o.args[0],a):!1}function n(s,a,o,l,u){var c=qt(s,a,o),f=Nh(s,a);if(a==="all"||l.length>2&&s.getIdentifier()!=="OperatorNode:add"&&s.getIdentifier()!=="OperatorNode:multiply")return l.map(function(D){switch(D.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var h;switch(l.length){case 0:h=[];break;case 1:{var d=qt(l[0],a,o,s);if(u&&d!==null){var m,p;if(a==="keep"?(m=l[0].getIdentifier(),p=s.getIdentifier()):(m=l[0].getContent().getIdentifier(),p=s.getContent().getIdentifier()),fs[c][p].latexLeftParens===!1){h=[!1];break}if(fs[d][m].latexParens===!1){h=[!1];break}}if(d===null){h=[!1];break}if(d<=c){h=[!0];break}h=[!1]}break;case 2:{var g,v=qt(l[0],a,o,s),b=wb(s,l[0],a);v===null?g=!1:v===c&&f==="right"&&!b||v<c?g=!0:g=!1;var y,x=qt(l[1],a,o,s),w=wb(s,l[1],a);if(x===null?y=!1:x===c&&f==="left"&&!w||x<c?y=!0:y=!1,u){var E,S,A;a==="keep"?(E=s.getIdentifier(),S=s.args[0].getIdentifier(),A=s.args[1].getIdentifier()):(E=s.getContent().getIdentifier(),S=s.args[0].getContent().getIdentifier(),A=s.args[1].getContent().getIdentifier()),v!==null&&(fs[c][E].latexLeftParens===!1&&(g=!1),fs[v][S].latexParens===!1&&(g=!1)),x!==null&&(fs[c][E].latexRightParens===!1&&(y=!1),fs[x][A].latexParens===!1&&(y=!1))}h=[g,y]}break;default:(s.getIdentifier()==="OperatorNode:add"||s.getIdentifier()==="OperatorNode:multiply")&&(h=l.map(function(D){var C=qt(D,a,o,s),M=wb(s,D,a),I=Nh(D,a);return C===null?!1:c===C&&f===I&&!M?!0:C<c}));break}if(l.length>=2&&s.getIdentifier()==="OperatorNode:multiply"&&s.implicit&&a!=="all"&&o==="hide")for(var N=1;N<h.length;++N)r(l[N],a)&&!h[N-1]&&(a!=="keep"||!Ga(l[N-1]))&&(h[N]=!0);return h}class i extends e{constructor(a,o,l,u,c){if(super(),typeof a!="string")throw new TypeError('string expected for parameter "op"');if(typeof o!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every($t))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=a,this.fn=o,this.args=l||[]}get type(){return xg}get isOperatorNode(){return!0}_compile(a,o){if(typeof this.fn!="string"||!$A(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=jn(a,this.fn),u=Ho(this.args,function(m){return m._compile(a,o)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(p,g,v){return l(c,a,Wh(p,g))}}else if(u.length===1){var f=u[0];return function(p,g,v){return l(f(p,g,v))}}else if(u.length===2){var h=u[0],d=u[1];return function(p,g,v){return l(h(p,g,v),d(p,g,v))}}else return function(p,g,v){return l.apply(null,Ho(u,function(b){return b(p,g,v)}))}}forEach(a){for(var o=0;o<this.args.length;o++)a(this.args[o],"args["+o+"]",this)}map(a){for(var o=[],l=0;l<this.args.length;l++)o[l]=this._ifNode(a(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,o,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=n(this,o,l,u,!1);if(u.length===1){var f=Nh(this,o),h=u[0].toString(a);c[0]&&(h="("+h+")");var d=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(d?" ":"")+h:f==="left"?h+(d?" ":"")+this.op:h+this.op}else if(u.length===2){var m=u[0].toString(a),p=u[1].toString(a);return c[0]&&(m="("+m+")"),c[1]&&(p="("+p+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m+" "+p:m+" "+this.op+" "+p}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var g=u.map(function(v,b){return v=v.toString(a),c[b]&&(v="("+v+")"),v});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?g.join(" "):g.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:xg,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(a){return new i(a.op,a.fn,a.args,a.implicit,a.isPercentage)}_toHTML(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=n(this,o,l,u,!1);if(u.length===1){var f=Nh(this,o),h=u[0].toHTML(a);return c[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+zi(this.op)+"</span>"+h:h+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+zi(this.op)+"</span>"}else if(u.length===2){var d=u[0].toHTML(a),m=u[1].toHTML(a);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(m='<span class="math-parenthesis math-round-parenthesis">(</span>'+m+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?d+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+m:d+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+zi(this.op)+"</span>"+m}else{var p=u.map(function(g,v){return g=g.toHTML(a),c[v]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):p.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+zi(this.op)+"</span>"):'<span class="math-function">'+zi(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+p.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(a){var o=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=n(this,o,l,u,!0),f=Dt[this.fn];if(f=typeof f>"u"?this.op:f,u.length===1){var h=Nh(this,o),d=u[0].toTex(a);return c[0]&&(d="\\left(".concat(d,"\\right)")),h==="right"?f+d:d+f}else if(u.length===2){var m=u[0],p=m.toTex(a);c[0]&&(p="\\left(".concat(p,"\\right)"));var g=u[1],v=g.toTex(a);c[1]&&(v="\\left(".concat(v,"\\right)"));var b;switch(o==="keep"?b=m.getIdentifier():b=m.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+p+"}{"+v+"}";case"OperatorNode:pow":switch(p="{"+p+"}",v="{"+v+"}",b){case"ConditionalNode":case"OperatorNode:divide":p="\\left(".concat(p,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return p+"~"+v}return p+f+v}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=u.map(function(x,w){return x=x.toTex(a),c[w]&&(x="\\left(".concat(x,"\\right)")),x});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(x){return x.toTex(a)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Rr(i,"name",xg),i},{isClass:!0,isNode:!0}),bg="ParenthesisNode",k0e=["Node"],R0e=H(bg,k0e,t=>{var{Node:e}=t;class r extends e{constructor(i){if(super(),!$t(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return bg}get isParenthesisNode(){return!0}_compile(i,s){return this.content._compile(i,s)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var s=i(this.content,"content",this);return new r(s)}clone(){return new r(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:bg,content:this.content}}static fromJSON(i){return new r(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Rr(r,"name",bg),r},{isClass:!0,isNode:!0}),wg="RangeNode",O0e=["Node"],F0e=H(wg,O0e,t=>{var{Node:e}=t;function r(i,s,a){var o=qt(i,s,a),l={},u=qt(i.start,s,a);if(l.start=u!==null&&u<=o||s==="all",i.step){var c=qt(i.step,s,a);l.step=c!==null&&c<=o||s==="all"}var f=qt(i.end,s,a);return l.end=f!==null&&f<=o||s==="all",l}class n extends e{constructor(s,a,o){if(super(),!$t(s))throw new TypeError("Node expected");if(!$t(a))throw new TypeError("Node expected");if(o&&!$t(o))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=s,this.end=a,this.step=o||null}get type(){return wg}get isRangeNode(){return!0}needsEnd(){var s=this.filter(function(a){return Xr(a)&&a.name==="end"});return s.length>0}_compile(s,a){var o=s.range,l=this.start._compile(s,a),u=this.end._compile(s,a);if(this.step){var c=this.step._compile(s,a);return function(h,d,m){return o(l(h,d,m),u(h,d,m),c(h,d,m))}}else return function(h,d,m){return o(l(h,d,m),u(h,d,m))}}forEach(s){s(this.start,"start",this),s(this.end,"end",this),this.step&&s(this.step,"step",this)}map(s){return new n(this._ifNode(s(this.start,"start",this)),this._ifNode(s(this.end,"end",this)),this.step&&this._ifNode(s(this.step,"step",this)))}clone(){return new n(this.start,this.end,this.step&&this.step)}_toString(s){var a=s&&s.parenthesis?s.parenthesis:"keep",o=r(this,a,s&&s.implicit),l,u=this.start.toString(s);if(o.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(s);o.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(s);return o.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:wg,start:this.start,end:this.end,step:this.step}}static fromJSON(s){return new n(s.start,s.end,s.step)}_toHTML(s){var a=s&&s.parenthesis?s.parenthesis:"keep",o=r(this,a,s&&s.implicit),l,u=this.start.toHTML(s);if(o.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(s);o.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(s);return o.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(s){var a=s&&s.parenthesis?s.parenthesis:"keep",o=r(this,a,s&&s.implicit),l=this.start.toTex(s);if(o.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(s);o.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(s);return o.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Rr(n,"name",wg),n},{isClass:!0,isNode:!0}),_g="RelationalNode",B0e=["Node"],L0e=H(_g,B0e,t=>{var{Node:e}=t,r={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class n extends e{constructor(s,a){if(super(),!Array.isArray(s))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(s.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=s,this.params=a}get type(){return _g}get isRelationalNode(){return!0}_compile(s,a){var o=this,l=this.params.map(u=>u._compile(s,a));return function(c,f,h){for(var d,m=l[0](c,f,h),p=0;p<o.conditionals.length;p++){d=m,m=l[p+1](c,f,h);var g=jn(s,o.conditionals[p]);if(!g(d,m))return!1}return!0}}forEach(s){this.params.forEach((a,o)=>s(a,"params["+o+"]",this),this)}map(s){return new n(this.conditionals.slice(),this.params.map((a,o)=>this._ifNode(s(a,"params["+o+"]",this)),this))}clone(){return new n(this.conditionals,this.params)}_toString(s){for(var a=s&&s.parenthesis?s.parenthesis:"keep",o=qt(this,a,s&&s.implicit),l=this.params.map(function(f,h){var d=qt(f,a,s&&s.implicit);return a==="all"||d!==null&&d<=o?"("+f.toString(s)+")":f.toString(s)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+r[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:_g,conditionals:this.conditionals,params:this.params}}static fromJSON(s){return new n(s.conditionals,s.params)}_toHTML(s){for(var a=s&&s.parenthesis?s.parenthesis:"keep",o=qt(this,a,s&&s.implicit),l=this.params.map(function(f,h){var d=qt(f,a,s&&s.implicit);return a==="all"||d!==null&&d<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(s)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(s)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+zi(r[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(s){for(var a=s&&s.parenthesis?s.parenthesis:"keep",o=qt(this,a,s&&s.implicit),l=this.params.map(function(f,h){var d=qt(f,a,s&&s.implicit);return a==="all"||d!==null&&d<=o?"\\left("+f.toTex(s)+"\right)":f.toTex(s)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=Dt[this.conditionals[c]]+l[c+1];return u}}return Rr(n,"name",_g),n},{isClass:!0,isNode:!0}),V0e="SymbolNode",$0e=["math","?Unit","Node"],z0e=H(V0e,$0e,t=>{var{math:e,Unit:r,Node:n}=t;function i(a){return r?r.isValuelessUnit(a):!1}class s extends n{constructor(o){if(super(),typeof o!="string")throw new TypeError('String expected for parameter "name"');this.name=o}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(o,l){var u=this.name;if(l[u]===!0)return function(f,h,d){return jn(h,u)};if(u in o)return function(f,h,d){return f.has(u)?f.get(u):jn(o,u)};var c=i(u);return function(f,h,d){return f.has(u)?f.get(u):c?new r(null,u):s.onUndefinedSymbol(u)}}forEach(o){}map(o){return this.clone()}static onUndefinedSymbol(o){throw new Error("Undefined symbol "+o)}clone(){return new s(this.name)}_toString(o){return this.name}_toHTML(o){var l=zi(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(o){return new s(o.name)}_toTex(o){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=y$(this.name,l);return u[0]==="\\"?u:" "+u}}return s},{isClass:!0,isNode:!0}),Eg="FunctionNode",j0e=["math","Node","SymbolNode"],U0e=H(Eg,j0e,t=>{var e,{math:r,Node:n,SymbolNode:i}=t,s=l=>pt(l,{truncate:78});function a(l,u,c){for(var f="",h=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,d=0,m;(m=h.exec(l))!==null;)if(f+=l.substring(d,m.index),d=m.index,m[0]==="$$")f+="$",d++;else{d+=m[0].length;var p=u[m[1]];if(!p)throw new ReferenceError("Template: Property "+m[1]+" does not exist.");if(m[2]===void 0)switch(typeof p){case"string":f+=p;break;case"object":if($t(p))f+=p.toTex(c);else if(Array.isArray(p))f+=p.map(function(g,v){if($t(g))return g.toTex(c);throw new TypeError("Template: "+m[1]+"["+v+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+m[1]+" has to be a Node, String or array of Nodes")}else if($t(p[m[2]]&&p[m[2]]))f+=p[m[2]].toTex(c);else throw new TypeError("Template: "+m[1]+"["+m[2]+"] is not a Node.")}return f+=l.slice(d),f}class o extends n{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!$t(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every($t))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Eg}get isFunctionNode(){return!0}_compile(u,c){var f=this.args.map(A=>A._compile(u,c));if(Xr(this.fn)){var h=this.fn.name;if(c[h]){var v=this.args;return function(N,D,C){var M=jn(D,h);if(typeof M!="function")throw new TypeError("Argument '".concat(h,"' was not a function; received: ").concat(s(M)));if(M.rawArgs)return M(v,u,Wh(N,D));var I=f.map(z=>z(N,D,C));return M.apply(M,I)}}else{var d=h in u?jn(u,h):void 0,m=typeof d=="function"&&d.rawArgs===!0,p=A=>{var N;if(A.has(h))N=A.get(h);else if(h in u)N=jn(u,h);else return o.onUndefinedFunction(h);if(typeof N=="function")return N;throw new TypeError("'".concat(h,`' is not a function; its value is:
  `).concat(s(N)))};if(m){var g=this.args;return function(N,D,C){var M=p(N);if(M.rawArgs===!0)return M(g,u,Wh(N,D));var I=f.map(z=>z(N,D,C));return M(...I)}}else switch(f.length){case 0:return function(N,D,C){var M=p(N);return M()};case 1:return function(N,D,C){var M=p(N),I=f[0];return M(I(N,D,C))};case 2:return function(N,D,C){var M=p(N),I=f[0],z=f[1];return M(I(N,D,C),z(N,D,C))};default:return function(N,D,C){var M=p(N),I=f.map(z=>z(N,D,C));return M(...I)}}}}else if(Tu(this.fn)&&Hf(this.fn.index)&&this.fn.index.isObjectProperty()){var b=this.fn.object._compile(u,c),y=this.fn.index.getObjectProperty(),x=this.args;return function(N,D,C){var M=b(N,D,C),I=doe(M,y);if(I!=null&&I.rawArgs)return I(x,u,Wh(N,D));var z=f.map(V=>V(N,D,C));return I.apply(M,z)}}else{var w=this.fn.toString(),E=this.fn._compile(u,c),S=this.args;return function(N,D,C){var M=E(N,D,C);if(typeof M!="function")throw new TypeError("Expression '".concat(w,"' did not evaluate to a function; value is:")+`
  `.concat(s(M)));if(M.rawArgs)return M(S,u,Wh(N,D));var I=f.map(z=>z(N,D,C));return M.apply(M,I)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),f=[],h=0;h<this.args.length;h++)f[h]=this._ifNode(u(this.args[h],"args["+h+"]",this));return new o(c,f)}clone(){return new o(this.fn,this.args.slice(0))}toString(u){var c,f=this.fn.toString(u);return u&&typeof u.handler=="object"&&qe(u.handler,f)&&(c=u.handler[f](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(h){return h.toString(u)}),f=Ym(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Eg,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(f){return f.toHTML(u)});return'<span class="math-function">'+zi(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&qe(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(d){return d.toTex(u)}),f;_R[this.name]&&(f=_R[this.name]),r[this.name]&&(typeof r[this.name].toTex=="function"||typeof r[this.name].toTex=="object"||typeof r[this.name].toTex=="string")&&(f=r[this.name].toTex);var h;switch(typeof f){case"function":h=f(this,u);break;case"string":h=a(f,this,u);break;case"object":switch(typeof f[c.length]){case"function":h=f[c.length](this,u);break;case"string":h=a(f[c.length],this,u);break}}return typeof h<"u"?h:a(_0e,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=o,Rr(o,"name",Eg),Rr(o,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Rr(o,"fromJSON",function(l){return new e(l.fn,l.args)}),o},{isClass:!0,isNode:!0}),SR="parse",q0e=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],H0e=H(SR,q0e,t=>{var{typed:e,numeric:r,config:n,AccessorNode:i,ArrayNode:s,AssignmentNode:a,BlockNode:o,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:h,ObjectNode:d,OperatorNode:m,ParenthesisNode:p,RangeNode:g,RelationalNode:v,SymbolNode:b}=t,y=e(SR,{string:function(Z){return ie(Z,{})},"Array | Matrix":function(Z){return x(Z,{})},"string, Object":function(Z,de){var _e=de.nodes!==void 0?de.nodes:{};return ie(Z,_e)},"Array | Matrix, Object":x});function x(R){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},de=Z.nodes!==void 0?Z.nodes:{};return dt(R,function(_e){if(typeof _e!="string")throw new TypeError("String expected");return ie(_e,de)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},E={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},S={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},N=["NaN","Infinity"],D={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function C(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null}}function M(R,Z){return R.expression.substr(R.index,Z)}function I(R){return M(R,1)}function z(R){R.index++}function V(R){return R.expression.charAt(R.index-1)}function k(R){return R.expression.charAt(R.index+1)}function L(R){for(R.tokenType=w.NULL,R.token="",R.comment="";;){if(I(R)==="#")for(;I(R)!==`
`&&I(R)!=="";)R.comment+=I(R),z(R);if(y.isWhitespace(I(R),R.nestingLevel))z(R);else break}if(I(R)===""){R.tokenType=w.DELIMITER;return}if(I(R)===`
`&&!R.nestingLevel){R.tokenType=w.DELIMITER,R.token=I(R),z(R);return}var Z=I(R),de=M(R,2),_e=M(R,3);if(_e.length===3&&E[_e]){R.tokenType=w.DELIMITER,R.token=_e,z(R),z(R),z(R);return}if(de.length===2&&E[de]){R.tokenType=w.DELIMITER,R.token=de,z(R),z(R);return}if(E[Z]){R.tokenType=w.DELIMITER,R.token=Z,z(R);return}if(y.isDigitDot(Z)){R.tokenType=w.NUMBER;var Ye=M(R,2);if(Ye==="0b"||Ye==="0o"||Ye==="0x"){for(R.token+=I(R),z(R),R.token+=I(R),z(R);y.isHexDigit(I(R));)R.token+=I(R),z(R);if(I(R)===".")for(R.token+=".",z(R);y.isHexDigit(I(R));)R.token+=I(R),z(R);else if(I(R)==="i")for(R.token+="i",z(R);y.isDigit(I(R));)R.token+=I(R),z(R);return}if(I(R)==="."){if(R.token+=I(R),z(R),!y.isDigit(I(R))){R.tokenType=w.DELIMITER;return}}else{for(;y.isDigit(I(R));)R.token+=I(R),z(R);y.isDecimalMark(I(R),k(R))&&(R.token+=I(R),z(R))}for(;y.isDigit(I(R));)R.token+=I(R),z(R);if(I(R)==="E"||I(R)==="e"){if(y.isDigit(k(R))||k(R)==="-"||k(R)==="+"){if(R.token+=I(R),z(R),(I(R)==="+"||I(R)==="-")&&(R.token+=I(R),z(R)),!y.isDigit(I(R)))throw Ge(R,'Digit expected, got "'+I(R)+'"');for(;y.isDigit(I(R));)R.token+=I(R),z(R);if(y.isDecimalMark(I(R),k(R)))throw Ge(R,'Digit expected, got "'+I(R)+'"')}else if(y.isDecimalMark(k(R),R.expression.charAt(R.index+2)))throw z(R),Ge(R,'Digit expected, got "'+I(R)+'"')}return}if(y.isAlpha(I(R),V(R),k(R))){for(;y.isAlpha(I(R),V(R),k(R))||y.isDigit(I(R));)R.token+=I(R),z(R);qe(S,R.token)?R.tokenType=w.DELIMITER:R.tokenType=w.SYMBOL;return}for(R.tokenType=w.UNKNOWN;I(R)!=="";)R.token+=I(R),z(R);throw Ge(R,'Syntax error in part "'+R.token+'"')}function B(R){do L(R);while(R.token===`
`)}function $(R){R.nestingLevel++}function Y(R){R.nestingLevel--}y.isAlpha=function(Z,de,_e){return y.isValidLatinOrGreek(Z)||y.isValidMathSymbol(Z,_e)||y.isValidMathSymbol(de,Z)},y.isValidLatinOrGreek=function(Z){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Z)},y.isValidMathSymbol=function(Z,de){return/^[\uD835]$/.test(Z)&&/^[\uDC00-\uDFFF]$/.test(de)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(de)},y.isWhitespace=function(Z,de){return Z===" "||Z==="	"||Z===" "||Z===`
`&&de>0},y.isDecimalMark=function(Z,de){return Z==="."&&de!=="/"&&de!=="*"&&de!=="^"},y.isDigitDot=function(Z){return Z>="0"&&Z<="9"||Z==="."},y.isDigit=function(Z){return Z>="0"&&Z<="9"},y.isHexDigit=function(Z){return Z>="0"&&Z<="9"||Z>="a"&&Z<="f"||Z>="A"&&Z<="F"};function ie(R,Z){var de=C();Lr(de,{expression:R,extraNodes:Z}),L(de);var _e=O(de);if(de.token!=="")throw de.tokenType===w.DELIMITER?Rt(de,"Unexpected operator "+de.token):Ge(de,'Unexpected part "'+de.token+'"');return _e}function O(R){var Z,de=[],_e;for(R.token!==""&&R.token!==`
`&&R.token!==";"&&(Z=q(R),R.comment&&(Z.comment=R.comment));R.token===`
`||R.token===";";)de.length===0&&Z&&(_e=R.token!==";",de.push({node:Z,visible:_e})),L(R),R.token!==`
`&&R.token!==";"&&R.token!==""&&(Z=q(R),R.comment&&(Z.comment=R.comment),_e=R.token!==";",de.push({node:Z,visible:_e}));return de.length>0?new o(de):(Z||(Z=new u(void 0),R.comment&&(Z.comment=R.comment)),Z)}function q(R){var Z,de,_e,Ye,Xe=j(R);if(R.token==="="){if(Xr(Xe))return Z=Xe.name,B(R),_e=q(R),new a(new b(Z),_e);if(Tu(Xe))return B(R),_e=q(R),new a(Xe.object,Xe.index,_e);if(il(Xe)&&Xr(Xe.fn)&&(Ye=!0,de=[],Z=Xe.name,Xe.args.forEach(function(cr,Tl){Xr(cr)?de[Tl]=cr.name:Ye=!1}),Ye))return B(R),_e=q(R),new c(Z,de,_e);throw Ge(R,"Invalid left hand side of assignment operator =")}return Xe}function j(R){for(var Z=me(R);R.token==="?";){var de=R.conditionalLevel;R.conditionalLevel=R.nestingLevel,B(R);var _e=Z,Ye=q(R);if(R.token!==":")throw Ge(R,"False part of conditional expression expected");R.conditionalLevel=null,B(R);var Xe=q(R);Z=new l(_e,Ye,Xe),R.conditionalLevel=de}return Z}function me(R){for(var Z=ue(R);R.token==="or";)B(R),Z=new m("or","or",[Z,ue(R)]);return Z}function ue(R){for(var Z=fe(R);R.token==="xor";)B(R),Z=new m("xor","xor",[Z,fe(R)]);return Z}function fe(R){for(var Z=W(R);R.token==="and";)B(R),Z=new m("and","and",[Z,W(R)]);return Z}function W(R){for(var Z=X(R);R.token==="|";)B(R),Z=new m("|","bitOr",[Z,X(R)]);return Z}function X(R){for(var Z=ee(R);R.token==="^|";)B(R),Z=new m("^|","bitXor",[Z,ee(R)]);return Z}function ee(R){for(var Z=se(R);R.token==="&";)B(R),Z=new m("&","bitAnd",[Z,se(R)]);return Z}function se(R){for(var Z=[oe(R)],de=[],_e={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};qe(_e,R.token);){var Ye={name:R.token,fn:_e[R.token]};de.push(Ye),B(R),Z.push(oe(R))}return Z.length===1?Z[0]:Z.length===2?new m(de[0].name,de[0].fn,Z):new v(de.map(Xe=>Xe.fn),Z)}function oe(R){var Z,de,_e,Ye;Z=ve(R);for(var Xe={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};qe(Xe,R.token);)de=R.token,_e=Xe[de],B(R),Ye=[Z,ve(R)],Z=new m(de,_e,Ye);return Z}function ve(R){var Z,de,_e,Ye;Z=pe(R);for(var Xe={to:"to",in:"to"};qe(Xe,R.token);)de=R.token,_e=Xe[de],B(R),de==="in"&&"])},;".includes(R.token)?Z=new m("*","multiply",[Z,new b("in")],!0):(Ye=[Z,pe(R)],Z=new m(de,_e,Ye));return Z}function pe(R){var Z,de=[];if(R.token===":"?Z=new u(1):Z=De(R),R.token===":"&&R.conditionalLevel!==R.nestingLevel){for(de.push(Z);R.token===":"&&de.length<3;)B(R),R.token===")"||R.token==="]"||R.token===","||R.token===""?de.push(new b("end")):de.push(De(R));de.length===3?Z=new g(de[0],de[2],de[1]):Z=new g(de[0],de[1])}return Z}function De(R){var Z,de,_e,Ye;Z=Be(R);for(var Xe={"+":"add","-":"subtract"};qe(Xe,R.token);){de=R.token,_e=Xe[de],B(R);var cr=Be(R);cr.isPercentage?Ye=[Z,new m("*","multiply",[Z,cr])]:Ye=[Z,cr],Z=new m(de,_e,Ye)}return Z}function Be(R){var Z,de,_e,Ye;Z=ze(R),de=Z;for(var Xe={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};qe(Xe,R.token);)if(_e=R.token,Ye=Xe[_e],B(R),_e==="%"&&R.tokenType===w.DELIMITER&&R.token!=="(")if(R.token!==""&&Xe[R.token]){var cr=new m("/","divide",[Z,new u(100)],!1,!0);_e=R.token,Ye=Xe[_e],B(R),de=ze(R),Z=new m(_e,Ye,[cr,de])}else Z=new m("/","divide",[Z,new u(100)],!1,!0);else de=ze(R),Z=new m(_e,Ye,[Z,de]);return Z}function ze(R){var Z,de;for(Z=ke(R),de=Z;R.tokenType===w.SYMBOL||R.token==="in"&&_t(Z)||R.token==="in"&&Ar(Z)&&Z.fn==="unaryMinus"&&_t(Z.args[0])||R.tokenType===w.NUMBER&&!_t(de)&&(!Ar(de)||de.op==="!")||R.token==="(";)de=ke(R),Z=new m("*","multiply",[Z,de],!0);return Z}function ke(R){for(var Z=He(R),de=Z,_e=[];R.token==="/"&&N_(de);)if(_e.push(Lr({},R)),B(R),R.tokenType===w.NUMBER)if(_e.push(Lr({},R)),B(R),R.tokenType===w.SYMBOL||R.token==="("||R.token==="in")Lr(R,_e.pop()),_e.pop(),de=He(R),Z=new m("/","divide",[Z,de]);else{_e.pop(),Lr(R,_e.pop());break}else{Lr(R,_e.pop());break}return Z}function He(R){var Z,de,_e,Ye={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return qe(Ye,R.token)?(_e=Ye[R.token],Z=R.token,B(R),de=[He(R)],new m(Z,_e,de)):K(R)}function K(R){var Z,de,_e,Ye;return Z=te(R),(R.token==="^"||R.token===".^")&&(de=R.token,_e=de==="^"?"pow":"dotPow",B(R),Ye=[Z,He(R)],Z=new m(de,_e,Ye)),Z}function te(R){var Z,de,_e,Ye;Z=ce(R);for(var Xe={"!":"factorial","'":"ctranspose"};qe(Xe,R.token);)de=R.token,_e=Xe[de],L(R),Ye=[Z],Z=new m(de,_e,Ye),Z=Q(R,Z);return Z}function ce(R){var Z=[];if(R.tokenType===w.SYMBOL&&qe(R.extraNodes,R.token)){var de=R.extraNodes[R.token];if(L(R),R.token==="("){if(Z=[],$(R),L(R),R.token!==")")for(Z.push(q(R));R.token===",";)L(R),Z.push(q(R));if(R.token!==")")throw Ge(R,"Parenthesis ) expected");Y(R),L(R)}return new de(Z)}return U(R)}function U(R){var Z,de;return R.tokenType===w.SYMBOL||R.tokenType===w.DELIMITER&&R.token in S?(de=R.token,L(R),qe(A,de)?Z=new u(A[de]):N.includes(de)?Z=new u(r(de,"number")):Z=new b(de),Z=Q(R,Z),Z):re(R)}function Q(R,Z,de){for(var _e;R.token==="("||R.token==="["||R.token===".";)if(_e=[],R.token==="(")if(Xr(Z)||Tu(Z)){if($(R),L(R),R.token!==")")for(_e.push(q(R));R.token===",";)L(R),_e.push(q(R));if(R.token!==")")throw Ge(R,"Parenthesis ) expected");Y(R),L(R),Z=new f(Z,_e)}else return Z;else if(R.token==="["){if($(R),L(R),R.token!=="]")for(_e.push(q(R));R.token===",";)L(R),_e.push(q(R));if(R.token!=="]")throw Ge(R,"Parenthesis ] expected");Y(R),L(R),Z=new i(Z,new h(_e))}else{L(R);var Ye=R.tokenType===w.SYMBOL||R.tokenType===w.DELIMITER&&R.token in S;if(!Ye)throw Ge(R,"Property name expected after dot");_e.push(new u(R.token)),L(R);var Xe=!0;Z=new i(Z,new h(_e,Xe))}return Z}function re(R){var Z,de;return R.token==='"'||R.token==="'"?(de=ae(R,R.token),Z=new u(de),Z=Q(R,Z),Z):le(R)}function ae(R,Z){for(var de="";I(R)!==""&&I(R)!==Z;)if(I(R)==="\\"){z(R);var _e=I(R),Ye=D[_e];if(Ye!==void 0)de+=Ye,R.index+=1;else if(_e==="u"){var Xe=R.expression.slice(R.index+1,R.index+5);if(/^[0-9A-Fa-f]{4}$/.test(Xe))de+=String.fromCharCode(parseInt(Xe,16)),R.index+=5;else throw Ge(R,"Invalid unicode character \\u".concat(Xe))}else throw Ge(R,"Bad escape character \\".concat(_e))}else de+=I(R),z(R);if(L(R),R.token!==Z)throw Ge(R,"End of string ".concat(Z," expected"));return L(R),de}function le(R){var Z,de,_e,Ye;if(R.token==="["){if($(R),L(R),R.token!=="]"){var Xe=ge(R);if(R.token===";"){for(_e=1,de=[Xe];R.token===";";)L(R),R.token!=="]"&&(de[_e]=ge(R),_e++);if(R.token!=="]")throw Ge(R,"End of matrix ] expected");Y(R),L(R),Ye=de[0].items.length;for(var cr=1;cr<_e;cr++)if(de[cr].items.length!==Ye)throw Rt(R,"Column dimensions mismatch ("+de[cr].items.length+" !== "+Ye+")");Z=new s(de)}else{if(R.token!=="]")throw Ge(R,"End of matrix ] expected");Y(R),L(R),Z=Xe}}else Y(R),L(R),Z=new s([]);return Q(R,Z)}return Se(R)}function ge(R){for(var Z=[q(R)],de=1;R.token===",";)L(R),R.token!=="]"&&R.token!==";"&&(Z[de]=q(R),de++);return new s(Z)}function Se(R){if(R.token==="{"){$(R);var Z,de={};do if(L(R),R.token!=="}"){if(R.token==='"'||R.token==="'")Z=ae(R,R.token);else if(R.tokenType===w.SYMBOL||R.tokenType===w.DELIMITER&&R.token in S)Z=R.token,L(R);else throw Ge(R,"Symbol or string expected as object key");if(R.token!==":")throw Ge(R,"Colon : expected after object key");L(R),de[Z]=q(R)}while(R.token===",");if(R.token!=="}")throw Ge(R,"Comma , or bracket } expected after object value");Y(R),L(R);var _e=new d(de);return _e=Q(R,_e),_e}return Te(R)}function Te(R){var Z;if(R.tokenType===w.NUMBER){Z=R.token,L(R);var de=yl(Z,n),_e=r(Z,de);return new u(_e)}return Ce(R)}function Ce(R){var Z;if(R.token==="("){if($(R),L(R),Z=q(R),R.token!==")")throw Ge(R,"Parenthesis ) expected");return Y(R),L(R),Z=new p(Z),Z=Q(R,Z),Z}return Ae(R)}function Ae(R){throw R.token===""?Ge(R,"Unexpected end of expression"):Ge(R,"Value expected")}function yt(R){return R.index-R.token.length+1}function Ge(R,Z){var de=yt(R),_e=new SyntaxError(Z+" (char "+de+")");return _e.char=de,_e}function Rt(R,Z){var de=yt(R),_e=new SyntaxError(Z+" (char "+de+")");return _e.char=de,_e}return e.addConversion({from:"string",to:"Node",convert:y}),y}),AR="compile",W0e=["typed","parse"],G0e=H(AR,W0e,t=>{var{typed:e,parse:r}=t;return e(AR,{string:function(i){return r(i).compile()},"Array | Matrix":function(i){return dt(i,function(s){return r(s).compile()})}})}),NR="evaluate",K0e=["typed","parse"],Y0e=H(NR,K0e,t=>{var{typed:e,parse:r}=t;return e(NR,{string:function(i){var s=fm();return r(i).compile().evaluate(s)},"string, Map | Object":function(i,s){return r(i).compile().evaluate(s)},"Array | Matrix":function(i){var s=fm();return dt(i,function(a){return r(a).compile().evaluate(s)})},"Array | Matrix, Map | Object":function(i,s){return dt(i,function(a){return r(a).compile().evaluate(s)})}})}),Q0e="Parser",X0e=["evaluate","parse"],J0e=H(Q0e,X0e,t=>{var{evaluate:e,parse:r}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:fm(),writable:!1})}n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(s){return e(s,this.scope)},n.prototype.get=function(s){if(this.scope.has(s))return this.scope.get(s)},n.prototype.getAll=function(){return voe(this.scope)},n.prototype.getAllAsMap=function(){return this.scope};function i(s){if(s.length===0)return!1;for(var a=0;a<s.length;a++){var o=s.charAt(a-1),l=s.charAt(a),u=s.charAt(a+1),c=r.isAlpha(l,o,u)||a>0&&r.isDigit(l);if(!c)return!1}return!0}return n.prototype.set=function(s,a){if(!i(s))throw new Error("Invalid variable name: '".concat(s,"'. Variable names must follow the specified rules."));return this.scope.set(s,a),a},n.prototype.remove=function(s){this.scope.delete(s)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),TR="parser",Z0e=["typed","Parser"],eye=H(TR,Z0e,t=>{var{typed:e,Parser:r}=t;return e(TR,{"":function(){return new r}})}),DR="lup",tye=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],rye=H(DR,tye,t=>{var{typed:e,matrix:r,abs:n,addScalar:i,divideScalar:s,multiplyScalar:a,subtractScalar:o,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:h,Spa:d}=t;return e(DR,{DenseMatrix:function(v){return m(v)},SparseMatrix:function(v){return p(v)},Array:function(v){var b=r(v),y=m(b);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function m(g){var v=g._size[0],b=g._size[1],y=Math.min(v,b),x=at(g._data),w=[],E=[v,y],S=[],A=[y,b],N,D,C,M=[];for(N=0;N<v;N++)M[N]=N;for(D=0;D<b;D++){if(D>0)for(N=0;N<v;N++){var I=Math.min(N,D),z=0;for(C=0;C<I;C++)z=i(z,a(x[N][C],x[C][D]));x[N][D]=o(x[N][D],z)}var V=D,k=0,L=0;for(N=D;N<v;N++){var B=x[N][D],$=n(B);l($,k)&&(V=N,k=$,L=B)}if(D!==V&&(M[D]=[M[V],M[V]=M[D]][0],f._swapRows(D,V,x)),D<v)for(N=D+1;N<v;N++){var Y=x[N][D];u(Y,0)||(x[N][D]=s(x[N][D],L))}}for(D=0;D<b;D++)for(N=0;N<v;N++){if(D===0&&(N<b&&(S[N]=[]),w[N]=[]),N<D){N<b&&(S[N][D]=x[N][D]),D<v&&(w[N][D]=0);continue}if(N===D){N<b&&(S[N][D]=x[N][D]),D<v&&(w[N][D]=1);continue}N<b&&(S[N][D]=0),D<v&&(w[N][D]=x[N][D])}var ie=new f({data:w,size:E}),O=new f({data:S,size:A}),q=[];for(N=0,y=M.length;N<y;N++)q[M[N]]=N;return{L:ie,U:O,p:q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function p(g){var v=g._size[0],b=g._size[1],y=Math.min(v,b),x=g._values,w=g._index,E=g._ptr,S=[],A=[],N=[],D=[v,y],C=[],M=[],I=[],z=[y,b],V,k,L,B=[],$=[];for(V=0;V<v;V++)B[V]=V,$[V]=V;var Y=function(q,j){var me=$[q],ue=$[j];B[me]=j,B[ue]=q,$[q]=ue,$[j]=me},ie=function(){var q=new d;k<v&&(N.push(S.length),S.push(1),A.push(k)),I.push(C.length);var j=E[k],me=E[k+1];for(L=j;L<me;L++)V=w[L],q.set(B[V],x[L]);k>0&&q.forEach(0,k-1,function(X,ee){h._forEachRow(X,S,A,N,function(se,oe){se>X&&q.accumulate(se,c(a(oe,ee)))})});var ue=k,fe=q.get(k),W=n(fe);q.forEach(k+1,v-1,function(X,ee){var se=n(ee);l(se,W)&&(ue=X,W=se,fe=ee)}),k!==ue&&(h._swapRows(k,ue,D[1],S,A,N),h._swapRows(k,ue,z[1],C,M,I),q.swap(k,ue),Y(k,ue)),q.forEach(0,v-1,function(X,ee){X<=k?(C.push(ee),M.push(X)):(ee=s(ee,fe),u(ee,0)||(S.push(ee),A.push(X)))})};for(k=0;k<b;k++)ie();return I.push(C.length),N.push(S.length),{L:new h({values:S,index:A,ptr:N,size:D}),U:new h({values:C,index:M,ptr:I,size:z}),p:B,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),CR="qr",nye=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],iye=H(CR,nye,t=>{var{typed:e,matrix:r,zeros:n,identity:i,isZero:s,equal:a,sign:o,sqrt:l,conj:u,unaryMinus:c,addScalar:f,divideScalar:h,multiplyScalar:d,subtractScalar:m,complex:p}=t;return Lr(e(CR,{DenseMatrix:function(x){return v(x)},SparseMatrix:function(x){return b()},Array:function(x){var w=r(x),E=v(w);return{Q:E.Q.valueOf(),R:E.R.valueOf()}}}),{_denseQRimpl:g});function g(y){var x=y._size[0],w=y._size[1],E=i([x],"dense"),S=E._data,A=y.clone(),N=A._data,D,C,M,I=n([x],"");for(M=0;M<Math.min(w,x);++M){var z=N[M][M],V=c(a(z,0)?1:o(z)),k=u(V),L=0;for(D=M;D<x;D++)L=f(L,d(N[D][M],u(N[D][M])));var B=d(V,l(L));if(!s(B)){var $=m(z,B);for(I[M]=1,D=M+1;D<x;D++)I[D]=h(N[D][M],$);var Y=c(u(h($,B))),ie=void 0;for(C=M;C<w;C++){for(ie=0,D=M;D<x;D++)ie=f(ie,d(u(I[D]),N[D][C]));for(ie=d(ie,Y),D=M;D<x;D++)N[D][C]=d(m(N[D][C],d(I[D],ie)),k)}for(D=0;D<x;D++){for(ie=0,C=M;C<x;C++)ie=f(ie,d(S[D][C],I[C]));for(ie=d(ie,Y),C=M;C<x;++C)S[D][C]=h(m(S[D][C],d(ie,u(I[C]))),k)}}}return{Q:E,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function v(y){var x=g(y),w=x.R._data;if(y._data.length>0)for(var E=w[0][0].type==="Complex"?p(0):0,S=0;S<w.length;++S)for(var A=0;A<S&&A<(w[0]||[]).length;++A)w[S][A]=E;return x}function b(y){throw new Error("qr not implemented for sparse matrices yet")}});function sye(t,e,r,n){t._values;for(var i=t._index,s=t._ptr,a=t._size,o=t._datatype,l=a[0],u=a[1],c=null,f=[],h=[],d=0,m=0;m<u;m++){h[m]=d;for(var p=r?r[m]:m,g=s[p],v=s[p+1],b=g;b<v;b++){var y=i[b];f[d]=y,d++}}return h[u]=d,t.createSparseMatrix({values:c,index:f,ptr:h,size:[l,u],datatype:o})}function x$(t,e,r,n,i,s,a){var o=0;for(r[a]=t;o>=0;){var l=r[a+o],u=r[n+l];u===-1?(o--,s[e++]=l):(r[n+l]=r[i+u],++o,r[a+o]=u)}return e}function aye(t,e){if(!t)return null;var r=0,n,i=[],s=[],a=0,o=e,l=2*e;for(n=0;n<e;n++)s[a+n]=-1;for(n=e-1;n>=0;n--)t[n]!==-1&&(s[o+n]=s[a+t[n]],s[a+t[n]]=n);for(n=0;n<e;n++)t[n]===-1&&(r=x$(n,r,s,a,o,i,l));return i}function oye(t,e){if(!t)return null;var r=t._index,n=t._ptr,i=t._size,s=i[0],a=i[1],o=[],l=[],u=0,c=a,f,h;for(f=0;f<s;f++)l[c+f]=-1;for(var d=0;d<a;d++){o[d]=-1,l[u+d]=-1;for(var m=n[d],p=n[d+1],g=m;g<p;g++){var v=r[g];for(f=l[c+v];f!==-1&&f<d;f=h)h=l[u+f],l[u+f]=d,h===-1&&(o[f]=d);l[c+v]=d}}return o}function lye(t,e,r){for(var n=t._values,i=t._index,s=t._ptr,a=t._size,o=a[1],l=0,u=0;u<o;u++){var c=s[u];for(s[u]=l;c<s[u+1];c++)e(i[c],u,n?n[c]:1,r)&&(i[l]=i[c],n&&(n[l]=n[c]),l++)}return s[o]=l,i.splice(l,i.length-l),n&&n.splice(l,n.length-l),l}function po(t){return-t-2}var uye="csAmd",cye=["add","multiply","transpose"],fye=H(uye,cye,t=>{var{add:e,multiply:r,transpose:n}=t;return function(c,f){if(!f||c<=0||c>3)return null;var h=f._size,d=h[0],m=h[1],p=0,g=Math.max(16,10*Math.sqrt(m));g=Math.min(m-2,g);var v=i(c,f,d,m,g);lye(v,l,null);for(var b=v._index,y=v._ptr,x=y[m],w=[],E=[],S=0,A=m+1,N=2*(m+1),D=3*(m+1),C=4*(m+1),M=5*(m+1),I=6*(m+1),z=7*(m+1),V=w,k=s(m,y,E,S,D,V,N,z,A,I,C,M),L=a(m,y,E,M,C,I,g,A,D,V,N),B=0,$,Y,ie,O,q,j,me,ue,fe,W,X,ee,se,oe,ve,pe;L<m;){for(ie=-1;B<m&&(ie=E[D+B])===-1;B++);E[N+ie]!==-1&&(V[E[N+ie]]=-1),E[D+B]=E[N+ie];var De=E[C+ie],Be=E[A+ie];L+=Be;var ze=0;E[A+ie]=-Be;var ke=y[ie],He=De===0?ke:x,K=He;for(O=1;O<=De+1;O++){for(O>De?(j=ie,me=ke,ue=E[S+ie]-De):(j=b[ke++],me=y[j],ue=E[S+j]),q=1;q<=ue;q++)$=b[me++],!((fe=E[A+$])<=0)&&(ze+=fe,E[A+$]=-fe,b[K++]=$,E[N+$]!==-1&&(V[E[N+$]]=V[$]),V[$]!==-1?E[N+V[$]]=E[N+$]:E[D+E[M+$]]=E[N+$]);j!==ie&&(y[j]=po(ie),E[I+j]=0)}for(De!==0&&(x=K),E[M+ie]=ze,y[ie]=He,E[S+ie]=K-He,E[C+ie]=-2,k=o(k,p,E,I,m),W=He;W<K;W++)if($=b[W],!((X=E[C+$])<=0)){fe=-E[A+$];var te=k-fe;for(ke=y[$],ee=y[$]+X-1;ke<=ee;ke++)j=b[ke],E[I+j]>=k?E[I+j]-=fe:E[I+j]!==0&&(E[I+j]=E[M+j]+te)}for(W=He;W<K;W++){for($=b[W],ee=y[$],se=ee+E[C+$]-1,oe=ee,ve=0,pe=0,ke=ee;ke<=se;ke++)if(j=b[ke],E[I+j]!==0){var ce=E[I+j]-k;ce>0?(pe+=ce,b[oe++]=j,ve+=j):(y[j]=po(ie),E[I+j]=0)}E[C+$]=oe-ee+1;var U=oe,Q=ee+E[S+$];for(ke=se+1;ke<Q;ke++){Y=b[ke];var re=E[A+Y];re<=0||(pe+=re,b[oe++]=Y,ve+=Y)}pe===0?(y[$]=po(ie),fe=-E[A+$],ze-=fe,Be+=fe,L+=fe,E[A+$]=0,E[C+$]=-1):(E[M+$]=Math.min(E[M+$],pe),b[oe]=b[U],b[U]=b[ee],b[ee]=ie,E[S+$]=oe-ee+1,ve=(ve<0?-ve:ve)%m,E[N+$]=E[z+ve],E[z+ve]=$,V[$]=ve)}for(E[M+ie]=ze,p=Math.max(p,ze),k=o(k+p,p,E,I,m),W=He;W<K;W++)if($=b[W],!(E[A+$]>=0))for(ve=V[$],$=E[z+ve],E[z+ve]=-1;$!==-1&&E[N+$]!==-1;$=E[N+$],k++){for(ue=E[S+$],X=E[C+$],ke=y[$]+1;ke<=y[$]+ue-1;ke++)E[I+b[ke]]=k;var ae=$;for(Y=E[N+$];Y!==-1;){var le=E[S+Y]===ue&&E[C+Y]===X;for(ke=y[Y]+1;le&&ke<=y[Y]+ue-1;ke++)E[I+b[ke]]!==k&&(le=0);le?(y[Y]=po($),E[A+$]+=E[A+Y],E[A+Y]=0,E[C+Y]=-1,Y=E[N+Y],E[N+ae]=Y):(ae=Y,Y=E[N+Y])}}for(ke=He,W=He;W<K;W++)$=b[W],!((fe=-E[A+$])<=0)&&(E[A+$]=fe,pe=E[M+$]+ze-fe,pe=Math.min(pe,m-L-fe),E[D+pe]!==-1&&(V[E[D+pe]]=$),E[N+$]=E[D+pe],V[$]=-1,E[D+pe]=$,B=Math.min(B,pe),E[M+$]=pe,b[ke++]=$);E[A+ie]=Be,(E[S+ie]=ke-He)===0&&(y[ie]=-1,E[I+ie]=0),De!==0&&(x=ke)}for($=0;$<m;$++)y[$]=po(y[$]);for(Y=0;Y<=m;Y++)E[D+Y]=-1;for(Y=m;Y>=0;Y--)E[A+Y]>0||(E[N+Y]=E[D+y[Y]],E[D+y[Y]]=Y);for(j=m;j>=0;j--)E[A+j]<=0||y[j]!==-1&&(E[N+j]=E[D+y[j]],E[D+y[j]]=j);for(ie=0,$=0;$<=m;$++)y[$]===-1&&(ie=x$($,ie,E,D,N,w,I));return w.splice(w.length-1,1),w};function i(u,c,f,h,d){var m=n(c);if(u===1&&h===f)return e(c,m);if(u===2){for(var p=m._index,g=m._ptr,v=0,b=0;b<f;b++){var y=g[b];if(g[b]=v,!(g[b+1]-y>d))for(var x=g[b+1];y<x;y++)p[v++]=p[y]}return g[f]=v,c=n(m),r(m,c)}return r(m,c)}function s(u,c,f,h,d,m,p,g,v,b,y,x){for(var w=0;w<u;w++)f[h+w]=c[w+1]-c[w];f[h+u]=0;for(var E=0;E<=u;E++)f[d+E]=-1,m[E]=-1,f[p+E]=-1,f[g+E]=-1,f[v+E]=1,f[b+E]=1,f[y+E]=0,f[x+E]=f[h+E];var S=o(0,0,f,b,u);return f[y+u]=-2,c[u]=-1,f[b+u]=0,S}function a(u,c,f,h,d,m,p,g,v,b,y){for(var x=0,w=0;w<u;w++){var E=f[h+w];if(E===0)f[d+w]=-2,x++,c[w]=-1,f[m+w]=0;else if(E>p)f[g+w]=0,f[d+w]=-1,x++,c[w]=po(u),f[g+u]++;else{var S=f[v+E];S!==-1&&(b[S]=w),f[y+w]=f[v+E],f[v+E]=w}}return x}function o(u,c,f,h,d){if(u<2||u+c<0){for(var m=0;m<d;m++)f[h+m]!==0&&(f[h+m]=1);u=2}return u}function l(u,c){return u!==c}});function hye(t,e,r,n,i,s,a){var o,l,u=0,c;if(t<=e||r[n+e]<=r[i+t])return-1;r[i+t]=r[n+e];var f=r[s+t];if(r[s+t]=e,f===-1)u=1,c=t;else{for(u=2,c=f;c!==r[a+c];c=r[a+c]);for(o=f;o!==c;o=l)l=r[a+o],r[a+o]=c}return{jleaf:u,q:c}}var dye="csCounts",mye=["transpose"],pye=H(dye,mye,t=>{var{transpose:e}=t;return function(r,n,i,s){if(!r||!n||!i)return null;var a=r._size,o=a[0],l=a[1],u,c,f,h,d,m,p,g=4*l+(s?l+o+1:0),v=[],b=0,y=l,x=2*l,w=3*l,E=4*l,S=5*l+1;for(f=0;f<g;f++)v[f]=-1;var A=[],N=e(r),D=N._index,C=N._ptr;for(f=0;f<l;f++)for(c=i[f],A[c]=v[w+c]===-1?1:0;c!==-1&&v[w+c]===-1;c=n[c])v[w+c]=f;if(s){for(f=0;f<l;f++)v[i[f]]=f;for(u=0;u<o;u++){for(f=l,m=C[u],p=C[u+1],d=m;d<p;d++)f=Math.min(f,v[D[d]]);v[S+u]=v[E+f],v[E+f]=u}}for(u=0;u<l;u++)v[b+u]=u;for(f=0;f<l;f++){for(c=i[f],n[c]!==-1&&A[n[c]]--,h=s?v[E+f]:c;h!==-1;h=s?v[S+h]:-1)for(d=C[h];d<C[h+1];d++){u=D[d];var M=hye(u,c,v,w,y,x,b);M.jleaf>=1&&A[c]++,M.jleaf===2&&A[M.q]--}n[c]!==-1&&(v[b+c]=n[c])}for(c=0;c<l;c++)n[c]!==-1&&(A[n[c]]+=A[c]);return A}}),gye="csSqr",vye=["add","multiply","transpose"],yye=H(gye,vye,t=>{var{add:e,multiply:r,transpose:n}=t,i=fye({add:e,multiply:r,transpose:n}),s=pye({transpose:n});return function(l,u,c){var f=u._ptr,h=u._size,d=h[1],m,p={};if(p.q=i(l,u),l&&!p.q)return null;if(c){var g=l?sye(u,null,p.q):u;p.parent=oye(g);var v=aye(p.parent,d);if(p.cp=s(g,p.parent,v,1),g&&p.parent&&p.cp&&a(g,p))for(p.unz=0,m=0;m<d;m++)p.unz+=p.cp[m]}else p.unz=4*f[d]+d,p.lnz=p.unz;return p};function a(o,l){var u=o._ptr,c=o._index,f=o._size,h=f[0],d=f[1];l.pinv=[],l.leftmost=[];var m=l.parent,p=l.pinv,g=l.leftmost,v=[],b=0,y=h,x=h+d,w=h+2*d,E,S,A,N,D;for(S=0;S<d;S++)v[y+S]=-1,v[x+S]=-1,v[w+S]=0;for(E=0;E<h;E++)g[E]=-1;for(S=d-1;S>=0;S--)for(N=u[S],D=u[S+1],A=N;A<D;A++)g[c[A]]=S;for(E=h-1;E>=0;E--)p[E]=-1,S=g[E],S!==-1&&(v[w+S]++===0&&(v[x+S]=E),v[b+E]=v[y+S],v[y+S]=E);for(l.lnz=0,l.m2=h,S=0;S<d;S++)if(E=v[y+S],l.lnz++,E<0&&(E=l.m2++),p[E]=S,!(--w[S]<=0)){l.lnz+=v[w+S];var C=m[S];C!==-1&&(v[w+C]===0&&(v[x+C]=v[x+S]),v[b+v[x+S]]=v[y+C],v[y+C]=v[b+E],v[w+C]+=v[w+S])}for(E=0;E<h;E++)p[E]<0&&(p[E]=S++);return!0}});function G_(t,e){return t[e]<0}function b$(t,e){t[e]=po(t[e])}function MR(t){return t<0?po(t):t}function xye(t,e,r,n,i){var s=e._index,a=e._ptr,o=e._size,l=o[1],u,c,f,h=0;for(n[0]=t;h>=0;){t=n[h];var d=i?i[t]:t;G_(a,t)||(b$(a,t),n[l+h]=d<0?0:MR(a[d]));var m=1;for(c=n[l+h],f=d<0?0:MR(a[d+1]);c<f;c++)if(u=s[c],!G_(a,u)){n[l+h]=c,n[++h]=u,m=0;break}m&&(h--,n[--r]=t)}return r}function bye(t,e,r,n,i){var s=t._ptr,a=t._size,o=e._index,l=e._ptr,u=a[1],c,f,h,d=u;for(f=l[r],h=l[r+1],c=f;c<h;c++){var m=o[c];G_(s,m)||(d=xye(m,t,d,n,i))}for(c=d;c<u;c++)b$(s,n[c]);return d}var wye="csSpsolve",_ye=["divideScalar","multiply","subtract"],Eye=H(wye,_ye,t=>{var{divideScalar:e,multiply:r,subtract:n}=t;return function(s,a,o,l,u,c,f){var h=s._values,d=s._index,m=s._ptr,p=s._size,g=p[1],v=a._values,b=a._index,y=a._ptr,x,w,E,S,A=bye(s,a,o,l,c);for(x=A;x<g;x++)u[l[x]]=0;for(w=y[o],E=y[o+1],x=w;x<E;x++)u[b[x]]=v[x];for(var N=A;N<g;N++){var D=l[N],C=c?c[D]:D;if(!(C<0))for(w=m[C],E=m[C+1],u[D]=e(u[D],h[f?w:E-1]),x=f?w+1:w,S=f?E:E-1;x<S;x++){var M=d[x];u[M]=n(u[M],r(h[x],u[D]))}}return A}}),Sye="csLu",Aye=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Nye=H(Sye,Aye,t=>{var{abs:e,divideScalar:r,multiply:n,subtract:i,larger:s,largerEq:a,SparseMatrix:o}=t,l=Eye({divideScalar:r,multiply:n,subtract:i});return function(c,f,h){if(!c)return null;var d=c._size,m=d[1],p,g=100,v=100;f&&(p=f.q,g=f.lnz||g,v=f.unz||v);var b=[],y=[],x=[],w=new o({values:b,index:y,ptr:x,size:[m,m]}),E=[],S=[],A=[],N=new o({values:E,index:S,ptr:A,size:[m,m]}),D=[],C,M,I=[],z=[];for(C=0;C<m;C++)I[C]=0,D[C]=-1,x[C+1]=0;g=0,v=0;for(var V=0;V<m;V++){x[V]=g,A[V]=v;var k=p?p[V]:V,L=l(w,c,k,z,I,D,1),B=-1,$=-1;for(M=L;M<m;M++)if(C=z[M],D[C]<0){var Y=e(I[C]);s(Y,$)&&($=Y,B=C)}else S[v]=D[C],E[v++]=I[C];if(B===-1||$<=0)return null;D[k]<0&&a(e(I[k]),n($,h))&&(B=k);var ie=I[B];for(S[v]=V,E[v++]=ie,D[B]=V,y[g]=B,b[g++]=1,M=L;M<m;M++)C=z[M],D[C]<0&&(y[g]=C,b[g++]=r(I[C],ie)),I[C]=0}for(x[m]=g,A[m]=v,M=0;M<g;M++)y[M]=D[y[M]];return b.splice(g,b.length-g),y.splice(g,y.length-g),E.splice(v,E.length-v),S.splice(v,S.length-v),{L:w,U:N,pinv:D}}}),IR="slu",Tye=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Dye=H(IR,Tye,t=>{var{typed:e,abs:r,add:n,multiply:i,transpose:s,divideScalar:a,subtract:o,larger:l,largerEq:u,SparseMatrix:c}=t,f=yye({add:n,multiply:i,transpose:s}),h=Nye({abs:r,divideScalar:a,multiply:i,subtract:o,larger:l,largerEq:u,SparseMatrix:c});return e(IR,{"SparseMatrix, number, number":function(m,p,g){if(!We(p)||p<0||p>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var v=f(p,m,!1),b=h(m,v,g);return{L:b.L,U:b.U,p:b.pinv,q:v.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function PR(t,e){var r,n=e.length,i=[];if(t)for(r=0;r<n;r++)i[t[r]]=e[r];else for(r=0;r<n;r++)i[r]=e[r];return i}var kR="lusolve",Cye=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Mye=H(kR,Cye,t=>{var{typed:e,matrix:r,lup:n,slu:i,usolve:s,lsolve:a,DenseMatrix:o}=t,l=Xm({DenseMatrix:o});return e(kR,{"Array, Array | Matrix":function(h,d){h=r(h);var m=n(h),p=c(m.L,m.U,m.p,null,d);return p.valueOf()},"DenseMatrix, Array | Matrix":function(h,d){var m=n(h);return c(m.L,m.U,m.p,null,d)},"SparseMatrix, Array | Matrix":function(h,d){var m=n(h);return c(m.L,m.U,m.p,null,d)},"SparseMatrix, Array | Matrix, number, number":function(h,d,m,p){var g=i(h,m,p);return c(g.L,g.U,g.p,g.q,d)},"Object, Array | Matrix":function(h,d){return c(h.L,h.U,h.p,h.q,d)}});function u(f){if(Je(f))return f;if(Ut(f))return r(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,h,d,m,p){f=u(f),h=u(h),d&&(p=l(f,p,!0),p._data=PR(d,p._data));var g=a(f,p),v=s(h,g);return m&&(v._data=PR(m,v._data)),v}}),RR="polynomialRoot",Iye=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Pye=H(RR,Iye,t=>{var{typed:e,isZero:r,equalScalar:n,add:i,subtract:s,multiply:a,divide:o,sqrt:l,unaryMinus:u,cbrt:c,typeOf:f,im:h,re:d}=t;return e(RR,{"number|Complex, ...number|Complex":(m,p)=>{for(var g=[m,...p];g.length>0&&r(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(m,", ").concat(p,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[u(o(g[0],g[1]))];case 3:{var[v,b,y]=g,x=a(2,y),w=a(b,b),E=a(4,y,v);if(n(w,E))return[o(u(b),x)];var S=l(s(w,E));return[o(s(S,b),x),o(s(u(S),b),x)]}case 4:{var[A,N,D,C]=g,M=u(a(3,C)),I=a(D,D),z=a(3,C,N),V=i(a(2,D,D,D),a(27,C,C,A)),k=a(9,C,D,N);if(n(I,z)&&n(V,k))return[o(D,M)];var L=s(I,z),B=s(V,k),$=i(a(18,C,D,N,A),a(D,D,N,N)),Y=i(a(4,D,D,D,A),a(4,C,N,N,N),a(27,C,C,A,A));if(n($,Y))return[o(s(a(4,C,D,N),i(a(9,C,C,A),a(D,D,D))),a(C,L)),o(s(a(9,C,A),a(D,N)),a(2,L))];var ie;n(I,z)?ie=B:ie=o(i(B,l(s(a(B,B),a(4,L,L,L)))),2);var O=!0,q=c(ie,O).toArray().map(j=>o(i(D,j,o(L,j)),M));return q.map(j=>f(j)==="Complex"&&n(d(j),d(j)+h(j))?d(j):j)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})}),kye="Help",Rye=["evaluate"],Oye=H(kye,Rye,t=>{var{evaluate:e}=t;function r(n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!n)throw new Error('Argument "doc" missing');this.doc=n}return r.prototype.type="Help",r.prototype.isHelp=!0,r.prototype.toString=function(){var n=this.doc||{},i=`
`;if(n.name&&(i+="Name: "+n.name+`

`),n.category&&(i+="Category: "+n.category+`

`),n.description&&(i+=`Description:
    `+n.description+`

`),n.syntax&&(i+=`Syntax:
    `+n.syntax.join(`
    `)+`

`),n.examples){i+=`Examples:
`;for(var s=!1,a=e("config()"),o={config:f=>(s=!0,e("config(newConfig)",{newConfig:f}))},l=0;l<n.examples.length;l++){var u=n.examples[l];i+="    "+u+`
`;var c=void 0;try{c=e(u,o)}catch(f){c=f}c!==void 0&&!T8(c)&&(i+="        "+pt(c,{precision:14})+`
`)}i+=`
`,s&&e("config(originalConfig)",{originalConfig:a})}return n.mayThrow&&n.mayThrow.length&&(i+="Throws: "+n.mayThrow.join(", ")+`

`),n.seealso&&n.seealso.length&&(i+="See also: "+n.seealso.join(", ")+`
`),i},r.prototype.toJSON=function(){var n=at(this.doc);return n.mathjs="Help",n},r.fromJSON=function(n){var i={};return Object.keys(n).filter(s=>s!=="mathjs").forEach(s=>{i[s]=n[s]}),new r(i)},r.prototype.valueOf=r.prototype.toString,r},{isClass:!0}),Fye="Chain",Bye=["?on","math","typed"],Lye=H(Fye,Bye,t=>{var{on:e,math:r,typed:n}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");C8(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return pt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function s(u,c){typeof c=="function"&&(i.prototype[u]=o(c))}function a(u,c){Ioe(i.prototype,u,function(){var h=c();if(typeof h=="function")return o(h)})}function o(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(n.isTypedFunction(u)){var h=n.resolve(u,c);if(h.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(h.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")s(u,c);else{var f=function(m){qe(u,m)&&l[m]===void 0&&a(m,()=>u[m])};for(var h in u)f(h)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(r),e&&e("import",function(u,c,f){f||a(u,c)}),i},{isClass:!0}),OR={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Vye={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},$ye={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},zye={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},jye={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},Uye={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},qye={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},Hye={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},Wye={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},Gye={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},Kye={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},FR={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Yye={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},Qye={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},Xye={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},Jye={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},Zye={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},e1e={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},t1e={name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},r1e={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},n1e={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},i1e={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},s1e={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},a1e={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},o1e={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},l1e={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},u1e={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},c1e={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},f1e={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},h1e={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},d1e={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},m1e={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},p1e={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},g1e={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},v1e={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},y1e={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},x1e={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},b1e={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},w1e={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},_1e={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},E1e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},S1e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},A1e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},N1e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},T1e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},D1e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},C1e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},M1e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},I1e={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},P1e={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},k1e={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},R1e={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},O1e={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},F1e={name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},B1e={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},L1e={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},V1e={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},$1e={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},z1e={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},j1e={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},U1e={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},q1e={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},H1e={name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},W1e={name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},G1e={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},K1e={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},Y1e={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},Q1e={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},X1e={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},J1e={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},Z1e={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},exe={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},txe={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},rxe={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},nxe={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},ixe={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},sxe={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},axe={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},oxe={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},lxe={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},uxe={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},cxe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},fxe={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},hxe={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},dxe={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},mxe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},pxe={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},gxe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},vxe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},yxe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},xxe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bxe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},wxe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},_xe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},Exe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},Sxe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},Axe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},Nxe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},Txe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},Dxe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},Cxe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},Mxe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},Ixe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},Pxe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},kxe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},Rxe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},Oxe={name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},Fxe={name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},Bxe={name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},Lxe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},Vxe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},$xe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},zxe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},jxe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},Uxe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},qxe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},Hxe={name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},Wxe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},Gxe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Kxe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},Yxe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},Qxe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},Xxe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Jxe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Zxe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},ebe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},tbe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},rbe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},nbe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},ibe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},sbe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},abe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},obe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},lbe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},ube={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},cbe={name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},fbe={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},hbe={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},dbe={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},mbe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},pbe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},gbe={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},vbe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},ybe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},xbe={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},bbe={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},wbe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},_be={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},Ebe={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},Sbe={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},Abe={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},Nbe={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},Tbe={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},Dbe={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},Cbe={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},Mbe={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},Ibe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},Pbe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},kbe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},Rbe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},Obe={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},Fbe={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},Bbe={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},Lbe={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},Vbe={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},$be={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},zbe={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},jbe={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},Ube={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},qbe={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},Hbe={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},Wbe={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},Gbe={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},Kbe={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},Ybe={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},Qbe={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},Xbe={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},Jbe={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},Zbe={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},ewe={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},twe={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},rwe={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},nwe={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},iwe={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},swe={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},awe={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},owe={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},lwe={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},uwe={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},cwe={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},fwe={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},hwe={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},dwe={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},mwe={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},pwe={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},gwe={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},vwe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},ywe={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},xwe={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},bwe={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},wwe={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},_we={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},Ewe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},Swe={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},Awe={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},Nwe={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},Twe={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},Dwe={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},Cwe={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},Mwe={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},Iwe={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},Pwe={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},kwe={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},Rwe={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},Owe={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},Fwe={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},Bwe={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},Lwe={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},Vwe={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},$we={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},zwe={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},jwe={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},Uwe={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},qwe={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},Hwe={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},Wwe={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},Gwe={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},Kwe={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},Ywe={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},Qwe={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},Xwe={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},Jwe={name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},Zwe={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},e_e={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},t_e={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},r_e={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},n_e={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},i_e={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},s_e={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},a_e={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},o_e={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},l_e={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},u_e={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},c_e={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},f_e={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]},h_e={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},d_e={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},m_e={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},p_e={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},g_e={bignumber:e1e,bigint:t1e,boolean:r1e,complex:n1e,createUnit:i1e,fraction:s1e,index:a1e,matrix:o1e,number:l1e,sparse:u1e,splitUnit:c1e,string:f1e,unit:h1e,e:OR,E:OR,false:Vye,i:$ye,Infinity:zye,LN2:Uye,LN10:jye,LOG2E:Hye,LOG10E:qye,NaN:Wye,null:Gye,pi:FR,PI:FR,phi:Kye,SQRT1_2:Yye,SQRT2:Qye,tau:Xye,true:Jye,version:Zye,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:g1e,lsolve:y1e,lsolveAll:x1e,lup:b1e,lusolve:w1e,leafCount:v1e,polynomialRoot:_1e,resolve:A1e,simplify:N1e,simplifyConstant:T1e,simplifyCore:D1e,symbolicEqual:M1e,rationalize:S1e,slu:C1e,usolve:I1e,usolveAll:P1e,qr:E1e,abs:k1e,add:R1e,cbrt:O1e,ceil:F1e,cube:B1e,divide:L1e,dotDivide:V1e,dotMultiply:$1e,dotPow:z1e,exp:j1e,expm:U1e,expm1:q1e,fix:H1e,floor:W1e,gcd:G1e,hypot:K1e,lcm:Q1e,log:X1e,log2:exe,log1p:Z1e,log10:J1e,mod:txe,multiply:rxe,norm:nxe,nthRoot:ixe,nthRoots:sxe,pow:axe,round:oxe,sign:lxe,sqrt:uxe,sqrtm:cxe,square:mxe,subtract:pxe,unaryMinus:gxe,unaryPlus:vxe,xgcd:yxe,invmod:Y1e,bitAnd:xxe,bitNot:bxe,bitOr:wxe,bitXor:_xe,leftShift:Exe,rightArithShift:Sxe,rightLogShift:Axe,bellNumbers:Nxe,catalan:Txe,composition:Dxe,stirlingS2:Cxe,config:d1e,import:m1e,typed:p1e,arg:Mxe,conj:Ixe,re:kxe,im:Pxe,evaluate:Rxe,help:Lxe,parse:Fxe,parser:Oxe,compile:Bxe,distance:Vxe,intersect:$xe,and:zxe,not:jxe,or:Uxe,xor:qxe,mapSlices:Hxe,concat:Gxe,count:Kxe,cross:Yxe,column:Wxe,ctranspose:Qxe,det:Xxe,diag:Jxe,diff:Zxe,dot:ebe,getMatrixDataType:sbe,identity:abe,filter:rbe,flatten:nbe,forEach:ibe,inv:obe,pinv:lbe,eigs:tbe,kron:ube,matrixFromFunction:hbe,matrixFromRows:dbe,matrixFromColumns:fbe,map:cbe,ones:mbe,partitionSelect:pbe,range:gbe,resize:ybe,reshape:vbe,rotate:xbe,rotationMatrix:bbe,row:wbe,size:_be,sort:Ebe,squeeze:Sbe,subset:Abe,trace:Nbe,transpose:Tbe,zeros:Dbe,fft:Cbe,ifft:Mbe,sylvester:fxe,schur:hxe,lyap:dxe,solveODE:p_e,combinations:Ibe,combinationsWithRep:Pbe,factorial:kbe,gamma:Rbe,kldivergence:Fbe,lgamma:Obe,multinomial:Bbe,permutations:Lbe,pickRandom:Vbe,random:$be,randomInt:zbe,compare:jbe,compareNatural:Ube,compareText:qbe,deepEqual:Hbe,equal:Wbe,equalText:Gbe,larger:Kbe,largerEq:Ybe,smaller:Qbe,smallerEq:Xbe,unequal:Jbe,setCartesian:Zbe,setDifference:ewe,setDistinct:twe,setIntersect:rwe,setIsSubset:nwe,setMultiplicity:iwe,setPowerset:swe,setSize:awe,setSymDifference:owe,setUnion:lwe,zpk2tf:uwe,freqz:cwe,erf:fwe,zeta:hwe,cumsum:_we,mad:dwe,max:mwe,mean:pwe,median:gwe,min:vwe,mode:ywe,prod:xwe,quantileSeq:bwe,std:wwe,sum:Ewe,variance:Swe,corr:Awe,acos:Nwe,acosh:Twe,acot:Dwe,acoth:Cwe,acsc:Mwe,acsch:Iwe,asec:Pwe,asech:kwe,asin:Rwe,asinh:Owe,atan:Fwe,atanh:Lwe,atan2:Bwe,cos:Vwe,cosh:$we,cot:zwe,coth:jwe,csc:Uwe,csch:qwe,sec:Hwe,sech:Wwe,sin:Gwe,sinh:Kwe,tan:Ywe,tanh:Qwe,to:Xwe,toBest:Jwe,clone:e_e,format:t_e,bin:Zwe,oct:h_e,hex:n_e,isNaN:s_e,isInteger:i_e,isNegative:a_e,isNumeric:o_e,hasNumericValue:r_e,isPositive:l_e,isPrime:u_e,isZero:c_e,print:d_e,typeOf:m_e,numeric:f_e},BR="help",v_e=["typed","mathWithTransform","Help"],y_e=H(BR,v_e,t=>{var{typed:e,mathWithTransform:r,Help:n}=t;return e(BR,{any:function(s){var a,o=s;if(typeof s!="string"){for(a in r)if(qe(r,a)&&s===r[a]){o=a;break}}var l=jn(g_e,o);if(!l){var u=typeof o=="function"?o.name:o;throw new Error('No documentation found on "'+u+'"')}return new n(l)}})}),LR="chain",x_e=["typed","Chain"],b_e=H(LR,x_e,t=>{var{typed:e,Chain:r}=t;return e(LR,{"":function(){return new r},any:function(i){return new r(i)}})}),VR="det",w_e=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],__e=H(VR,w_e,t=>{var{typed:e,matrix:r,subtractScalar:n,multiply:i,divideScalar:s,isZero:a,unaryMinus:o}=t;return e(VR,{any:function(c){return at(c)},"Array | Matrix":function(c){var f;switch(Je(c)?f=c.size():Array.isArray(c)?(c=r(c),f=c.size()):f=[],f.length){case 0:return at(c);case 1:if(f[0]===1)return at(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+pt(f)+")");case 2:{var h=f[0],d=f[1];if(h===d)return l(c.clone().valueOf(),h);if(d===0)return 1;throw new RangeError("Matrix must be square (size: "+pt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(f)+")")}}});function l(u,c,f){if(c===1)return at(u[0][0]);if(c===2)return n(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var h=!1,d=new Array(c).fill(0).map((S,A)=>A),m=0;m<c;m++){var p=d[m];if(a(u[p][m])){var g=void 0;for(g=m+1;g<c;g++)if(!a(u[d[g]][m])){p=d[g],d[g]=d[m],d[m]=p,h=!h;break}if(g===c)return u[p][m]}for(var v=u[p][m],b=m===0?1:u[d[m-1]][m-1],y=m+1;y<c;y++)for(var x=d[y],w=m+1;w<c;w++)u[x][w]=s(n(i(u[x][w],v),i(u[x][m],u[p][w])),b)}var E=u[d[c-1]][c-1];return h?o(E):E}}),$R="inv",E_e=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],S_e=H($R,E_e,t=>{var{typed:e,matrix:r,divideScalar:n,addScalar:i,multiply:s,unaryMinus:a,det:o,identity:l,abs:u}=t;return e($R,{"Array | Matrix":function(h){var d=Je(h)?h.size():st(h);switch(d.length){case 1:if(d[0]===1)return Je(h)?r([n(1,h.valueOf()[0])]):[n(1,h[0])];throw new RangeError("Matrix must be square (size: "+pt(d)+")");case 2:{var m=d[0],p=d[1];if(m===p)return Je(h)?r(c(h.valueOf(),m,p),h.storage()):c(h,m,p);throw new RangeError("Matrix must be square (size: "+pt(d)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(d)+")")}},any:function(h){return n(1,h)}});function c(f,h,d){var m,p,g,v,b;if(h===1){if(v=f[0][0],v===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,v)]]}else if(h===2){var y=o(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(f[1][1],y),n(a(f[0][1]),y)],[n(a(f[1][0]),y),n(f[0][0],y)]]}else{var x=f.concat();for(m=0;m<h;m++)x[m]=x[m].concat();for(var w=l(h).valueOf(),E=0;E<d;E++){var S=u(x[E][E]),A=E;for(m=E+1;m<h;)u(x[m][E])>S&&(S=u(x[m][E]),A=m),m++;if(S===0)throw Error("Cannot calculate inverse, determinant is zero");m=A,m!==E&&(b=x[E],x[E]=x[m],x[m]=b,b=w[E],w[E]=w[m],w[m]=b);var N=x[E],D=w[E];for(m=0;m<h;m++){var C=x[m],M=w[m];if(m!==E){if(C[E]!==0){for(g=n(a(C[E]),N[E]),p=E;p<d;p++)C[p]=i(C[p],s(g,N[p]));for(p=0;p<d;p++)M[p]=i(M[p],s(g,D[p]))}}else{for(g=N[E],p=E;p<d;p++)C[p]=n(C[p],g);for(p=0;p<d;p++)M[p]=n(M[p],g)}}}return w}}}),zR="pinv",A_e=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],N_e=H(zR,A_e,t=>{var{typed:e,matrix:r,inv:n,deepEqual:i,equal:s,dotDivide:a,dot:o,ctranspose:l,divideScalar:u,multiply:c,add:f,Complex:h}=t;return e(zR,{"Array | Matrix":function(y){var x=Je(y)?y.size():st(y);switch(x.length){case 1:return v(y)?l(y):x[0]===1?n(y):a(l(y),o(y,y));case 2:{if(v(y))return l(y);var w=x[0],E=x[1];if(w===E)try{return n(y)}catch(S){if(!(S instanceof Error&&S.message.match(/Cannot calculate inverse, determinant is zero/)))throw S}return Je(y)?r(d(y.valueOf(),w,E),y.storage()):d(y,w,E)}default:throw new RangeError("Matrix must be two dimensional (size: "+pt(x)+")")}},any:function(y){return s(y,0)?at(y):u(1,y)}});function d(b,y,x){var{C:w,F:E}=p(b,y,x),S=c(n(c(l(w),w)),l(w)),A=c(l(E),n(c(E,l(E))));return c(A,S)}function m(b,y,x){for(var w=at(b),E=0,S=0;S<y;S++){if(x<=E)return w;for(var A=S;g(w[A][E]);)if(A++,y===A&&(A=S,E++,x===E))return w;[w[A],w[S]]=[w[S],w[A]];for(var N=w[S][E],D=0;D<x;D++)w[S][D]=a(w[S][D],N);for(var C=0;C<y;C++)if(C!==S){N=w[C][E];for(var M=0;M<x;M++)w[C][M]=f(w[C][M],c(-1,c(N,w[S][M])))}E++}return w}function p(b,y,x){var w=m(b,y,x),E=b.map((A,N)=>A.filter((D,C)=>C<y&&!g(o(w[C],w[C])))),S=w.filter((A,N)=>!g(o(w[N],w[N])));return{C:E,F:S}}function g(b){return s(f(b,h(1,1)),f(0,h(1,1)))}function v(b){return i(f(b,h(1,1)),f(c(b,0),h(1,1)))}});function T_e(t){var{addScalar:e,subtract:r,flatten:n,multiply:i,multiplyScalar:s,divideScalar:a,sqrt:o,abs:l,bignumber:u,diag:c,size:f,reshape:h,inv:d,qr:m,usolve:p,usolveAll:g,equal:v,complex:b,larger:y,smaller:x,matrixFromColumns:w,dot:E}=t;function S(O,q,j,me){var ue=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,fe=A(O,q,j,me,ue);N(O,q,j,me,ue,fe);var{values:W,C:X}=D(O,q,j,me,ue);if(ue){var ee=C(O,q,X,fe,W,j,me);return{values:W,eigenvectors:ee}}return{values:W}}function A(O,q,j,me,ue){var fe=me==="BigNumber",W=me==="Complex",X=fe?u(0):0,ee=fe?u(1):W?b(1):1,se=fe?u(1):1,oe=fe?u(10):2,ve=s(oe,oe),pe;ue&&(pe=Array(q).fill(ee));for(var De=!1;!De;){De=!0;for(var Be=0;Be<q;Be++){for(var ze=X,ke=X,He=0;He<q;He++)Be!==He&&(ze=e(ze,l(O[He][Be])),ke=e(ke,l(O[Be][He])));if(!v(ze,0)&&!v(ke,0)){for(var K=se,te=ze,ce=a(ke,oe),U=s(ke,oe);x(te,ce);)te=s(te,ve),K=s(K,oe);for(;y(te,U);)te=a(te,ve),K=a(K,oe);var Q=x(a(e(te,ke),K),s(e(ze,ke),.95));if(Q){De=!1;for(var re=a(1,K),ae=0;ae<q;ae++)Be!==ae&&(O[Be][ae]=s(O[Be][ae],re),O[ae][Be]=s(O[ae][Be],K));ue&&(pe[Be]=s(pe[Be],re))}}}}return ue?c(pe):null}function N(O,q,j,me,ue,fe){var W=me==="BigNumber",X=me==="Complex",ee=W?u(0):X?b(0):0;W&&(j=u(j));for(var se=0;se<q-2;se++){for(var oe=0,ve=ee,pe=se+1;pe<q;pe++){var De=O[pe][se];x(l(ve),l(De))&&(ve=De,oe=pe)}if(!x(l(ve),j)){if(oe!==se+1){var Be=O[oe];O[oe]=O[se+1],O[se+1]=Be;for(var ze=0;ze<q;ze++){var ke=O[ze][oe];O[ze][oe]=O[ze][se+1],O[ze][se+1]=ke}if(ue){var He=fe[oe];fe[oe]=fe[se+1],fe[se+1]=He}}for(var K=se+2;K<q;K++){var te=a(O[K][se],ve);if(te!==0){for(var ce=0;ce<q;ce++)O[K][ce]=r(O[K][ce],s(te,O[se+1][ce]));for(var U=0;U<q;U++)O[U][se+1]=e(O[U][se+1],s(te,O[U][K]));if(ue)for(var Q=0;Q<q;Q++)fe[K][Q]=r(fe[K][Q],s(te,fe[se+1][Q]))}}}}return fe}function D(O,q,j,me,ue){var fe=me==="BigNumber",W=me==="Complex",X=fe?u(1):W?b(1):1;fe&&(j=u(j));for(var ee=at(O),se=[],oe=q,ve=[],pe=ue?c(Array(q).fill(X)):void 0,De=ue?c(Array(oe).fill(X)):void 0,Be=0;Be<=100;){Be+=1;for(var ze=ee[oe-1][oe-1],ke=0;ke<oe;ke++)ee[ke][ke]=r(ee[ke][ke],ze);var{Q:He,R:K}=m(ee);ee=i(K,He);for(var te=0;te<oe;te++)ee[te][te]=e(ee[te][te],ze);if(ue&&(De=i(De,He)),oe===1||x(l(ee[oe-1][oe-2]),j)){Be=0,se.push(ee[oe-1][oe-1]),ue&&(ve.unshift([[1]]),z(De,q),pe=i(pe,De),oe>1&&(De=c(Array(oe-1).fill(X)))),oe-=1,ee.pop();for(var ce=0;ce<oe;ce++)ee[ce].pop()}else if(oe===2||x(l(ee[oe-2][oe-3]),j)){Be=0;var U=M(ee[oe-2][oe-2],ee[oe-2][oe-1],ee[oe-1][oe-2],ee[oe-1][oe-1]);se.push(...U),ue&&(ve.unshift(I(ee[oe-2][oe-2],ee[oe-2][oe-1],ee[oe-1][oe-2],ee[oe-1][oe-1],U[0],U[1],j,me)),z(De,q),pe=i(pe,De),oe>2&&(De=c(Array(oe-2).fill(X)))),oe-=2,ee.pop(),ee.pop();for(var Q=0;Q<oe;Q++)ee[Q].pop(),ee[Q].pop()}if(oe===0)break}if(se.sort((le,ge)=>+r(l(le),l(ge))),Be>100){var re=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+se.join(", "));throw re.values=se,re.vectors=[],re}var ae=ue?i(pe,V(ve,q)):void 0;return{values:se,C:ae}}function C(O,q,j,me,ue,fe,W){var X=d(j),ee=i(X,O,j),se=W==="BigNumber",oe=W==="Complex",ve=se?u(0):oe?b(0):0,pe=se?u(1):oe?b(1):1,De=[],Be=[];for(var ze of ue){var ke=k(De,ze,v);ke===-1?(De.push(ze),Be.push(1)):Be[ke]+=1}for(var He=[],K=De.length,te=Array(q).fill(ve),ce=c(Array(q).fill(pe)),U=function(){var ae=De[Q],le=r(ee,i(ae,ce)),ge=g(le,te);for(ge.shift();ge.length<Be[Q];){var Se=L(le,q,ge,fe,W);if(Se===null)break;ge.push(Se)}var Te=i(d(me),j);ge=ge.map(Ce=>i(Te,Ce)),He.push(...ge.map(Ce=>({value:ae,vector:n(Ce)})))},Q=0;Q<K;Q++)U();return He}function M(O,q,j,me){var ue=e(O,me),fe=r(s(O,me),s(q,j)),W=s(ue,.5),X=s(o(r(s(ue,ue),s(4,fe))),.5);return[e(W,X),r(W,X)]}function I(O,q,j,me,ue,fe,W,X){var ee=X==="BigNumber",se=X==="Complex",oe=ee?u(0):se?b(0):0,ve=ee?u(1):se?b(1):1;if(x(l(j),W))return[[ve,oe],[oe,ve]];if(y(l(r(ue,fe)),W))return[[r(ue,me),r(fe,me)],[j,j]];var pe=r(O,ue),De=r(me,ue);return x(l(q),W)&&x(l(De),W)?[[pe,ve],[j,oe]]:[[q,oe],[De,ve]]}function z(O,q){for(var j=0;j<O.length;j++)O[j].push(...Array(q-O[j].length).fill(0));for(var me=O.length;me<q;me++)O.push(Array(q).fill(0)),O[me][me]=1;return O}function V(O,q){for(var j=[],me=0;me<q;me++)j[me]=Array(q).fill(0);var ue=0;for(var fe of O){for(var W=fe.length,X=0;X<W;X++)for(var ee=0;ee<W;ee++)j[ue+X][ue+ee]=fe[X][ee];ue+=W}return j}function k(O,q,j){for(var me=0;me<O.length;me++)if(j(O[me],q))return me;return-1}function L(O,q,j,me,ue){for(var fe=ue==="BigNumber"?u(1e3):1e3,W,X=0;X<5;++X){W=B(q,j,ue);try{W=p(O,W)}catch{continue}if(y(Y(W),fe))break}if(X>=5)return null;for(X=0;;){var ee=p(O,W);if(x(Y($(W,[ee])),me))break;if(++X>=10)return null;W=ie(ee)}return W}function B(O,q,j){var me=j==="BigNumber",ue=j==="Complex",fe=Array(O).fill(0).map(W=>2*Math.random()-1);return me&&(fe=fe.map(W=>u(W))),ue&&(fe=fe.map(W=>b(W))),fe=$(fe,q),ie(fe,j)}function $(O,q){var j=f(O);for(var me of q)me=h(me,j),O=r(O,i(a(E(me,O),E(me,me)),me));return O}function Y(O){return l(o(E(O,O)))}function ie(O,q){var j=q==="BigNumber",me=q==="Complex",ue=j?u(1):me?b(1):1;return i(a(ue,Y(O)),O)}return S}function D_e(t){var{config:e,addScalar:r,subtract:n,abs:i,atan:s,cos:a,sin:o,multiplyScalar:l,inv:u,bignumber:c,multiply:f,add:h}=t;function d(N,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.relTol,M=arguments.length>3?arguments[3]:void 0,I=arguments.length>4?arguments[4]:void 0;if(M==="number")return m(N,C,I);if(M==="BigNumber")return p(N,C,I);throw TypeError("Unsupported data type: "+M)}function m(N,D,C){var M=N.length,I=Math.abs(D/M),z,V;if(C){V=new Array(M);for(var k=0;k<M;k++)V[k]=Array(M).fill(0),V[k][k]=1}for(var L=E(N);Math.abs(L[1])>=Math.abs(I);){var B=L[0][0],$=L[0][1];z=g(N[B][B],N[$][$],N[B][$]),N=w(N,z,B,$),C&&(V=b(V,z,B,$)),L=E(N)}for(var Y=Array(M).fill(0),ie=0;ie<M;ie++)Y[ie]=N[ie][ie];return A(at(Y),V,C)}function p(N,D,C){var M=N.length,I=i(D/M),z,V;if(C){V=new Array(M);for(var k=0;k<M;k++)V[k]=Array(M).fill(0),V[k][k]=1}for(var L=S(N);i(L[1])>=i(I);){var B=L[0][0],$=L[0][1];z=v(N[B][B],N[$][$],N[B][$]),N=x(N,z,B,$),C&&(V=y(V,z,B,$)),L=S(N)}for(var Y=Array(M).fill(0),ie=0;ie<M;ie++)Y[ie]=N[ie][ie];return A(at(Y),V,C)}function g(N,D,C){var M=D-N;return Math.abs(M)<=e.relTol?Math.PI/4:.5*Math.atan(2*C/(D-N))}function v(N,D,C){var M=n(D,N);return i(M)<=e.relTol?c(-1).acos().div(4):l(.5,s(f(2,C,u(M))))}function b(N,D,C,M){for(var I=N.length,z=Math.cos(D),V=Math.sin(D),k=Array(I).fill(0),L=Array(I).fill(0),B=0;B<I;B++)k[B]=z*N[B][C]-V*N[B][M],L[B]=V*N[B][C]+z*N[B][M];for(var $=0;$<I;$++)N[$][C]=k[$],N[$][M]=L[$];return N}function y(N,D,C,M){for(var I=N.length,z=a(D),V=o(D),k=Array(I).fill(c(0)),L=Array(I).fill(c(0)),B=0;B<I;B++)k[B]=n(l(z,N[B][C]),l(V,N[B][M])),L[B]=r(l(V,N[B][C]),l(z,N[B][M]));for(var $=0;$<I;$++)N[$][C]=k[$],N[$][M]=L[$];return N}function x(N,D,C,M){for(var I=N.length,z=c(a(D)),V=c(o(D)),k=l(z,z),L=l(V,V),B=Array(I).fill(c(0)),$=Array(I).fill(c(0)),Y=f(c(2),z,V,N[C][M]),ie=r(n(l(k,N[C][C]),Y),l(L,N[M][M])),O=h(l(L,N[C][C]),Y,l(k,N[M][M])),q=0;q<I;q++)B[q]=n(l(z,N[C][q]),l(V,N[M][q])),$[q]=r(l(V,N[C][q]),l(z,N[M][q]));N[C][C]=ie,N[M][M]=O,N[C][M]=c(0),N[M][C]=c(0);for(var j=0;j<I;j++)j!==C&&j!==M&&(N[C][j]=B[j],N[j][C]=B[j],N[M][j]=$[j],N[j][M]=$[j]);return N}function w(N,D,C,M){for(var I=N.length,z=Math.cos(D),V=Math.sin(D),k=z*z,L=V*V,B=Array(I).fill(0),$=Array(I).fill(0),Y=k*N[C][C]-2*z*V*N[C][M]+L*N[M][M],ie=L*N[C][C]+2*z*V*N[C][M]+k*N[M][M],O=0;O<I;O++)B[O]=z*N[C][O]-V*N[M][O],$[O]=V*N[C][O]+z*N[M][O];N[C][C]=Y,N[M][M]=ie,N[C][M]=0,N[M][C]=0;for(var q=0;q<I;q++)q!==C&&q!==M&&(N[C][q]=B[q],N[q][C]=B[q],N[M][q]=$[q],N[q][M]=$[q]);return N}function E(N){for(var D=N.length,C=0,M=[0,1],I=0;I<D;I++)for(var z=I+1;z<D;z++)Math.abs(C)<Math.abs(N[I][z])&&(C=Math.abs(N[I][z]),M=[I,z]);return[M,C]}function S(N){for(var D=N.length,C=0,M=[0,1],I=0;I<D;I++)for(var z=I+1;z<D;z++)i(C)<i(N[I][z])&&(C=i(N[I][z]),M=[I,z]);return[M,C]}function A(N,D,C){var M=N.length,I=Array(M),z;if(C){z=Array(M);for(var V=0;V<M;V++)z[V]=Array(M)}for(var k=0;k<M;k++){for(var L=0,B=N[0],$=0;$<N.length;$++)i(N[$])<i(B)&&(L=$,B=N[L]);if(I[k]=N.splice(L,1)[0],C)for(var Y=0;Y<M;Y++)z[k][Y]=D[Y][L],D[Y].splice(L,1)}if(!C)return{values:I};var ie=z.map((O,q)=>({value:I[q],vector:O}));return{values:I,eigenvectors:ie}}return d}var C_e="eigs",M_e=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],I_e=H(C_e,M_e,t=>{var{config:e,typed:r,matrix:n,addScalar:i,subtract:s,equal:a,abs:o,atan:l,cos:u,sin:c,multiplyScalar:f,divideScalar:h,inv:d,bignumber:m,multiply:p,add:g,larger:v,column:b,flatten:y,number:x,complex:w,sqrt:E,diag:S,size:A,reshape:N,qr:D,usolve:C,usolveAll:M,im:I,re:z,smaller:V,matrixFromColumns:k,dot:L}=t,B=D_e({config:e,addScalar:i,subtract:s,abs:o,atan:l,cos:u,sin:c,multiplyScalar:f,inv:d,bignumber:m,multiply:p,add:g}),$=T_e({addScalar:i,subtract:s,multiply:p,multiplyScalar:f,flatten:y,divideScalar:h,sqrt:E,abs:o,bignumber:m,diag:S,size:A,reshape:N,qr:D,inv:d,usolve:C,usolveAll:M,equal:a,complex:w,larger:v,smaller:V,matrixFromColumns:k,dot:L});return r("eigs",{Array:function(fe){return Y(n(fe))},"Array, number|BigNumber":function(fe,W){return Y(n(fe),{precision:W})},"Array, Object"(ue,fe){return Y(n(ue),fe)},Matrix:function(fe){return Y(fe,{matricize:!0})},"Matrix, number|BigNumber":function(fe,W){return Y(fe,{precision:W,matricize:!0})},"Matrix, Object":function(fe,W){var X={matricize:!0};return Lr(X,W),Y(fe,X)}});function Y(ue){var fe,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X="eigenvectors"in W?W.eigenvectors:!0,ee=(fe=W.precision)!==null&&fe!==void 0?fe:e.relTol,se=ie(ue,ee,X);return W.matricize&&(se.values=n(se.values),X&&(se.eigenvectors=se.eigenvectors.map(oe=>{var{value:ve,vector:pe}=oe;return{value:ve,vector:n(pe)}}))),X&&Object.defineProperty(se,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),se}function ie(ue,fe,W){var X=ue.toArray(),ee=ue.size();if(ee.length!==2||ee[0]!==ee[1])throw new RangeError("Matrix must be square (size: ".concat(pt(ee),")"));var se=ee[0];if(q(X,se,fe)&&(j(X,se),O(X,se,fe))){var oe=me(ue,X,se);return B(X,se,fe,oe,W)}var ve=me(ue,X,se);return $(X,se,fe,ve,W)}function O(ue,fe,W){for(var X=0;X<fe;X++)for(var ee=X;ee<fe;ee++)if(v(m(o(s(ue[X][ee],ue[ee][X]))),W))return!1;return!0}function q(ue,fe,W){for(var X=0;X<fe;X++)for(var ee=0;ee<fe;ee++)if(v(m(o(I(ue[X][ee]))),W))return!1;return!0}function j(ue,fe){for(var W=0;W<fe;W++)for(var X=0;X<fe;X++)ue[W][X]=z(ue[W][X])}function me(ue,fe,W){var X=ue.datatype();if(X==="number"||X==="BigNumber"||X==="Complex")return X;for(var ee=!1,se=!1,oe=!1,ve=0;ve<W;ve++)for(var pe=0;pe<W;pe++){var De=fe[ve][pe];if(ft(De)||Km(De))ee=!0;else if(ht(De))se=!0;else if(Ra(De))oe=!0;else throw TypeError("Unsupported type in Matrix: "+Wt(De))}if(se&&oe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),oe){for(var Be=0;Be<W;Be++)for(var ze=0;ze<W;ze++)fe[Be][ze]=w(fe[Be][ze]);return"Complex"}if(se){for(var ke=0;ke<W;ke++)for(var He=0;He<W;He++)fe[ke][He]=m(fe[ke][He]);return"BigNumber"}if(ee){for(var K=0;K<W;K++)for(var te=0;te<W;te++)fe[K][te]=x(fe[K][te]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),jR="expm",P_e=["typed","abs","add","identity","inv","multiply"],k_e=H(jR,P_e,t=>{var{typed:e,abs:r,add:n,identity:i,inv:s,multiply:a}=t;return e(jR,{Matrix:function(f){var h=f.size();if(h.length!==2||h[0]!==h[1])throw new RangeError("Matrix must be square (size: "+pt(h)+")");for(var d=h[0],m=1e-15,p=o(f),g=l(p,m),v=g.q,b=g.j,y=a(f,Math.pow(2,-b)),x=i(d),w=i(d),E=1,S=y,A=-1,N=1;N<=v;N++)N>1&&(S=a(S,y),A=-A),E=E*(v-N+1)/((2*v-N+1)*N),x=n(x,a(E,S)),w=n(w,a(E*A,S));for(var D=a(s(w),x),C=0;C<b;C++)D=a(D,D);return su(f)?f.createSparseMatrix(D):D}});function o(c){for(var f=c.size()[0],h=0,d=0;d<f;d++){for(var m=0,p=0;p<f;p++)m+=r(c.get([d,p]));h=Math.max(m,h)}return h}function l(c,f){for(var h=30,d=0;d<h;d++)for(var m=0;m<=d;m++){var p=d-m;if(u(c,m,p)<f)return{q:m,j:p}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,f,h){for(var d=1,m=2;m<=f;m++)d*=m;for(var p=d,g=f+1;g<=2*f;g++)p*=g;var v=p*(2*f+1);return 8*Math.pow(c/Math.pow(2,h),2*f)*d*d/(p*v)}}),UR="sqrtm",R_e=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],O_e=H(UR,R_e,t=>{var{typed:e,abs:r,add:n,multiply:i,map:s,sqrt:a,subtract:o,inv:l,size:u,max:c,identity:f}=t,h=1e3,d=1e-6;function m(p){var g,v=0,b=p,y=f(u(p));do{var x=b;if(b=i(.5,n(x,l(y))),y=i(.5,n(y,l(x))),g=c(r(o(b,x))),g>d&&++v>h)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>d);return b}return e(UR,{"Array | Matrix":function(g){var v=Je(g)?g.size():st(g);switch(v.length){case 1:if(v[0]===1)return s(g,a);throw new RangeError("Matrix must be square (size: "+pt(v)+")");case 2:{var b=v[0],y=v[1];if(b===y)return m(g);throw new RangeError("Matrix must be square (size: "+pt(v)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+pt(v)+")")}}})}),qR="sylvester",F_e=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],B_e=H(qR,F_e,t=>{var{typed:e,schur:r,matrixFromColumns:n,matrix:i,multiply:s,range:a,concat:o,transpose:l,index:u,subset:c,add:f,subtract:h,identity:d,lusolve:m,abs:p}=t;return e(qR,{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(b,y,x){return g(i(b),y,x)},"Array, Array, Matrix":function(b,y,x){return g(i(b),i(y),x)},"Array, Matrix, Array":function(b,y,x){return g(i(b),y,i(x))},"Matrix, Array, Matrix":function(b,y,x){return g(b,i(y),x)},"Matrix, Array, Array":function(b,y,x){return g(b,i(y),i(x))},"Matrix, Matrix, Array":function(b,y,x){return g(b,y,i(x))},"Array, Array, Array":function(b,y,x){return g(i(b),i(y),i(x)).toArray()}});function g(v,b,y){for(var x=b.size()[0],w=v.size()[0],E=r(v),S=E.T,A=E.U,N=r(s(-1,b)),D=N.T,C=N.U,M=s(s(l(A),y),C),I=a(0,w),z=[],V=(oe,ve)=>o(oe,ve,1),k=(oe,ve)=>o(oe,ve,0),L=0;L<x;L++)if(L<x-1&&p(c(D,u(L+1,L)))>1e-5){for(var B=k(c(M,u(I,L)),c(M,u(I,L+1))),$=0;$<L;$++)B=f(B,k(s(z[$],c(D,u($,L))),s(z[$],c(D,u($,L+1)))));var Y=s(d(w),s(-1,c(D,u(L,L)))),ie=s(d(w),s(-1,c(D,u(L+1,L)))),O=s(d(w),s(-1,c(D,u(L,L+1)))),q=s(d(w),s(-1,c(D,u(L+1,L+1)))),j=k(V(f(S,Y),ie),V(O,f(S,q))),me=m(j,B);z[L]=me.subset(u(a(0,w),0)),z[L+1]=me.subset(u(a(w,2*w),0)),L++}else{for(var ue=c(M,u(I,L)),fe=0;fe<L;fe++)ue=f(ue,s(z[fe],c(D,u(fe,L))));var W=c(D,u(L,L)),X=h(S,s(W,d(w)));z[L]=m(X,ue)}var ee=i(n(...z)),se=s(A,s(ee,l(C)));return se}}),HR="schur",L_e=["typed","matrix","identity","multiply","qr","norm","subtract"],V_e=H(HR,L_e,t=>{var{typed:e,matrix:r,identity:n,multiply:i,qr:s,norm:a,subtract:o}=t;return e(HR,{Array:function(c){var f=l(r(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],f=u,h=n(c),d=0,m;do{m=f;var p=s(f),g=p.Q,v=p.R;if(f=i(v,g),h=i(h,g),d++>100)break}while(a(o(f,m))>1e-4);return{U:h,T:f}}}),WR="lyap",$_e=["typed","matrix","sylvester","multiply","transpose"],z_e=H(WR,$_e,t=>{var{typed:e,matrix:r,sylvester:n,multiply:i,transpose:s}=t;return e(WR,{"Matrix, Matrix":function(o,l){return n(o,s(o),i(-1,l))},"Array, Matrix":function(o,l){return n(r(o),s(r(o)),i(-1,l))},"Matrix, Array":function(o,l){return n(o,s(r(o)),r(i(-1,l)))},"Array, Array":function(o,l){return n(r(o),s(r(o)),r(i(-1,l))).toArray()}})}),j_e="divide",U_e=["typed","matrix","multiply","equalScalar","divideScalar","inv"],q_e=H(j_e,U_e,t=>{var{typed:e,matrix:r,multiply:n,equalScalar:i,divideScalar:s,inv:a}=t,o=pn({typed:e,equalScalar:i}),l=Ss({typed:e});return e("divide",M8({"Array | Matrix, Array | Matrix":function(c,f){return n(c,a(f))},"DenseMatrix, any":function(c,f){return l(c,f,s,!1)},"SparseMatrix, any":function(c,f){return o(c,f,s,!1)},"Array, any":function(c,f){return l(r(c),f,s,!1).valueOf()},"any, Array | Matrix":function(c,f){return n(c,a(f))}},s.signatures))}),GR="distance",H_e=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],W_e=H(GR,H_e,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:s,deepEqual:a,sqrt:o,abs:l}=t;return e(GR,{"Array, Array, Array":function(w,E,S){if(w.length===2&&E.length===2&&S.length===2){if(!c(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(S))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(a(E,S))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=n(S[1],E[1]),N=n(E[0],S[0]),D=n(i(S[0],E[1]),i(E[0],S[1]));return g(w[0],w[1],A,N,D)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(w,E,S){if(Object.keys(w).length===2&&Object.keys(E).length===2&&Object.keys(S).length===2){if(!c(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(E))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(S))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(a(m(E),m(S)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in w&&"pointY"in w&&"lineOnePtX"in E&&"lineOnePtY"in E&&"lineTwoPtX"in S&&"lineTwoPtY"in S){var A=n(S.lineTwoPtY,E.lineOnePtY),N=n(E.lineOnePtX,S.lineTwoPtX),D=n(i(S.lineTwoPtX,E.lineOnePtY),i(E.lineOnePtX,S.lineTwoPtY));return g(w.pointX,w.pointY,A,N,D)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(w,E){if(w.length===2&&E.length===3){if(!c(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(w[0],w[1],E[0],E[1],E[2])}else if(w.length===3&&E.length===6){if(!f(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!d(E))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return v(w[0],w[1],w[2],E[0],E[1],E[2],E[3],E[4],E[5])}else if(w.length===E.length&&w.length>0){if(!h(w))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!h(E))throw new TypeError("All values of an array should be numbers or BigNumbers");return b(w,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(w,E){if(Object.keys(w).length===2&&Object.keys(E).length===3){if(!c(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(E))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"xCoeffLine"in E&&"yCoeffLine"in E&&"constant"in E)return g(w.pointX,w.pointY,E.xCoeffLine,E.yCoeffLine,E.constant);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===3&&Object.keys(E).length===6){if(!f(w))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!d(E))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"x0"in E&&"y0"in E&&"z0"in E&&"a"in E&&"b"in E&&"c"in E)return v(w.pointX,w.pointY,w.pointZ,E.x0,E.y0,E.z0,E.a,E.b,E.c);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===2&&Object.keys(E).length===2){if(!c(w))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(E))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointTwoX"in E&&"pointTwoY"in E)return b([w.pointOneX,w.pointOneY],[E.pointTwoX,E.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(w).length===3&&Object.keys(E).length===3){if(!f(w))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(E))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointOneZ"in w&&"pointTwoX"in E&&"pointTwoY"in E&&"pointTwoZ"in E)return b([w.pointOneX,w.pointOneY,w.pointOneZ],[E.pointTwoX,E.pointTwoY,E.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(w){if(!p(w))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(w)}});function u(x){return typeof x=="number"||ht(x)}function c(x){return x.constructor!==Array&&(x=m(x)),u(x[0])&&u(x[1])}function f(x){return x.constructor!==Array&&(x=m(x)),u(x[0])&&u(x[1])&&u(x[2])}function h(x){return Array.isArray(x)||(x=m(x)),x.every(u)}function d(x){return x.constructor!==Array&&(x=m(x)),u(x[0])&&u(x[1])&&u(x[2])&&u(x[3])&&u(x[4])&&u(x[5])}function m(x){for(var w=Object.keys(x),E=[],S=0;S<w.length;S++)E.push(x[w[S]]);return E}function p(x){if(x[0].length===2&&u(x[0][0])&&u(x[0][1])){if(x.some(w=>w.length!==2||!u(w[0])||!u(w[1])))return!1}else if(x[0].length===3&&u(x[0][0])&&u(x[0][1])&&u(x[0][2])){if(x.some(w=>w.length!==3||!u(w[0])||!u(w[1])||!u(w[2])))return!1}else return!1;return!0}function g(x,w,E,S,A){var N=l(r(r(i(E,x),i(S,w)),A)),D=o(r(i(E,E),i(S,S)));return s(N,D)}function v(x,w,E,S,A,N,D,C,M){var I=[n(i(n(A,w),M),i(n(N,E),C)),n(i(n(N,E),D),i(n(S,x),M)),n(i(n(S,x),C),i(n(A,w),D))];I=o(r(r(i(I[0],I[0]),i(I[1],I[1])),i(I[2],I[2])));var z=o(r(r(i(D,D),i(C,C)),i(M,M)));return s(I,z)}function b(x,w){for(var E=x.length,S=0,A=0,N=0;N<E;N++)A=n(x[N],w[N]),S=r(i(A,A),S);return o(S)}function y(x){for(var w=[],E=[],S=[],A=0;A<x.length-1;A++)for(var N=A+1;N<x.length;N++)x[0].length===2?(E=[x[A][0],x[A][1]],S=[x[N][0],x[N][1]]):x[0].length===3&&(E=[x[A][0],x[A][1],x[A][2]],S=[x[N][0],x[N][1],x[N][2]]),w.push(b(E,S));return w}}),G_e="intersect",K_e=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],Y_e=H(G_e,K_e,t=>{var{typed:e,config:r,abs:n,add:i,addScalar:s,matrix:a,multiply:o,multiplyScalar:l,divideScalar:u,subtract:c,smaller:f,equalScalar:h,flatten:d,isZero:m,isNumeric:p}=t;return e("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":v,"Matrix, Matrix, Matrix":function(C,M,I){var z=g(C.valueOf(),M.valueOf(),I.valueOf());return z===null?null:a(z)},"Matrix, Matrix, Matrix, Matrix":function(C,M,I,z){var V=v(C.valueOf(),M.valueOf(),I.valueOf(),z.valueOf());return V===null?null:a(V)}});function g(D,C,M){if(D=b(D),C=b(C),M=b(M),!x(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!w(M))throw new TypeError("Array with 4 numbers expected as third argument");return N(D[0],D[1],D[2],C[0],C[1],C[2],M[0],M[1],M[2],M[3])}function v(D,C,M,I){if(D=b(D),C=b(C),M=b(M),I=b(I),D.length===2){if(!y(D))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(I))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return E(D,C,M,I)}else if(D.length===3){if(!x(D))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!x(C))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!x(I))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(D[0],D[1],D[2],C[0],C[1],C[2],M[0],M[1],M[2],I[0],I[1],I[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function b(D){return D.length===1?D[0]:D.length>1&&Array.isArray(D[0])&&D.every(C=>Array.isArray(C)&&C.length===1)?d(D):D}function y(D){return D.length===2&&p(D[0])&&p(D[1])}function x(D){return D.length===3&&p(D[0])&&p(D[1])&&p(D[2])}function w(D){return D.length===4&&p(D[0])&&p(D[1])&&p(D[2])&&p(D[3])}function E(D,C,M,I){var z=D,V=M,k=c(z,C),L=c(V,I),B=c(l(k[0],L[1]),l(L[0],k[1]));if(m(B)||f(n(B),r.relTol))return null;var $=l(L[0],z[1]),Y=l(L[1],z[0]),ie=l(L[0],V[1]),O=l(L[1],V[0]),q=u(s(c(c($,Y),ie),O),B);return i(o(k,q),z)}function S(D,C,M,I,z,V,k,L,B,$,Y,ie){var O=l(c(D,C),c(M,I)),q=l(c(z,V),c(k,L)),j=l(c(B,$),c(Y,ie));return s(s(O,q),j)}function A(D,C,M,I,z,V,k,L,B,$,Y,ie){var O=S(D,k,$,k,C,L,Y,L,M,B,ie,B),q=S($,k,I,D,Y,L,z,C,ie,B,V,M),j=S(D,k,I,D,C,L,z,C,M,B,V,M),me=S($,k,$,k,Y,L,Y,L,ie,B,ie,B),ue=S(I,D,I,D,z,C,z,C,V,M,V,M),fe=c(l(O,q),l(j,me)),W=c(l(ue,me),l(q,q));if(m(W))return null;var X=u(fe,W),ee=u(s(O,l(X,q)),me),se=s(D,l(X,c(I,D))),oe=s(C,l(X,c(z,C))),ve=s(M,l(X,c(V,M))),pe=s(k,l(ee,c($,k))),De=s(L,l(ee,c(Y,L))),Be=s(B,l(ee,c(ie,B)));return h(se,pe)&&h(oe,De)&&h(ve,Be)?[se,oe,ve]:null}function N(D,C,M,I,z,V,k,L,B,$){var Y=l(D,k),ie=l(I,k),O=l(C,L),q=l(z,L),j=l(M,B),me=l(V,B),ue=c(c(c($,Y),O),j),fe=c(c(c(s(s(ie,q),me),Y),O),j),W=u(ue,fe),X=s(D,l(W,c(I,D))),ee=s(C,l(W,c(z,C))),se=s(M,l(W,c(V,M)));return[X,ee,se]}}),KR="sum",Q_e=["typed","config","add","numeric"],w$=H(KR,Q_e,t=>{var{typed:e,config:r,add:n,numeric:i}=t;return e(KR,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":a,"...":function(l){if(Wf(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(o){var l;return ol(o,function(u){try{l=l===void 0?u:n(l,u)}catch(c){throw Hn(c,"sum",u)}}),l===void 0&&(l=i(0,r.number)),typeof l=="string"&&(l=i(l,yl(l,r))),l}function a(o,l){try{var u=k1(o,l,n);return u}catch(c){throw Hn(c,"sum")}}}),Sg="cumsum",X_e=["typed","add","unaryPlus"],_$=H(Sg,X_e,t=>{var{typed:e,add:r,unaryPlus:n}=t;return e(Sg,{Array:i,Matrix:function(u){return u.create(i(u.valueOf(),u.datatype()))},"Array, number | BigNumber":a,"Matrix, number | BigNumber":function(u,c){return u.create(a(u.valueOf(),c),u.datatype())},"...":function(u){if(Wf(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return s(l)}catch(u){throw Hn(u,Sg)}}function s(l){if(l.length===0)return[];for(var u=[n(l[0])],c=1;c<l.length;++c)u.push(r(u[c-1],l[c]));return u}function a(l,u){var c=st(l);if(u<0||u>=c.length)throw new _s(u,c.length);try{return o(l,u)}catch(f){throw Hn(f,Sg)}}function o(l,u){var c,f,h;if(u<=0){var d=l[0][0];if(Array.isArray(d)){for(h=iV(l),f=[],c=0;c<h.length;c++)f[c]=o(h[c],u-1);return f}else return s(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=o(l[c],u-1);return f}}}),YR="mean",J_e=["typed","add","divide"],E$=H(YR,J_e,t=>{var{typed:e,add:r,divide:n}=t;return e(YR,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":i,"...":function(o){if(Wf(o))throw new TypeError("Scalar values expected in function mean");return s(o)}});function i(a,o){try{var l=k1(a,o,r),u=Array.isArray(a)?st(a):a.size();return n(l,u[o])}catch(c){throw Hn(c,"mean")}}function s(a){var o,l=0;if(ol(a,function(u){try{o=o===void 0?u:r(o,u),l++}catch(c){throw Hn(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return n(o,l)}}),QR="median",Z_e=["typed","add","divide","compare","partitionSelect"],eEe=H(QR,Z_e,t=>{var{typed:e,add:r,divide:n,compare:i,partitionSelect:s}=t;function a(u){try{u=Ct(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,h=s(u,f+1),d=u[f],m=0;m<f;++m)i(u[m],d)>0&&(d=u[m]);return l(d,h)}else{var p=s(u,(c-1)/2);return o(p)}}catch(g){throw Hn(g,"median")}}var o=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return n(r(c,f),2)}});return e(QR,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(Wf(c))throw new TypeError("Scalar values expected in function median");return a(c)}})}),XR="mad",tEe=["typed","abs","map","median","subtract"],rEe=H(XR,tEe,t=>{var{typed:e,abs:r,map:n,median:i,subtract:s}=t;return e(XR,{"Array | Matrix":a,"...":function(l){return a(l)}});function a(o){if(o=Ct(o.valueOf()),o.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(o);return i(n(o,function(u){return r(s(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.includes("median")?new TypeError(u.message.replace("median","mad")):Hn(u,"mad")}}}),_b="unbiased",JR="variance",nEe=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],S$=H(JR,nEe,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:s,mapSlices:a,isNaN:o}=t;return e(JR,{"Array | Matrix":function(f){return l(f,_b)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,h){return u(f,h,_b)},"Array | Matrix, number | BigNumber, string":u,"...":function(f){return l(f,_b)}});function l(c,f){var h,d=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(ol(c,function(g){try{h=h===void 0?g:r(h,g),d++}catch(v){throw Hn(v,"variance",g)}}),d===0)throw new Error("Cannot calculate variance of an empty array");var m=s(h,d);if(h=void 0,ol(c,function(g){var v=n(g,m);h=h===void 0?i(v,v):r(h,i(v,v))}),o(h))return h;switch(f){case"uncorrected":return s(h,d);case"biased":return s(h,d+1);case"unbiased":{var p=ht(h)?h.mul(0):0;return d===1?p:s(h,d-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,f,h){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return a(c,f,d=>l(d,h))}catch(d){throw Hn(d,"variance")}}}),ZR="quantileSeq",iEe=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],A$=H(ZR,iEe,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:s,multiply:a,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:h,mapSlices:d}=t;return e(ZR,{"Array | Matrix, number | BigNumber":(b,y)=>p(b,y,!1),"Array | Matrix, number | BigNumber, number":(b,y,x)=>m(b,y,!1,x,p),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(b,y,x,w)=>m(b,y,x,w,p),"Array | Matrix, Array | Matrix":(b,y)=>g(b,y,!1),"Array | Matrix, Array | Matrix, number":(b,y,x)=>m(b,y,!1,x,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(b,y,x,w)=>m(b,y,x,w,g)});function m(b,y,x,w,E){return d(b,w,S=>E(S,y,x))}function p(b,y,x){var w,E=b.valueOf();if(c(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return ft(y)?v(E,y,x):r(v(E,y,x));if(h(y,1)){if(!u(y))throw new Error("N must be a positive integer");if(h(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var S=n(y,1);w=[];for(var A=0;c(A,y);A++){var N=s(A+1,S);w.push(v(E,N,x))}return ft(y)?w:r(w)}}function g(b,y,x){for(var w=b.valueOf(),E=y.valueOf(),S=[],A=0;A<E.length;++A)S.push(v(w,E[A],x));return S}function v(b,y,x){var w=Ct(b),E=w.length;if(E===0)throw new Error("Cannot calculate quantile of an empty sequence");var S=ft(y)?y*(E-1):y.times(E-1),A=ft(y)?Math.floor(S):S.floor().toNumber(),N=ft(y)?S%1:S.minus(A);if(u(S))return x?w[S]:o(w,ft(y)?S:S.valueOf());var D,C;if(x)D=w[A],C=w[A+1];else{C=o(w,A+1),D=w[A];for(var M=0;M<A;++M)l(w[M],D)>0&&(D=w[M])}return n(a(D,i(1,N)),a(C,N))}}),e3="std",sEe=["typed","map","sqrt","variance"],N$=H(e3,sEe,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t;return e(e3,{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(o){return s(o)}});function s(a,o){if(a.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Qi(l)?r(l,n):n(l)}catch(u){throw u instanceof TypeError&&u.message.includes(" variance")?new TypeError(u.message.replace(" variance"," std")):u}}}),t3="corr",aEe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],oEe=H(t3,aEe,t=>{var{typed:e,matrix:r,sqrt:n,sum:i,add:s,subtract:a,multiply:o,pow:l,divide:u}=t;return e(t3,{"Array, Array":function(d,m){return c(d,m)},"Matrix, Matrix":function(d,m){var p=c(d.toArray(),m.toArray());return Array.isArray(p)?r(p):p}});function c(h,d){var m=[];if(Array.isArray(h[0])&&Array.isArray(d[0])){if(h.length!==d.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var p=0;p<h.length;p++){if(h[p].length!==d[p].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");m.push(f(h[p],d[p]))}return m}else{if(h.length!==d.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(h,d)}}function f(h,d){var m=h.length,p=i(h),g=i(d),v=h.reduce((E,S,A)=>s(E,o(S,d[A])),0),b=i(h.map(E=>l(E,2))),y=i(d.map(E=>l(E,2))),x=a(o(m,v),o(p,g)),w=n(o(a(o(m,b),l(p,2)),a(o(m,y),l(g,2))));return u(x,w)}}),r3="combinations",lEe=["typed"],uEe=H(r3,lEe,t=>{var{typed:e}=t;return e(r3,{"number, number":AV,"BigNumber, BigNumber":function(n,i){var s=n.constructor,a,o,l=n.minus(i),u=new s(1);if(!n3(n)||!n3(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(n))throw new TypeError("k must be less than n in function combinations");if(a=u,i.lt(l))for(o=u;o.lte(l);o=o.plus(u))a=a.times(i.plus(o)).dividedBy(o);else for(o=u;o.lte(i);o=o.plus(u))a=a.times(l.plus(o)).dividedBy(o);return a}})});function n3(t){return t.isInteger()&&t.gte(0)}var i3="combinationsWithRep",cEe=["typed"],fEe=H(i3,cEe,t=>{var{typed:e}=t;return e(i3,{"number, number":function(n,i){if(!We(n)||n<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<n-1){var s=Da(n,n+i-1);return s/Da(1,i)}var a=Da(i+1,n+i-1);return a/Da(1,n-1)},"BigNumber, BigNumber":function(n,i){var s=n.constructor,a,o,l=new s(1),u=n.minus(l);if(!s3(n)||!s3(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(n.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(a=l,i.lt(u))for(o=l;o.lte(u);o=o.plus(l))a=a.times(i.plus(o)).dividedBy(o);else for(o=l;o.lte(i);o=o.plus(l))a=a.times(u.plus(o)).dividedBy(o);return a}})});function s3(t){return t.isInteger()&&t.gte(0)}var a3="gamma",hEe=["typed","config","multiplyScalar","pow","BigNumber","Complex"],dEe=H(a3,hEe,t=>{var{typed:e,config:r,multiplyScalar:n,pow:i,BigNumber:s,Complex:a}=t;function o(u){if(u.im===0)return H0(u.re);if(u.re<.5){var c=new a(1-u.re,-u.im),f=new a(Math.PI*u.re,Math.PI*u.im);return new a(Math.PI).div(f.sin()).div(o(c))}u=new a(u.re-1,u.im);for(var h=new a(Jc[0],0),d=1;d<Jc.length;++d){var m=new a(Jc[d],0);h=h.add(m.div(u.add(d)))}var p=new a(u.re+TV+.5,u.im),g=Math.sqrt(2*Math.PI),v=p.pow(u.add(.5)),b=p.neg().exp();return h.mul(g).mul(v).mul(b)}return e(a3,{number:H0,Complex:o,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new s(1/0):l(c.minus(1));if(!c.isFinite())return new s(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new s([1,1,2,6,24,120,720,5040][u]);var c=r.precision+(Math.log(u.toNumber())|0),f=s.clone({precision:c});if(u%2===1)return u.times(l(new s(u-1)));for(var h=u,d=new f(u),m=u.toNumber();h>2;)h-=2,m+=h,d=d.times(m);return new s(d.toPrecision(s.precision))}}),o3="lgamma",mEe=["Complex","typed"],pEe=H(o3,mEe,t=>{var{Complex:e,typed:r}=t,n=7,i=7,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return r(o3,{number:W0,Complex:a,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(u){var c=6.283185307179586,f=1.1447298858494002,h=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(W0(u.re),0);if(u.re>=n||Math.abs(u.im)>=i)return o(u);if(u.re<=h){var d=Joe(c,u.im)*Math.floor(.5*u.re+.25),m=u.mul(Math.PI).sin().log(),p=a(new e(1-u.re,-u.im));return new e(f,d).sub(m).sub(p)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function o(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(DV),f=new e(1,0).div(u),h=f.div(u),d=s[0],m=s[1],p=2*h.re,g=h.re*h.re+h.im*h.im,v=2;v<8;v++){var b=m;m=-g*d+s[v],d=p*d+b}var y=f.mul(h.mul(d).add(m));return c.add(y)}function l(u){var c=0,f=0,h=u;for(u=u.add(1);u.re<=n;){h=h.mul(u);var d=h.im<0?1:0;d!==0&&f===0&&c++,f=d,u=u.add(1)}return o(u).sub(h.log()).sub(new e(0,c*2*Math.PI*1))}}),l3="factorial",gEe=["typed","gamma"],vEe=H(l3,gEe,t=>{var{typed:e,gamma:r}=t;return e(l3,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return r(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return r(i.plus(1))},"Array | Matrix":e.referToSelf(n=>i=>dt(i,n))})}),u3="kldivergence",yEe=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],xEe=H(u3,yEe,t=>{var{typed:e,matrix:r,divide:n,sum:i,multiply:s,map:a,dotDivide:o,log:l,isNumeric:u}=t;return e(u3,{"Array, Array":function(h,d){return c(r(h),r(d))},"Matrix, Array":function(h,d){return c(h,r(d))},"Array, Matrix":function(h,d){return c(r(h),d)},"Matrix, Matrix":function(h,d){return c(h,d)}});function c(f,h){var d=h.size().length,m=f.size().length;if(d>1)throw new Error("first object must be one dimensional");if(m>1)throw new Error("second object must be one dimensional");if(d!==m)throw new Error("Length of two vectors must be equal");var p=i(f);if(p===0)throw new Error("Sum of elements in first object must be non zero");var g=i(h);if(g===0)throw new Error("Sum of elements in second object must be non zero");var v=n(f,i(f)),b=n(h,i(h)),y=i(s(v,a(o(v,b),x=>l(x))));return u(y)?y:Number.NaN}}),c3="multinomial",bEe=["typed","add","divide","multiply","factorial","isInteger","isPositive"],wEe=H(c3,bEe,t=>{var{typed:e,add:r,divide:n,multiply:i,factorial:s,isInteger:a,isPositive:o}=t;return e(c3,{"Array | Matrix":function(u){var c=0,f=1;return ol(u,function(h){if(!a(h)||!o(h))throw new TypeError("Positive integer value expected in function multinomial");c=r(c,h),f=i(f,s(h))}),n(s(c),f)}})}),f3="permutations",_Ee=["typed","factorial"],EEe=H(f3,_Ee,t=>{var{typed:e,factorial:r}=t;return e(f3,{"number | BigNumber":r,"number, number":function(i,s){if(!We(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!We(s)||s<0)throw new TypeError("Positive integer value expected in function permutations");if(s>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Da(i-s+1,i)},"BigNumber, BigNumber":function(i,s){var a,o;if(!h3(i)||!h3(s))throw new TypeError("Positive integer value expected in function permutations");if(s.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(a=l,o=i.minus(s).plus(1);o.lte(i);o=o.plus(1))a=a.times(o);return a}})});function h3(t){return t.isInteger()&&t.gte(0)}var n2={exports:{}};n2.exports;(function(t){(function(e,r,n){function i(l){var u=this,c=o();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function s(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var c=new i(l),f=u&&u.state,h=c.next;return h.int32=function(){return c.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,f&&(typeof f=="object"&&s(f,c),h.state=function(){return s(c,{})}),h}function o(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var h=.02519603282416938*l;l=h>>>0,h-=l,h*=l,l=h>>>0,h-=l,l+=h*4294967296}return(l>>>0)*23283064365386963e-26};return u}r&&r.exports?r.exports=a:this.alea=a})(Iu,t)})(n2);var SEe=n2.exports,i2={exports:{}};i2.exports;(function(t){(function(e,r,n){function i(o){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function s(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l}function a(o,l){var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(h+d)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&s(c,u),f.state=function(){return s(u,{})}),f}r&&r.exports?r.exports=a:this.xor128=a})(Iu,t)})(i2);var AEe=i2.exports,s2={exports:{}};s2.exports;(function(t){(function(e,r,n){function i(o){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,o===(o|0)?l.x=o:u+=o;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function s(o,l){return l.x=o.x,l.y=o.y,l.z=o.z,l.w=o.w,l.v=o.v,l.d=o.d,l}function a(o,l){var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(h+d)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&s(c,u),f.state=function(){return s(u,{})}),f}r&&r.exports?r.exports=a:this.xorwow=a})(Iu,t)})(s2);var NEe=s2.exports,a2={exports:{}};a2.exports;(function(t){(function(e,r,n){function i(o){var l=this;l.next=function(){var c=l.x,f=l.i,h,d;return h=c[f],h^=h>>>7,d=h^h<<24,h=c[f+1&7],d^=h^h>>>10,h=c[f+3&7],d^=h^h>>>3,h=c[f+4&7],d^=h^h<<7,h=c[f+7&7],h=h^h<<13,d^=h^h<<9,c[f]=d,l.i=f+1&7,d};function u(c,f){var h,d=[];if(f===(f|0))d[0]=f;else for(f=""+f,h=0;h<f.length;++h)d[h&7]=d[h&7]<<15^f.charCodeAt(h)+d[h+1&7]<<13;for(;d.length<8;)d.push(0);for(h=0;h<8&&d[h]===0;++h);for(h==8?d[7]=-1:d[h],c.x=d,c.i=0,h=256;h>0;--h)c.next()}u(l,o)}function s(o,l){return l.x=o.x.slice(),l.i=o.i,l}function a(o,l){o==null&&(o=+new Date);var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(h+d)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(c.x&&s(c,u),f.state=function(){return s(u,{})}),f}r&&r.exports?r.exports=a:this.xorshift7=a})(Iu,t)})(a2);var TEe=a2.exports,o2={exports:{}};o2.exports;(function(t){(function(e,r,n){function i(o){var l=this;l.next=function(){var c=l.w,f=l.X,h=l.i,d,m;return l.w=c=c+1640531527|0,m=f[h+34&127],d=f[h=h+1&127],m^=m<<13,d^=d<<17,m^=m>>>15,d^=d>>>12,m=f[h]=m^d,l.i=h,m+(c^c>>>16)|0};function u(c,f){var h,d,m,p,g,v=[],b=128;for(f===(f|0)?(d=f,f=null):(f=f+"\0",d=0,b=Math.max(b,f.length)),m=0,p=-32;p<b;++p)f&&(d^=f.charCodeAt((p+32)%f.length)),p===0&&(g=d),d^=d<<10,d^=d>>>15,d^=d<<4,d^=d>>>13,p>=0&&(g=g+1640531527|0,h=v[p&127]^=d+g,m=h==0?m+1:0);for(m>=128&&(v[(f&&f.length||0)&127]=-1),m=127,p=4*128;p>0;--p)d=v[m+34&127],h=v[m=m+1&127],d^=d<<13,h^=h<<17,d^=d>>>15,h^=h>>>12,v[m]=d^h;c.w=g,c.X=v,c.i=m}u(l,o)}function s(o,l){return l.i=o.i,l.w=o.w,l.X=o.X.slice(),l}function a(o,l){o==null&&(o=+new Date);var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(h+d)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(c.X&&s(c,u),f.state=function(){return s(u,{})}),f}r&&r.exports?r.exports=a:this.xor4096=a})(Iu,t)})(o2);var DEe=o2.exports,l2={exports:{}};l2.exports;(function(t){(function(e,r,n){function i(o){var l=this,u="";l.next=function(){var f=l.b,h=l.c,d=l.d,m=l.a;return f=f<<25^f>>>7^h,h=h-d|0,d=d<<24^d>>>8^m,m=m-f|0,l.b=f=f<<20^f>>>12^h,l.c=h=h-d|0,l.d=d<<16^h>>>16^m,l.a=m-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,o===Math.floor(o)?(l.a=o/4294967296|0,l.b=o|0):u+=o;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function s(o,l){return l.a=o.a,l.b=o.b,l.c=o.c,l.d=o.d,l}function a(o,l){var u=new i(o),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var h=u.next()>>>11,d=(u.next()>>>0)/4294967296,m=(h+d)/(1<<21);while(m===0);return m},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&s(c,u),f.state=function(){return s(u,{})}),f}r&&r.exports?r.exports=a:this.tychei=a})(Iu,t)})(l2);var CEe=l2.exports,T$={exports:{}};const MEe={},IEe=Object.freeze(Object.defineProperty({__proto__:null,default:MEe},Symbol.toStringTag,{value:"Module"})),PEe=$j(IEe);(function(t){(function(e,r,n){var i=256,s=6,a=52,o="random",l=n.pow(i,s),u=n.pow(2,a),c=u*2,f=i-1,h;function d(x,w,E){var S=[];w=w==!0?{entropy:!0}:w||{};var A=v(g(w.entropy?[x,y(r)]:x??b(),3),S),N=new m(S),D=function(){for(var C=N.g(s),M=l,I=0;C<u;)C=(C+I)*i,M*=i,I=N.g(1);for(;C>=c;)C/=2,M/=2,I>>>=1;return(C+I)/M};return D.int32=function(){return N.g(4)|0},D.quick=function(){return N.g(4)/4294967296},D.double=D,v(y(N.S),r),(w.pass||E||function(C,M,I,z){return z&&(z.S&&p(z,N),C.state=function(){return p(N,{})}),I?(n[o]=C,M):C})(D,A,"global"in w?w.global:this==n,w.state)}function m(x){var w,E=x.length,S=this,A=0,N=S.i=S.j=0,D=S.S=[];for(E||(x=[E++]);A<i;)D[A]=A++;for(A=0;A<i;A++)D[A]=D[N=f&N+x[A%E]+(w=D[A])],D[N]=w;(S.g=function(C){for(var M,I=0,z=S.i,V=S.j,k=S.S;C--;)M=k[z=f&z+1],I=I*i+k[f&(k[z]=k[V=f&V+M])+(k[V]=M)];return S.i=z,S.j=V,I})(i)}function p(x,w){return w.i=x.i,w.j=x.j,w.S=x.S.slice(),w}function g(x,w){var E=[],S=typeof x,A;if(w&&S=="object")for(A in x)try{E.push(g(x[A],w-1))}catch{}return E.length?E:S=="string"?x:x+"\0"}function v(x,w){for(var E=x+"",S,A=0;A<E.length;)w[f&A]=f&(S^=w[f&A]*19)+E.charCodeAt(A++);return y(w)}function b(){try{var x;return h&&(x=h.randomBytes)?x=x(i):(x=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(x)),y(x)}catch{var w=e.navigator,E=w&&w.plugins;return[+new Date,e,E,e.screen,y(r)]}}function y(x){return String.fromCharCode.apply(0,x)}if(v(n.random(),r),t.exports){t.exports=d;try{h=PEe}catch{}}else n["seed"+o]=d})(typeof self<"u"?self:Iu,[],Math)})(T$);var kEe=T$.exports,REe=SEe,OEe=AEe,FEe=NEe,BEe=TEe,LEe=DEe,VEe=CEe,qu=kEe;qu.alea=REe;qu.xor128=OEe;qu.xorwow=FEe;qu.xorshift7=BEe;qu.xor4096=LEe;qu.tychei=VEe;var $Ee=qu;const D$=Sm($Ee);var zEe=D$(Date.now());function Tf(t){var e;function r(i){e=i===null?zEe:D$(String(i))}r(t);function n(){return e()}return n}var d3="pickRandom",jEe=["typed","config","?on"],UEe=H(d3,jEe,t=>{var{typed:e,config:r,on:n}=t,i=Tf(r.randomSeed);return n&&n("config",function(a,o){a.randomSeed!==o.randomSeed&&(i=Tf(a.randomSeed))}),e(d3,{"Array | Matrix":function(o){return s(o,{})},"Array | Matrix, Object":function(o,l){return s(o,l)},"Array | Matrix, number":function(o,l){return s(o,{number:l})},"Array | Matrix, Array | Matrix":function(o,l){return s(o,{weights:l})},"Array | Matrix, Array | Matrix, number":function(o,l,u){return s(o,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(o,l,u){return s(o,{number:l,weights:u})}});function s(a,o){var{number:l,weights:u,elementWise:c=!0}=o,f=typeof l>"u";f&&(l=1);var h=Je(a)?a.create:Je(u)?u.create:null;a=a.valueOf(),u&&(u=u.valueOf()),c===!0&&(a=Ct(a),u=Ct(u));var d=0;if(typeof u<"u"){if(u.length!==a.length)throw new Error("Weights must have the same length as possibles");for(var m=0,p=u.length;m<p;m++){if(!ft(u[m])||u[m]<0)throw new Error("Weights must be an array of positive numbers");d+=u[m]}}for(var g=a.length,v=[],b;v.length<l;){if(typeof u>"u")b=a[Math.floor(i()*g)];else for(var y=i()*d,x=0,w=a.length;x<w;x++)if(y-=u[x],y<0){b=a[x];break}v.push(b)}return f?v[0]:h?h(v):v}});function u2(t,e){var r=[];if(t=t.slice(0),t.length>1)for(var n=0,i=t.shift();n<i;n++)r.push(u2(t,e));else for(var s=0,a=t.shift();s<a;s++)r.push(e());return r}var m3="random",qEe=["typed","config","?on"],HEe=H(m3,qEe,t=>{var{typed:e,config:r,on:n}=t,i=Tf(r.randomSeed);return n&&n("config",function(o,l){o.randomSeed!==l.randomSeed&&(i=Tf(o.randomSeed))}),e(m3,{"":()=>a(0,1),number:o=>a(0,o),"number, number":(o,l)=>a(o,l),"Array | Matrix":o=>s(o,0,1),"Array | Matrix, number":(o,l)=>s(o,0,l),"Array | Matrix, number, number":(o,l,u)=>s(o,l,u)});function s(o,l,u){var c=u2(o.valueOf(),()=>a(l,u));return Je(o)?o.create(c,"number"):c}function a(o,l){return o+i()*(l-o)}}),p3="randomInt",WEe=["typed","config","log2","?on"],GEe=H(p3,WEe,t=>{var{typed:e,config:r,log2:n,on:i}=t,s=Tf(r.randomSeed);return i&&i("config",function(u,c){u.randomSeed!==c.randomSeed&&(s=Tf(u.randomSeed))}),e(p3,{"":()=>o(0,2),number:u=>o(0,u),"number, number":(u,c)=>o(u,c),bigint:u=>l(0n,u),"bigint, bigint":l,"Array | Matrix":u=>a(u,0,1),"Array | Matrix, number":(u,c)=>a(u,0,c),"Array | Matrix, number, number":(u,c,f)=>a(u,c,f)});function a(u,c,f){var h=u2(u.valueOf(),()=>o(c,f));return Je(u)?u.create(h,"number"):h}function o(u,c){return Math.floor(u+s()*(c-u))}function l(u,c){var f=2n**30n,h=c-u;if(h<=f)return u+BigInt(o(0,Number(h)));for(var d=n(h),m=h;m>=h;){m=0n;for(var p=0;p<d;++p)m=2n*m+(s()<.5?0n:1n)}return u+m}}),g3="stirlingS2",KEe=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],YEe=H(g3,KEe,t=>{var{typed:e,addScalar:r,subtractScalar:n,multiplyScalar:i,divideScalar:s,pow:a,factorial:o,combinations:l,isNegative:u,isInteger:c,number:f,bignumber:h,larger:d}=t,m=[],p=[];return e(g3,{"number | BigNumber, number | BigNumber":function(v,b){if(!c(v)||u(v)||!c(b)||u(b))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(d(b,v))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(ft(v)&&ft(b)),x=y?p:m,w=y?h:f,E=f(v),S=f(b);if(x[E]&&x[E].length>S)return x[E][S];for(var A=0;A<=E;++A)if(x[A]||(x[A]=[w(A===0?1:0)]),A!==0)for(var N=x[A],D=x[A-1],C=N.length;C<=A&&C<=S;++C)C===A?N[C]=1:N[C]=r(i(w(C),D[C]),D[C-1]);return x[E][S]}})}),v3="bellNumbers",QEe=["typed","addScalar","isNegative","isInteger","stirlingS2"],XEe=H(v3,QEe,t=>{var{typed:e,addScalar:r,isNegative:n,isInteger:i,stirlingS2:s}=t;return e(v3,{"number | BigNumber":function(o){if(!i(o)||n(o))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=o;u++)l=r(l,s(o,u));return l}})}),y3="catalan",JEe=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],ZEe=H(y3,JEe,t=>{var{typed:e,addScalar:r,divideScalar:n,multiplyScalar:i,combinations:s,isNegative:a,isInteger:o}=t;return e(y3,{"number | BigNumber":function(u){if(!o(u)||a(u))throw new TypeError("Non-negative integer value expected in function catalan");return n(s(i(u,2),u),r(u,1))}})}),x3="composition",eSe=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],tSe=H(x3,eSe,t=>{var{typed:e,addScalar:r,combinations:n,isPositive:i,isNegative:s,isInteger:a,larger:o}=t;return e(x3,{"number | BigNumber, number | BigNumber":function(u,c){if(!a(u)||!i(u)||!a(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(o(c,u))throw new TypeError("k must be less than or equal to n in function composition");return n(r(u,-1),r(c,-1))}})}),b3="leafCount",rSe=["parse","typed"],nSe=H(b3,rSe,t=>{var{parse:e,typed:r}=t;function n(i){var s=0;return i.forEach(a=>{s+=n(a)}),s||1}return r(b3,{Node:function(s){return n(s)}})});function w3(t){return _t(t)||Ar(t)&&t.isUnary()&&_t(t.args[0])}function ry(t){return!!(_t(t)||(il(t)||Ar(t))&&t.args.every(ry)||Ga(t)&&ry(t.content))}function _3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(r),!0).forEach(function(n){Rr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var iSe="simplifyUtil",sSe=["FunctionNode","OperatorNode","SymbolNode"],c2=H(iSe,sSe,t=>{var{FunctionNode:e,OperatorNode:r,SymbolNode:n}=t,i=!0,s=!1,a="defaultF",o={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:s,total:i,commutative:s,associative:s},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:s,total:i,commutative:s,associative:s},paren:{trivial:i,total:i,commutative:i,associative:s},defaultF:{trivial:s,total:i,commutative:s,associative:s}},l={divide:{total:s},log:{total:s}},u={subtract:{total:s},abs:{trivial:i},log:{total:i}};function c(y,x){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o,E=a;if(typeof y=="string"?E=y:Ar(y)?E=y.fn.toString():il(y)?E=y.name:Ga(y)&&(E="paren"),qe(w,E)){var S=w[E];if(qe(S,x))return S[x];if(qe(o,E))return o[E][x]}if(qe(w,a)){var A=w[a];return qe(A,x)?A[x]:o[a][x]}if(qe(o,E)){var N=o[E];if(qe(N,x))return N[x]}return o[a][x]}function f(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(y,"commutative",x)}function h(y){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o;return c(y,"associative",x)}function d(y,x){var w=Eb({},y);for(var E in x)qe(y,E)?w[E]=Eb(Eb({},x[E]),y[E]):w[E]=x[E];return w}function m(y,x){if(!y.args||y.args.length===0)return y;y.args=p(y,x);for(var w=0;w<y.args.length;w++)m(y.args[w],x)}function p(y,x){var w,E=[],S=function(N){for(var D=0;D<N.args.length;D++){var C=N.args[D];Ar(C)&&w===C.op?S(C):E.push(C)}};return h(y,x)?(w=y.op,S(y),E):y.args}function g(y,x){if(!(!y.args||y.args.length===0)){for(var w=b(y),E=y.args.length,S=0;S<E;S++)g(y.args[S],x);if(E>2&&h(y,x)){for(var A=y.args.pop();y.args.length>0;)A=w([y.args.pop(),A]);y.args=A.args}}}function v(y,x){if(!(!y.args||y.args.length===0)){for(var w=b(y),E=y.args.length,S=0;S<E;S++)v(y.args[S],x);if(E>2&&h(y,x)){for(var A=y.args.shift();y.args.length>0;)A=w([A,y.args.shift()]);y.args=A.args}}}function b(y){return Ar(y)?function(x){try{return new r(y.op,y.fn,x,y.implicit)}catch(w){return console.error(w),[]}}:function(x){return new e(new n(y.name),x)}}return{createMakeNodeFunction:b,hasProperty:c,isCommutative:f,isAssociative:h,mergeContext:d,flatten:m,allChildren:p,unflattenr:g,unflattenl:v,defaultContext:o,realContext:l,positiveContext:u}}),aSe="simplify",oSe=["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],lSe=H(aSe,oSe,t=>{var{typed:e,parse:r,equal:n,resolve:i,simplifyConstant:s,simplifyCore:a,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:h,OperatorNode:d,ParenthesisNode:m,SymbolNode:p,replacer:g}=t,{hasProperty:v,isCommutative:b,isAssociative:y,mergeContext:x,flatten:w,unflattenr:E,unflattenl:S,createMakeNodeFunction:A,defaultContext:N,realContext:D,positiveContext:C}=c2({FunctionNode:c,OperatorNode:d,SymbolNode:p});e.addConversion({from:"Object",to:"Map",convert:Qc});var M=e("simplify",{Node:$,"Node, Map":(W,X)=>$(W,!1,X),"Node, Map, Object":(W,X,ee)=>$(W,!1,X,ee),"Node, Array":$,"Node, Array, Map":$,"Node, Array, Map, Object":$});e.removeConversion({from:"Object",to:"Map",convert:Qc}),M.defaultContext=N,M.realContext=D,M.positiveContext=C;function I(W){return W.transform(function(X){return Ga(X)?I(X.content):X})}var z={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};M.rules=[a,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},s,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},s,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function V(W,X){var ee={};if(W.s){var se=W.s.split("->");if(se.length===2)ee.l=se[0],ee.r=se[1];else throw SyntaxError("Could not parse rule: "+W.s)}else ee.l=W.l,ee.r=W.r;ee.l=I(r(ee.l)),ee.r=I(r(ee.r));for(var oe of["imposeContext","repeat","assuming"])oe in W&&(ee[oe]=W[oe]);if(W.evaluate&&(ee.evaluate=r(W.evaluate)),y(ee.l,X)){var ve=!b(ee.l,X),pe;ve&&(pe=B());var De=A(ee.l),Be=B();ee.expanded={},ee.expanded.l=De([ee.l,Be]),w(ee.expanded.l,X),E(ee.expanded.l,X),ee.expanded.r=De([ee.r,Be]),ve&&(ee.expandedNC1={},ee.expandedNC1.l=De([pe,ee.l]),ee.expandedNC1.r=De([pe,ee.r]),ee.expandedNC2={},ee.expandedNC2.l=De([pe,ee.expanded.l]),ee.expandedNC2.r=De([pe,ee.expanded.r]))}return ee}function k(W,X){for(var ee=[],se=0;se<W.length;se++){var oe=W[se],ve=void 0,pe=typeof oe;switch(pe){case"string":oe={s:oe};case"object":ve=V(oe,X);break;case"function":ve=oe;break;default:throw TypeError("Unsupported type of rule: "+pe)}ee.push(ve)}return ee}var L=0;function B(){return new p("_p"+L++)}function $(W,X){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fm(),se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},oe=se.consoleDebug;X=k(X||M.rules,se.context);var ve=i(W,ee);ve=I(ve);for(var pe={},De=ve.toString({parenthesis:"all"});!pe[De];){pe[De]=!0,L=0;var Be=De;oe&&console.log("Working on: ",De);for(var ze=0;ze<X.length;ze++){var ke="";if(typeof X[ze]=="function"?(ve=X[ze](ve,se),oe&&(ke=X[ze].name)):(w(ve,se.context),ve=ie(ve,X[ze],se.context),oe&&(ke="".concat(X[ze].l.toString()," -> ").concat(X[ze].r.toString()))),oe){var He=ve.toString({parenthesis:"all"});He!==Be&&(console.log("Applying",ke,"produced",He),Be=He)}S(ve,se.context)}De=ve.toString({parenthesis:"all"})}return ve}function Y(W,X,ee){var se=W;if(W)for(var oe=0;oe<W.length;++oe){var ve=ie(W[oe],X,ee);ve!==W[oe]&&(se===W&&(se=W.slice()),se[oe]=ve)}return se}function ie(W,X,ee){if(X.assuming){for(var se in X.assuming)for(var oe in X.assuming[se])if(v(se,oe,ee)!==X.assuming[se][oe])return W}var ve=x(X.imposeContext,ee),pe=W;if(pe instanceof d||pe instanceof c){var De=Y(pe.args,X,ee);De!==pe.args&&(pe=pe.clone(),pe.args=De)}else if(pe instanceof m){if(pe.content){var Be=ie(pe.content,X,ee);Be!==pe.content&&(pe=new m(Be))}}else if(pe instanceof l){var ze=Y(pe.items,X,ee);ze!==pe.items&&(pe=new l(ze))}else if(pe instanceof o){var ke=pe.object;pe.object&&(ke=ie(pe.object,X,ee));var He=pe.index;pe.index&&(He=ie(pe.index,X,ee)),(ke!==pe.object||He!==pe.index)&&(pe=new o(ke,He))}else if(pe instanceof f){var K=Y(pe.dimensions,X,ee);K!==pe.dimensions&&(pe=new f(K))}else if(pe instanceof h){var te=!1,ce={};for(var U in pe.properties)ce[U]=ie(pe.properties[U],X,ee),ce[U]!==pe.properties[U]&&(te=!0);te&&(pe=new h(ce))}var Q=X.r,re=ue(X.l,pe,ve)[0];if(!re&&X.expanded&&(Q=X.expanded.r,re=ue(X.expanded.l,pe,ve)[0]),!re&&X.expandedNC1&&(Q=X.expandedNC1.r,re=ue(X.expandedNC1.l,pe,ve)[0],re||(Q=X.expandedNC2.r,re=ue(X.expandedNC2.l,pe,ve)[0])),re){var ae=pe.implicit;pe=Q.clone(),ae&&"implicit"in Q&&(pe.implicit=!0),pe=pe.transform(function(le){return le.isSymbolNode&&qe(re.placeholders,le.name)?re.placeholders[le.name].clone():le})}return X.repeat&&pe!==W&&(pe=ie(pe,X,ee)),pe}function O(W,X){var ee=[],se,oe,ve=A(W);if(b(W,X))for(var pe=0;pe<W.args.length;pe++)oe=W.args.slice(0),oe.splice(pe,1),se=oe.length===1?oe[0]:ve(oe),ee.push(ve([W.args[pe],se]));else for(var De=1;De<W.args.length;De++){var Be=W.args[0];De>1&&(Be=ve(W.args.slice(0,De))),oe=W.args.slice(De),se=oe.length===1?oe[0]:ve(oe),ee.push(ve([Be,se]))}return ee}function q(W,X){var ee={placeholders:{}};if(!W.placeholders&&!X.placeholders)return ee;if(W.placeholders){if(!X.placeholders)return W}else return X;for(var se in W.placeholders)if(qe(W.placeholders,se)&&(ee.placeholders[se]=W.placeholders[se],qe(X.placeholders,se)&&!fe(W.placeholders[se],X.placeholders[se])))return null;for(var oe in X.placeholders)qe(X.placeholders,oe)&&(ee.placeholders[oe]=X.placeholders[oe]);return ee}function j(W,X){var ee=[];if(W.length===0||X.length===0)return ee;for(var se,oe=0;oe<W.length;oe++)for(var ve=0;ve<X.length;ve++)se=q(W[oe],X[ve]),se&&ee.push(se);return ee}function me(W){if(W.length===0)return W;for(var X=W.reduce(j),ee=[],se={},oe=0;oe<X.length;oe++){var ve=JSON.stringify(X[oe],g);se[ve]||(se[ve]=!0,ee.push(X[oe]))}return ee}function ue(W,X,ee,se){var oe=[{placeholders:{}}];if(W instanceof d&&X instanceof d||W instanceof c&&X instanceof c){if(W instanceof d){if(W.op!==X.op||W.fn!==X.fn)return[]}else if(W instanceof c&&W.name!==X.name)return[];if(X.args.length===1&&W.args.length===1||!y(X,ee)&&X.args.length===W.args.length||se){for(var ve=[],pe=0;pe<W.args.length;pe++){var De=ue(W.args[pe],X.args[pe],ee);if(De.length===0)break;ve.push(De)}if(ve.length!==W.args.length){if(!b(X,ee)||W.args.length===1)return[];if(W.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var Be=ue(W.args[0],X.args[1],ee);if(Be.length===0)return[];var ze=ue(W.args[1],X.args[0],ee);if(ze.length===0)return[];ve=[Be,ze]}oe=me(ve)}else if(X.args.length>=2&&W.args.length===2){for(var ke=O(X,ee),He=[],K=0;K<ke.length;K++){var te=ue(W,ke[K],ee,!0);He=He.concat(te)}return He}else{if(W.args.length>2)throw Error("Unexpected non-binary associative function: "+W.toString());return[]}}else if(W instanceof p){if(W.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(z[W.name]){if(W.name!==X.name)return[]}else switch(W.name[1]>="a"&&W.name[1]<="z"?W.name.substring(0,2):W.name[0]){case"n":case"_p":oe[0].placeholders[W.name]=X;break;case"c":case"cl":if(_t(X))oe[0].placeholders[W.name]=X;else return[];break;case"v":if(!_t(X))oe[0].placeholders[W.name]=X;else return[];break;case"vl":if(Xr(X))oe[0].placeholders[W.name]=X;else return[];break;case"cd":if(w3(X))oe[0].placeholders[W.name]=X;else return[];break;case"vd":if(!w3(X))oe[0].placeholders[W.name]=X;else return[];break;case"ce":if(ry(X))oe[0].placeholders[W.name]=X;else return[];break;case"ve":if(!ry(X))oe[0].placeholders[W.name]=X;else return[];break;default:throw new Error("Invalid symbol in rule: "+W.name)}}else if(W instanceof u){if(!n(W.value,X.value))return[]}else return[];return oe}function fe(W,X){if(W instanceof u&&X instanceof u){if(!n(W.value,X.value))return!1}else if(W instanceof p&&X instanceof p){if(W.name!==X.name)return!1}else if(W instanceof d&&X instanceof d||W instanceof c&&X instanceof c){if(W instanceof d){if(W.op!==X.op||W.fn!==X.fn)return!1}else if(W instanceof c&&W.name!==X.name)return!1;if(W.args.length!==X.args.length)return!1;for(var ee=0;ee<W.args.length;ee++)if(!fe(W.args[ee],X.args[ee]))return!1}else return!1;return!0}return M}),uSe="simplifyConstant",cSe=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],fSe=H(uSe,cSe,t=>{var{typed:e,config:r,mathWithTransform:n,matrix:i,fraction:s,bignumber:a,AccessorNode:o,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:h,OperatorNode:d,SymbolNode:m}=t,{isCommutative:p,isAssociative:g,allChildren:v,createMakeNodeFunction:b}=c2({FunctionNode:c,OperatorNode:d,SymbolNode:m}),y=e("simplifyConstant",{Node:V=>S(z(V,{})),"Node, Object":function(k,L){return S(z(k,L))}});function x(V){return Km(V)?V.valueOf():V instanceof Array?V.map(x):Je(V)?i(x(V.valueOf())):V}function w(V,k,L){try{return n[V].apply(null,k)}catch{return k=k.map(x),N(n[V].apply(null,k),L)}}var E=e({Fraction:C,number:function(k){return k<0?D(new u(-k)):new u(k)},BigNumber:function(k){return k<0?D(new u(-k)):new u(k)},bigint:function(k){return k<0n?D(new u(-k)):new u(k)},Complex:function(k){throw new Error("Cannot convert Complex number to Node")},string:function(k){return new u(k)},Matrix:function(k){return new l(k.valueOf().map(L=>E(L)))}});function S(V){return $t(V)?V:E(V)}function A(V,k){var L=k&&k.exactFractions!==!1;if(L&&isFinite(V)&&s){var B=s(V),$=k&&typeof k.fractionsLimit=="number"?k.fractionsLimit:1/0;if(B.valueOf()===V&&B.n<$&&B.d<$)return B}return V}var N=e({"string, Object":function(k,L){var B=yl(k,r);if(B==="BigNumber")return a===void 0&&ZA(),a(k);if(B==="bigint")return BigInt(k);if(B==="Fraction")return s===void 0&&a$(),s(k);var $=parseFloat(k);return A($,L)},"Fraction, Object":function(k,L){return k},"BigNumber, Object":function(k,L){return k},"number, Object":function(k,L){return A(k,L)},"bigint, Object":function(k,L){return k},"Complex, Object":function(k,L){return k.im!==0?k:A(k.re,L)},"Matrix, Object":function(k,L){return i(A(k.valueOf()))},"Array, Object":function(k,L){return k.map(A)}});function D(V){return new d("-","unaryMinus",[V])}function C(V){var k=$=>r.number==="BigNumber"&&a?a($):Number($),L=V.s*V.n,B=L<0n?new d("-","unaryMinus",[new u(-k(L))]):new u(k(L));return V.d===1n?B:new d("/","divide",[B,new u(k(V.d))])}function M(V,k,L){if(!Hf(k))return new o(S(V),S(k));if(Bi(V)||Je(V)){for(var B=Array.from(k.dimensions);B.length>0;)if(_t(B[0])&&typeof B[0].value!="string"){var $=N(B.shift().value,L);Bi(V)?V=V.items[$-1]:(V=V.valueOf()[$-1],V instanceof Array&&(V=i(V)))}else if(B.length>1&&_t(B[1])&&typeof B[1].value!="string"){var Y=N(B[1].value,L),ie=[],O=Bi(V)?V.items:V.valueOf();for(var q of O)if(Bi(q))ie.push(q.items[Y-1]);else if(Je(V))ie.push(q[Y-1]);else break;if(ie.length===O.length)Bi(V)?V=new l(ie):V=i(ie),B.splice(1,1);else break}else break;return B.length===k.dimensions.length?new o(S(V),k):B.length>0?(k=new f(B),new o(S(V),k)):V}if(T1(V)&&k.dimensions.length===1&&_t(k.dimensions[0])){var j=k.dimensions[0].value;return j in V.properties?V.properties[j]:new u}return new o(S(V),k)}function I(V,k,L,B){var $=k.shift(),Y=k.reduce((ie,O)=>{if(!$t(O)){var q=ie.pop();if($t(q))return[q,O];try{return ie.push(w(V,[q,O],B)),ie}catch{ie.push(q)}}ie.push(S(ie.pop()));var j=ie.length===1?ie[0]:L(ie);return[L([j,S(O)])]},[$]);return Y.length===1?Y[0]:L([Y[0],E(Y[1])])}function z(V,k){switch(V.type){case"SymbolNode":return V;case"ConstantNode":switch(typeof V.value){case"number":return N(V.value,k);case"bigint":return N(V.value,k);case"string":return V.value;default:if(!isNaN(V.value))return N(V.value,k)}return V;case"FunctionNode":if(n[V.name]&&n[V.name].rawArgs)return V;{var L=["add","multiply"];if(!L.includes(V.name)){var B=V.args.map(se=>z(se,k));if(!B.some($t))try{return w(V.name,B,k)}catch{}if(V.name==="size"&&B.length===1&&Bi(B[0])){for(var $=[],Y=B[0];Bi(Y);)$.push(Y.items.length),Y=Y.items[0];return i($)}return new c(V.name,B.map(S))}}case"OperatorNode":{var ie=V.fn.toString(),O,q,j=b(V);if(Ar(V)&&V.isUnary())O=[z(V.args[0],k)],$t(O[0])?q=j(O):q=w(ie,O,k);else if(g(V,k.context))if(O=v(V,k.context),O=O.map(se=>z(se,k)),p(ie,k.context)){for(var me=[],ue=[],fe=0;fe<O.length;fe++)$t(O[fe])?ue.push(O[fe]):me.push(O[fe]);me.length>1?(q=I(ie,me,j,k),ue.unshift(q),q=I(ie,ue,j,k)):q=I(ie,O,j,k)}else q=I(ie,O,j,k);else O=V.args.map(se=>z(se,k)),q=I(ie,O,j,k);return q}case"ParenthesisNode":return z(V.content,k);case"AccessorNode":return M(z(V.object,k),z(V.index,k),k);case"ArrayNode":{var W=V.items.map(se=>z(se,k));return W.some($t)?new l(W.map(S)):i(W)}case"IndexNode":return new f(V.dimensions.map(se=>y(se,k)));case"ObjectNode":{var X={};for(var ee in V.properties)X[ee]=y(V.properties[ee],k);return new h(X)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(V.type))}}return y}),E3="simplifyCore",hSe=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],dSe=H(E3,hSe,t=>{var{typed:e,parse:r,equal:n,isZero:i,add:s,subtract:a,multiply:o,divide:l,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:h,FunctionNode:d,IndexNode:m,ObjectNode:p,OperatorNode:g,ParenthesisNode:v,SymbolNode:b}=t,y=new h(0),x=new h(1),w=new h(!0),E=new h(!1);function S(C){return Ar(C)&&["and","not","or"].includes(C.op)}var{hasProperty:A,isCommutative:N}=c2({FunctionNode:d,OperatorNode:g,SymbolNode:b});function D(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=M?M.context:void 0;if(A(C,"trivial",I)){if(il(C)&&C.args.length===1)return D(C.args[0],M);var z=!1,V=0;if(C.forEach(ue=>{++V,V===1&&(z=D(ue,M))}),V===1)return z}var k=C;if(il(k)){var L=c0e(k.name);if(L){if(k.args.length>2&&A(k,"associative",I))for(;k.args.length>2;){var B=k.args.pop(),$=k.args.pop();k.args.push(new g(L,k.name,[B,$]))}k=new g(L,k.name,k.args)}else return new d(D(k.fn),k.args.map(ue=>D(ue,M)))}if(Ar(k)&&k.isUnary()){var Y=D(k.args[0],M);if(k.op==="~"&&Ar(Y)&&Y.isUnary()&&Y.op==="~"||k.op==="not"&&Ar(Y)&&Y.isUnary()&&Y.op==="not"&&S(Y.args[0]))return Y.args[0];var ie=!0;if(k.op==="-"&&Ar(Y)&&(Y.isBinary()&&Y.fn==="subtract"&&(k=new g("-","subtract",[Y.args[1],Y.args[0]]),ie=!1),Y.isUnary()&&Y.op==="-"))return Y.args[0];if(ie)return new g(k.op,k.fn,[Y])}if(Ar(k)&&k.isBinary()){var O=D(k.args[0],M),q=D(k.args[1],M);if(k.op==="+"){if(_t(O)&&i(O.value))return q;if(_t(q)&&i(q.value))return O;Ar(q)&&q.isUnary()&&q.op==="-"&&(q=q.args[0],k=new g("-","subtract",[O,q]))}if(k.op==="-")return Ar(q)&&q.isUnary()&&q.op==="-"?D(new g("+","add",[O,q.args[0]]),M):_t(O)&&i(O.value)?D(new g("-","unaryMinus",[q])):_t(q)&&i(q.value)?O:new g(k.op,k.fn,[O,q]);if(k.op==="*"){if(_t(O)){if(i(O.value))return y;if(n(O.value,1))return q}if(_t(q)){if(i(q.value))return y;if(n(q.value,1))return O;if(N(k,I))return new g(k.op,k.fn,[q,O],k.implicit)}return new g(k.op,k.fn,[O,q],k.implicit)}if(k.op==="/")return _t(O)&&i(O.value)?y:_t(q)&&n(q.value,1)?O:new g(k.op,k.fn,[O,q]);if(k.op==="^"&&_t(q)){if(i(q.value))return x;if(n(q.value,1))return O}if(k.op==="and"){if(_t(O))if(O.value){if(S(q))return q;if(_t(q))return q.value?w:E}else return E;if(_t(q))if(q.value){if(S(O))return O}else return E}if(k.op==="or"){if(_t(O)){if(O.value)return w;if(S(q))return q}if(_t(q)){if(q.value)return w;if(S(O))return O}}return new g(k.op,k.fn,[O,q])}if(Ar(k))return new g(k.op,k.fn,k.args.map(ue=>D(ue,M)));if(Bi(k))return new f(k.items.map(ue=>D(ue,M)));if(Tu(k))return new c(D(k.object,M),D(k.index,M));if(Hf(k))return new m(k.dimensions.map(ue=>D(ue,M)));if(T1(k)){var j={};for(var me in k.properties)j[me]=D(k.properties[me],M);return new p(j)}return k}return e(E3,{Node:D,"Node,Object":D})}),mSe="resolve",pSe=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],gSe=H(mSe,pSe,t=>{var{typed:e,parse:r,ConstantNode:n,FunctionNode:i,OperatorNode:s,ParenthesisNode:a}=t;function o(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(Xr(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var h=u.get(l.name);if($t(h)){var d=new Set(c);return d.add(l.name),o(h,u,d)}else return typeof h=="number"?r(String(h)):h!==void 0?new n(h):l}else if(Ar(l)){var m=l.args.map(function(g){return o(g,u,c)});return new s(l.op,l.fn,m,l.implicit)}else{if(Ga(l))return new a(o(l.content,u,c));if(il(l)){var p=l.args.map(function(g){return o(g,u,c)});return new i(l.name,p)}}return l.map(g=>o(g,u,c))}return e("resolve",{Node:o,"Node, Map | null | undefined":o,"Node, Object":(l,u)=>o(l,Qc(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,Qc(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,Qc(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(f=>l(f,c)))})}),S3="symbolicEqual",vSe=["parse","simplify","typed","OperatorNode"],ySe=H(S3,vSe,t=>{var{parse:e,simplify:r,typed:n,OperatorNode:i}=t;function s(a,o){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[a,o]),c=r(u,{},l);return _t(c)&&!c.value}return n(S3,{"Node, Node":s,"Node, Node, Object":s})}),A3="derivative",xSe=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],bSe=H(A3,xSe,t=>{var{typed:e,config:r,parse:n,simplify:i,equal:s,isZero:a,numeric:o,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:h}=t;function d(x,w){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},S=new Map,A=w.name;function N(C){var M=S.get(C);if(M!==void 0)return M;var I=v(N,C,A);return S.set(C,I),I}var D=b(x,N);return E.simplify?i(D):D}function m(x){var w=n(x);if(!w.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(x)," into a variable in function derivative"));return w}var p=e(A3,{"Node, SymbolNode":d,"Node, SymbolNode, Object":d,"Node, string":(x,w)=>d(x,m(w)),"Node, string, Object":(x,w,E)=>d(x,m(w),E)});p._simplify=!0,p.toTex=function(x){return g.apply(null,x.args)};var g=e("_derivTex",{"Node, SymbolNode":function(w,E){return _t(w)&&Wt(w.value)==="string"?g(n(w.value).toString(),E.toString(),1):g(w.toTex(),E.toString(),1)},"Node, ConstantNode":function(w,E){if(Wt(E.value)==="string")return g(w,n(E.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,E,S){return g(w.toString(),E.name,S.value)},"string, string, number":function(w,E,S){var A;return S===1?A="{d\\over d"+E+"}":A="{d^{"+S+"}\\over d"+E+"^{"+S+"}}",A+"\\left[".concat(w,"\\right]")}}),v=e("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(w,E,S){return E.name!==S},"function, ParenthesisNode, string":function(w,E,S){return w(E.content,S)},"function, FunctionAssignmentNode, string":function(w,E,S){return E.params.includes(S)?w(E.expr,S):!0},"function, FunctionNode | OperatorNode, string":function(w,E,S){return E.args.every(A=>w(A,S))}}),b=e("_derivative",{"ConstantNode, function":function(){return y(0)},"SymbolNode, function":function(w,E){return E(w)?y(0):y(1)},"ParenthesisNode, function":function(w,E){return new f(b(w.content,E))},"FunctionAssignmentNode, function":function(w,E){return E(w)?y(0):b(w.expr,E)},"FunctionNode, function":function(w,E){if(E(w))return y(0);var S=w.args[0],A,N=!1,D=!1,C;switch(w.name){case"cbrt":N=!0,C=new c("*","multiply",[y(3),new c("^","pow",[S,new c("/","divide",[y(2),y(3)])])]);break;case"sqrt":case"nthRoot":if(w.args.length===1)N=!0,C=new c("*","multiply",[y(2),new u("sqrt",[S])]);else if(w.args.length===2)return A=new c("/","divide",[y(1),w.args[1]]),b(new c("^","pow",[S,A]),E);break;case"log10":A=y(10);case"log":if(!A&&w.args.length===1)C=S.clone(),N=!0;else if(w.args.length===1&&A||w.args.length===2&&E(w.args[1]))C=new c("*","multiply",[S.clone(),new u("log",[A||w.args[1]])]),N=!0;else if(w.args.length===2)return b(new c("/","divide",[new u("log",[S]),new u("log",[w.args[1]])]),E);break;case"pow":if(w.args.length===2)return b(new c("^","pow",[S,w.args[1]]),E);break;case"exp":C=new u("exp",[S.clone()]);break;case"sin":C=new u("cos",[S.clone()]);break;case"cos":C=new c("-","unaryMinus",[new u("sin",[S.clone()])]);break;case"tan":C=new c("^","pow",[new u("sec",[S.clone()]),y(2)]);break;case"sec":C=new c("*","multiply",[w,new u("tan",[S.clone()])]);break;case"csc":D=!0,C=new c("*","multiply",[w,new u("cot",[S.clone()])]);break;case"cot":D=!0,C=new c("^","pow",[new u("csc",[S.clone()]),y(2)]);break;case"asin":N=!0,C=new u("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[S.clone(),y(2)])])]);break;case"acos":N=!0,D=!0,C=new u("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[S.clone(),y(2)])])]);break;case"atan":N=!0,C=new c("+","add",[new c("^","pow",[S.clone(),y(2)]),y(1)]);break;case"asec":N=!0,C=new c("*","multiply",[new u("abs",[S.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[S.clone(),y(2)]),y(1)])])]);break;case"acsc":N=!0,D=!0,C=new c("*","multiply",[new u("abs",[S.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[S.clone(),y(2)]),y(1)])])]);break;case"acot":N=!0,D=!0,C=new c("+","add",[new c("^","pow",[S.clone(),y(2)]),y(1)]);break;case"sinh":C=new u("cosh",[S.clone()]);break;case"cosh":C=new u("sinh",[S.clone()]);break;case"tanh":C=new c("^","pow",[new u("sech",[S.clone()]),y(2)]);break;case"sech":D=!0,C=new c("*","multiply",[w,new u("tanh",[S.clone()])]);break;case"csch":D=!0,C=new c("*","multiply",[w,new u("coth",[S.clone()])]);break;case"coth":D=!0,C=new c("^","pow",[new u("csch",[S.clone()]),y(2)]);break;case"asinh":N=!0,C=new u("sqrt",[new c("+","add",[new c("^","pow",[S.clone(),y(2)]),y(1)])]);break;case"acosh":N=!0,C=new u("sqrt",[new c("-","subtract",[new c("^","pow",[S.clone(),y(2)]),y(1)])]);break;case"atanh":N=!0,C=new c("-","subtract",[y(1),new c("^","pow",[S.clone(),y(2)])]);break;case"asech":N=!0,D=!0,C=new c("*","multiply",[S.clone(),new u("sqrt",[new c("-","subtract",[y(1),new c("^","pow",[S.clone(),y(2)])])])]);break;case"acsch":N=!0,D=!0,C=new c("*","multiply",[new u("abs",[S.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[S.clone(),y(2)]),y(1)])])]);break;case"acoth":N=!0,D=!0,C=new c("-","subtract",[y(1),new c("^","pow",[S.clone(),y(2)])]);break;case"abs":C=new c("/","divide",[new u(new h("abs"),[S.clone()]),S.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var M,I;N?(M="/",I="divide"):(M="*",I="multiply");var z=b(S,E);return D&&(z=new c("-","unaryMinus",[z])),new c(M,I,[z,C])},"OperatorNode, function":function(w,E){if(E(w))return y(0);if(w.op==="+")return new c(w.op,w.fn,w.args.map(function(k){return b(k,E)}));if(w.op==="-"){if(w.isUnary())return new c(w.op,w.fn,[b(w.args[0],E)]);if(w.isBinary())return new c(w.op,w.fn,[b(w.args[0],E),b(w.args[1],E)])}if(w.op==="*"){var S=w.args.filter(function(k){return E(k)});if(S.length>0){var A=w.args.filter(function(k){return!E(k)}),N=A.length===1?A[0]:new c("*","multiply",A),D=S.concat(b(N,E));return new c("*","multiply",D)}return new c("+","add",w.args.map(function(k){return new c("*","multiply",w.args.map(function(L){return L===k?b(L,E):L.clone()}))}))}if(w.op==="/"&&w.isBinary()){var C=w.args[0],M=w.args[1];return E(M)?new c("/","divide",[b(C,E),M]):E(C)?new c("*","multiply",[new c("-","unaryMinus",[C]),new c("/","divide",[b(M,E),new c("^","pow",[M.clone(),y(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[b(C,E),M.clone()]),new c("*","multiply",[C.clone(),b(M,E)])]),new c("^","pow",[M.clone(),y(2)])])}if(w.op==="^"&&w.isBinary()){var I=w.args[0],z=w.args[1];if(E(I))return _t(I)&&(a(I.value)||s(I.value,1))?y(0):new c("*","multiply",[w,new c("*","multiply",[new u("log",[I.clone()]),b(z.clone(),E)])]);if(E(z)){if(_t(z)){if(a(z.value))return y(0);if(s(z.value,1))return b(I,E)}var V=new c("^","pow",[I.clone(),new c("-","subtract",[z,y(1)])]);return new c("*","multiply",[z.clone(),new c("*","multiply",[b(I,E),V])])}return new c("*","multiply",[new c("^","pow",[I.clone(),z.clone()]),new c("+","add",[new c("*","multiply",[b(I,E),new c("/","divide",[z.clone(),I.clone()])]),new c("*","multiply",[b(z,E),new u("log",[I.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function y(x,w){return new l(o(x,yl(String(x),r)))}return p}),N3="rationalize",wSe=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],_Se=H(N3,wSe,t=>{var{config:e,typed:r,equal:n,isZero:i,add:s,subtract:a,multiply:o,divide:l,pow:u,parse:c,simplifyConstant:f,simplifyCore:h,simplify:d,fraction:m,bignumber:p,mathWithTransform:g,matrix:v,AccessorNode:b,ArrayNode:y,ConstantNode:x,FunctionNode:w,IndexNode:E,ObjectNode:S,OperatorNode:A,SymbolNode:N,ParenthesisNode:D}=t;function C(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,$=I(),Y=M(k,L,!0,$.firstRules),ie=Y.variables.length,O={exactFractions:!1},q={exactFractions:!0};if(k=Y.expression,ie>=1){k=z(k);var j,me,ue=!0,fe=!1;k=d(k,$.firstRules,{},O);for(var W;me=ue?$.distrDivRules:$.sucDivRules,k=d(k,me,{},q),ue=!ue,W=k.toString(),W!==j;)fe=!0,j=W;fe&&(k=d(k,$.firstRulesAgain,{},O)),k=d(k,$.finalRules,{},O)}var X=[],ee={};return k.type==="OperatorNode"&&k.isBinary()&&k.op==="/"?(ie===1&&(k.args[0]=V(k.args[0],X),k.args[1]=V(k.args[1])),B&&(ee.numerator=k.args[0],ee.denominator=k.args[1])):(ie===1&&(k=V(k,X)),B&&(ee.numerator=k,ee.denominator=null)),B?(ee.coefficients=X,ee.variables=Y.variables,ee.expression=k,ee):k}return r(N3,{Node:C,"Node, boolean":(k,L)=>C(k,{},L),"Node, Object":C,"Node, Object, boolean":C});function M(k,L,B,$){var Y=[],ie=d(k,$,L,{exactFractions:!1});B=!!B;var O="+-*"+(B?"/":"");j(ie);var q={};return q.expression=ie,q.variables=Y,q;function j(me){var ue=me.type;if(ue==="FunctionNode")throw new Error("There is an unsolved function call");if(ue==="OperatorNode")if(me.op==="^"){if(me.args[1].type!=="ConstantNode"||!We(parseFloat(me.args[1].value)))throw new Error("There is a non-integer exponent");j(me.args[0])}else{if(!O.includes(me.op))throw new Error("Operator "+me.op+" invalid in polynomial expression");for(var fe=0;fe<me.args.length;fe++)j(me.args[fe])}else if(ue==="SymbolNode"){var W=me.name,X=Y.indexOf(W);X===-1&&Y.push(W)}else if(ue==="ParenthesisNode")j(me.content);else if(ue!=="ConstantNode")throw new Error("type "+ue+" is not allowed in polynomial expression")}}function I(){var k=[h,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],L=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],B=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],$=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],Y={};return Y.firstRules=k.concat(L,$),Y.distrDivRules=B,Y.sucDivRules=$,Y.firstRulesAgain=k.concat(L),Y.finalRules=[h,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],Y}function z(k,L,B){var $=k.type,Y=arguments.length>1;if($==="OperatorNode"&&k.isBinary()){var ie=!1,O;if(k.op==="^"&&(k.args[0].type==="ParenthesisNode"||k.args[0].type==="OperatorNode")&&k.args[1].type==="ConstantNode"&&(O=parseFloat(k.args[1].value),ie=O>=2&&We(O)),ie){if(O>2){var q=k.args[0],j=new A("^","pow",[k.args[0].cloneDeep(),new x(O-1)]);k=new A("*","multiply",[q,j])}else k=new A("*","multiply",[k.args[0],k.args[0].cloneDeep()]);Y&&(B==="content"?L.content=k:L.args[B]=k)}}if($==="ParenthesisNode")z(k.content,k,"content");else if($!=="ConstantNode"&&$!=="SymbolNode")for(var me=0;me<k.args.length;me++)z(k.args[me],k,me);if(!Y)return k}function V(k,L){L===void 0&&(L=[]),L[0]=0;var B={};B.cte=1,B.oper="+",B.fire="";var $=0,Y="";W(k,null,B),$=L.length-1;for(var ie=!0,O,q=$;q>=0;q--)if(L[q]!==0){var j=new x(ie?L[q]:Math.abs(L[q])),me=L[q]<0?"-":"+";if(q>0){var ue=new N(Y);if(q>1){var fe=new x(q);ue=new A("^","pow",[ue,fe])}L[q]===-1&&ie?j=new A("-","unaryMinus",[ue]):Math.abs(L[q])===1?j=ue:j=new A("*","multiply",[j,ue])}ie?O=j:me==="+"?O=new A("+","add",[O,j]):O=new A("-","subtract",[O,j]),ie=!1}if(ie)return new x(0);return O;function W(X,ee,se){var oe=X.type;if(oe==="FunctionNode")throw new Error("There is an unsolved function call");if(oe==="OperatorNode"){if(!"+-*^".includes(X.op))throw new Error("Operator "+X.op+" invalid");if(ee!==null){if((X.fn==="unaryMinus"||X.fn==="pow")&&ee.fn!=="add"&&ee.fn!=="subtract"&&ee.fn!=="multiply")throw new Error("Invalid "+X.op+" placing");if((X.fn==="subtract"||X.fn==="add"||X.fn==="multiply")&&ee.fn!=="add"&&ee.fn!=="subtract")throw new Error("Invalid "+X.op+" placing");if((X.fn==="subtract"||X.fn==="add"||X.fn==="unaryMinus")&&se.noFil!==0)throw new Error("Invalid "+X.op+" placing")}(X.op==="^"||X.op==="*")&&(se.fire=X.op);for(var ve=0;ve<X.args.length;ve++)X.fn==="unaryMinus"&&(se.oper="-"),(X.op==="+"||X.fn==="subtract")&&(se.fire="",se.cte=1,se.oper=ve===0?"+":X.op),se.noFil=ve,W(X.args[ve],X,se)}else if(oe==="SymbolNode"){if(X.name!==Y&&Y!=="")throw new Error("There is more than one variable");if(Y=X.name,ee===null){L[1]=1;return}if(ee.op==="^"&&se.noFil!==0)throw new Error("In power the variable should be the first parameter");if(ee.op==="*"&&se.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(se.fire===""||se.fire==="*")&&($<1&&(L[1]=0),L[1]+=se.cte*(se.oper==="+"?1:-1),$=Math.max(1,$))}else if(oe==="ConstantNode"){var pe=parseFloat(X.value);if(ee===null){L[0]=pe;return}if(ee.op==="^"){if(se.noFil!==1)throw new Error("Constant cannot be powered");if(!We(pe)||pe<=0)throw new Error("Non-integer exponent is not allowed");for(var De=$+1;De<pe;De++)L[De]=0;pe>$&&(L[pe]=0),L[pe]+=se.cte*(se.oper==="+"?1:-1),$=Math.max(pe,$);return}se.cte=pe,se.fire===""&&(L[0]+=se.cte*(se.oper==="+"?1:-1))}else throw new Error("Type "+oe+" is not allowed")}}}),T3="zpk2tf",ESe=["typed","add","multiply","Complex","number"],SSe=H(T3,ESe,t=>{var{typed:e,add:r,multiply:n,Complex:i,number:s}=t;return e(T3,{"Array,Array,number":function(u,c,f){return a(u,c,f)},"Array,Array":function(u,c){return a(u,c,1)},"Matrix,Matrix,number":function(u,c,f){return a(u.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(u,c){return a(u.valueOf(),c.valueOf(),1)}});function a(l,u,c){l.some(b=>b.type==="BigNumber")&&(l=l.map(b=>s(b))),u.some(b=>b.type==="BigNumber")&&(u=u.map(b=>s(b)));for(var f=[i(1,0)],h=[i(1,0)],d=0;d<l.length;d++){var m=l[d];typeof m=="number"&&(m=i(m,0)),f=o(f,[i(1,0),i(-m.re,-m.im)])}for(var p=0;p<u.length;p++){var g=u[p];typeof g=="number"&&(g=i(g,0)),h=o(h,[i(1,0),i(-g.re,-g.im)])}for(var v=0;v<f.length;v++)f[v]=n(f[v],c);return[f,h]}function o(l,u){for(var c=[],f=0;f<l.length+u.length-1;f++){c[f]=i(0,0);for(var h=0;h<l.length;h++)f-h>=0&&f-h<u.length&&(c[f]=r(c[f],n(l[h],u[f-h])))}return c}}),D3="freqz",ASe=["typed","add","multiply","Complex","divide","matrix"],NSe=H(D3,ASe,t=>{var{typed:e,add:r,multiply:n,Complex:i,divide:s,matrix:a}=t;return e(D3,{"Array, Array":function(c,f){var h=l(512);return o(c,f,h)},"Array, Array, Array":function(c,f,h){return o(c,f,h)},"Array, Array, number":function(c,f,h){if(h<0)throw new Error("w must be a positive number");var d=l(h);return o(c,f,d)},"Matrix, Matrix":function(c,f){var h=l(512),{w:d,h:m}=o(c.valueOf(),f.valueOf(),h);return{w:a(d),h:a(m)}},"Matrix, Matrix, Matrix":function(c,f,h){var{h:d}=o(c.valueOf(),f.valueOf(),h.valueOf());return{h:a(d),w:a(h)}},"Matrix, Matrix, number":function(c,f,h){if(h<0)throw new Error("w must be a positive number");var d=l(h),{h:m}=o(c.valueOf(),f.valueOf(),d);return{h:a(m),w:a(d)}}});function o(u,c,f){for(var h=[],d=[],m=0;m<f.length;m++){for(var p=i(0,0),g=i(0,0),v=0;v<u.length;v++)p=r(p,n(u[v],i(Math.cos(-v*f[m]),Math.sin(-v*f[m]))));for(var b=0;b<c.length;b++)g=r(g,n(c[b],i(Math.cos(-b*f[m]),Math.sin(-b*f[m]))));h.push(p),d.push(g)}for(var y=[],x=0;x<h.length;x++)y.push(s(h[x],d[x]));return{h:y,w:f}}function l(u){for(var c=[],f=0;f<u;f++)c.push(f/u*Math.PI);return c}}),TSe="reviver",DSe=["classes"],CSe=H(TSe,DSe,t=>{var{classes:e}=t;return function(n,i){var s=e[i&&i.mathjs];return s&&typeof s.fromJSON=="function"?s.fromJSON(i):i}}),MSe="replacer",ISe=[],PSe=H(MSe,ISe,()=>function(e,r){return typeof r=="number"&&(!isFinite(r)||isNaN(r))?{mathjs:"number",value:String(r)}:typeof r=="bigint"?{mathjs:"bigint",value:String(r)}:r}),kSe="14.6.0",RSe=H("true",[],()=>!0),OSe=H("false",[],()=>!1),FSe=H("null",[],()=>null),BSe=Di("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1/0):1/0}),LSe=Di("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(NaN):NaN}),VSe=Di("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?r2(r):zue}),$Se=Di("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?mge(r):jue}),zSe=Di("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?hge(r):Uue}),jSe=Di("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?dge(r):que}),USe=Di("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).ln():Math.LN2}),qSe=Di("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(10).ln():Math.LN10}),HSe=Di("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(2).ln()):Math.LOG2E}),WSe=Di("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(1).div(new r(10).ln()):Math.LOG10E}),GSe=Di("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r("0.5").sqrt():Math.SQRT1_2}),KSe=Di("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:r}=t;return e.number==="BigNumber"?new r(2).sqrt():Math.SQRT2}),YSe=Di("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),QSe=H("version",[],()=>kSe);function Di(t,e,r){return H(t,e,r,{recreateOnConfigChange:!0})}var XSe=ot("speedOfLight","299792458","m s^-1"),JSe=ot("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),ZSe=ot("planckConstant","6.62607015e-34","J s"),eAe=ot("reducedPlanckConstant","1.0545718176461565e-34","J s"),tAe=ot("magneticConstant","1.25663706212e-6","N A^-2"),rAe=ot("electricConstant","8.8541878128e-12","F m^-1"),nAe=ot("vacuumImpedance","376.730313667","ohm"),iAe=ot("coulomb","8.987551792261171e9","N m^2 C^-2"),sAe=ot("coulombConstant","8.987551792261171e9","N m^2 C^-2"),aAe=ot("elementaryCharge","1.602176634e-19","C"),oAe=ot("bohrMagneton","9.2740100783e-24","J T^-1"),lAe=ot("conductanceQuantum","7.748091729863649e-5","S"),uAe=ot("inverseConductanceQuantum","12906.403729652257","ohm"),cAe=ot("magneticFluxQuantum","2.0678338484619295e-15","Wb"),fAe=ot("nuclearMagneton","5.0507837461e-27","J T^-1"),hAe=ot("klitzing","25812.807459304513","ohm"),dAe=ot("bohrRadius","5.29177210903e-11","m"),mAe=ot("classicalElectronRadius","2.8179403262e-15","m"),pAe=ot("electronMass","9.1093837015e-31","kg"),gAe=ot("fermiCoupling","1.1663787e-5","GeV^-2"),vAe=B1("fineStructure",.0072973525693),yAe=ot("hartreeEnergy","4.3597447222071e-18","J"),xAe=ot("protonMass","1.67262192369e-27","kg"),bAe=ot("deuteronMass","3.3435830926e-27","kg"),wAe=ot("neutronMass","1.6749271613e-27","kg"),_Ae=ot("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),EAe=ot("rydberg","10973731.568160","m^-1"),SAe=ot("thomsonCrossSection","6.6524587321e-29","m^2"),AAe=B1("weakMixingAngle",.2229),NAe=B1("efimovFactor",22.7),TAe=ot("atomicMass","1.66053906660e-27","kg"),DAe=ot("avogadro","6.02214076e23","mol^-1"),CAe=ot("boltzmann","1.380649e-23","J K^-1"),MAe=ot("faraday","96485.33212331001","C mol^-1"),IAe=ot("firstRadiation","3.7417718521927573e-16","W m^2"),PAe=ot("loschmidt","2.686780111798444e25","m^-3"),kAe=ot("gasConstant","8.31446261815324","J K^-1 mol^-1"),RAe=ot("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),OAe=ot("molarVolume","0.022413969545014137","m^3 mol^-1"),FAe=B1("sackurTetrode",-1.16487052358),BAe=ot("secondRadiation","0.014387768775039337","m K"),LAe=ot("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),VAe=ot("wienDisplacement","2.897771955e-3","m K"),$Ae=ot("molarMass","0.99999999965e-3","kg mol^-1"),zAe=ot("molarMassC12","11.9999999958e-3","kg mol^-1"),jAe=ot("gravity","9.80665","m s^-2"),UAe=ot("planckLength","1.616255e-35","m"),qAe=ot("planckMass","2.176435e-8","kg"),HAe=ot("planckTime","5.391245e-44","s"),WAe=ot("planckCharge","1.87554603778e-18","C"),GAe=ot("planckTemperature","1.416785e+32","K");function ot(t,e,r){var n=["config","Unit","BigNumber"];return H(t,n,i=>{var{config:s,Unit:a,BigNumber:o}=i,l=s.number==="BigNumber"?new o(e):parseFloat(e),u=new a(l,r);return u.fixPrefix=!0,u})}function B1(t,e){var r=["config","BigNumber"];return H(t,r,n=>{var{config:i,BigNumber:s}=n;return i.number==="BigNumber"?new s(e):e})}function C3(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C3(Object(r),!0).forEach(function(n){Rr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C3(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var YAe="mapSlices",QAe=["typed","isInteger"],XAe=H(YAe,QAe,t=>{var{typed:e,isInteger:r}=t,n=V_({typed:e,isInteger:r});return e("mapSlices",{"...any":function(s){var a=s[1];ft(a)?s[1]=a-1:ht(a)&&(s[1]=a.minus(1));try{return n.apply(null,s)}catch(o){throw Yn(o)}}})},KAe({isTransformFunction:!0},V_.meta)),JAe="column",ZAe=["typed","Index","matrix","range"],e2e=H(JAe,ZAe,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,s=t$({typed:e,Index:r,matrix:n,range:i});return e("column",{"...any":function(o){var l=o.length-1,u=o[l];ft(u)&&(o[l]=u-1);try{return s.apply(null,o)}catch(c){throw Yn(c)}}})},{isTransformFunction:!0});function f2(t,e,r){var n=t.filter(function(l){return Xr(l)&&!(l.name in e)&&!r.has(l.name)})[0];if(!n)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=n.name,s=new Map,a=new A8(r,s,new Set([i])),o=t.compile();return function(u){return s.set(i,u),o.evaluate(a)}}var t2e="transformCallback",r2e=["typed"],h2=H(t2e,r2e,t=>{var{typed:e}=t;return function(n,i){return e.isTypedFunction(n)?r(n,i):M3(n,n.length,i)};function r(n,i){var s=Object.fromEntries(Object.entries(n.signatures).map(a=>{var[o,l]=a,u=o.split(",").length;return e.isTypedFunction(l)?[o,r(l,i)]:[o,M3(l,u,i)]}));return typeof n.name=="string"?e(n.name,s):e(s)}});function M3(t,e,r){return e===r?t:e===r+1?function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.slice(0,r),o=I3(i[r]);return t(...a,o)}:e>r+1?function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.slice(0,r),o=I3(i[r]),l=i.slice(r+1);return t(...a,o,...l)}:t}function I3(t){return t.map(e=>e+1)}var n2e="filter",i2e=["typed"],s2e=H(n2e,i2e,t=>{var{typed:e}=t;function r(i,s,a){var o=r$({typed:e}),l=h2({typed:e});if(i.length===0)return o();var u=i[0];if(i.length===1)return o(u);var c=i.length-1,f=i[c];return u&&(u=n(u,a)),f&&(Xr(f)||Ym(f)?f=n(f,a):f=f2(f,s,a)),o(u,l(f,c))}r.rawArgs=!0;function n(i,s){return i.compile().evaluate(s)}return r},{isTransformFunction:!0}),a2e="forEach",o2e=["typed"],l2e=H(a2e,o2e,t=>{var{typed:e}=t,r=n$({typed:e}),n=h2({typed:e});function i(a,o,l){if(a.length===0)return r();var u=a[0];if(a.length===1)return r(u);var c=a.length-1,f=a[c];return u&&(u=s(u,l)),f&&(Xr(f)||Ym(f)?f=s(f,l):f=f2(f,o,l)),r(u,n(f,c))}i.rawArgs=!0;function s(a,o){return a.compile().evaluate(o)}return i},{isTransformFunction:!0}),u2e="index",c2e=["Index","getMatrixDataType"],f2e=H(u2e,c2e,t=>{var{Index:e,getMatrixDataType:r}=t;return function(){for(var i=[],s=0,a=arguments.length;s<a;s++){var o=arguments[s];if(zA(o))o.start--,o.end-=o.step>0?0:2;else if(o&&o.isSet===!0)o=o.map(function(u){return u-1});else if(Ut(o)||Je(o))r(o)!=="boolean"&&(o=o.map(function(u){return u-1}));else if(ft(o)||bd(o))o--;else if(ht(o))o=o.toNumber()-1;else if(typeof o!="string")throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");i[s]=o}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),h2e="map",d2e=["typed"],m2e=H(h2e,d2e,t=>{var{typed:e}=t,r=i$({typed:e}),n=h2({typed:e});function i(s,a,o){if(s.length===0)return r();if(s.length===1)return r(s[0]);var l=s.length-1,u=s.slice(0,l),c=s[l];return u=u.map(h=>f(h,o)),c&&(Xr(c)||Ym(c)?c=f(c,o):c=f2(c,a,o)),r(...u,n(c,l));function f(h,d){return h.compile().evaluate(d)}}return i.rawArgs=!0,i},{isTransformFunction:!0});function p2e(t){return ft(t)?t-1:ht(t)?t.minus(1):t}function g2e(t){return ft(t)||ht(t)}function wl(t){if(t.length===2&&Qi(t[0])){t=t.slice();var e=t[1];g2e(e)&&(t[1]=p2e(e))}return t}var v2e="max",y2e=["typed","config","numeric","larger","isNaN"],x2e=H(v2e,y2e,t=>{var{typed:e,config:r,numeric:n,larger:i,isNaN:s}=t,a=m$({typed:e,config:r,numeric:n,larger:i,isNaN:s});return e("max",{"...any":function(l){l=wl(l);try{return a.apply(null,l)}catch(u){throw Yn(u)}}})},{isTransformFunction:!0}),b2e="mean",w2e=["typed","add","divide"],_2e=H(b2e,w2e,t=>{var{typed:e,add:r,divide:n}=t,i=E$({typed:e,add:r,divide:n});return e("mean",{"...any":function(a){a=wl(a);try{return i.apply(null,a)}catch(o){throw Yn(o)}}})},{isTransformFunction:!0}),E2e="min",S2e=["typed","config","numeric","smaller","isNaN"],A2e=H(E2e,S2e,t=>{var{typed:e,config:r,numeric:n,smaller:i,isNaN:s}=t,a=p$({typed:e,config:r,numeric:n,smaller:i,isNaN:s});return e("min",{"...any":function(l){l=wl(l);try{return a.apply(null,l)}catch(u){throw Yn(u)}}})},{isTransformFunction:!0}),N2e="range",T2e=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],D2e=H(N2e,T2e,t=>{var{typed:e,config:r,matrix:n,bignumber:i,smaller:s,smallerEq:a,larger:o,largerEq:l,add:u,isPositive:c}=t,f=l$({typed:e,config:r,matrix:n,bignumber:i,smaller:s,smallerEq:a,larger:o,largerEq:l,add:u,isPositive:c});return e("range",{"...any":function(d){var m=d.length-1,p=d[m];return typeof p!="boolean"&&d.push(!0),f.apply(null,d)}})},{isTransformFunction:!0}),C2e="row",M2e=["typed","Index","matrix","range"],I2e=H(C2e,M2e,t=>{var{typed:e,Index:r,matrix:n,range:i}=t,s=u$({typed:e,Index:r,matrix:n,range:i});return e("row",{"...any":function(o){var l=o.length-1,u=o[l];ft(u)&&(o[l]=u-1);try{return s.apply(null,o)}catch(c){throw Yn(c)}}})},{isTransformFunction:!0}),P2e="subset",k2e=["typed","matrix","zeros","add"],R2e=H(P2e,k2e,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,s=c$({typed:e,matrix:r,zeros:n,add:i});return e("subset",{"...any":function(o){try{return s.apply(null,o)}catch(l){throw Yn(l)}}})},{isTransformFunction:!0}),O2e="concat",F2e=["typed","matrix","isInteger"],B2e=H(O2e,F2e,t=>{var{typed:e,matrix:r,isInteger:n}=t,i=e$({typed:e,matrix:r,isInteger:n});return e("concat",{"...any":function(a){var o=a.length-1,l=a[o];ft(l)?a[o]=l-1:ht(l)&&(a[o]=l.minus(1));try{return i.apply(null,a)}catch(u){throw Yn(u)}}})},{isTransformFunction:!0}),P3="diff",L2e=["typed","matrix","subtract","number","bignumber"],V2e=H(P3,L2e,t=>{var{typed:e,matrix:r,subtract:n,number:i,bignumber:s}=t,a=s$({typed:e,matrix:r,subtract:n,number:i,bignumber:s});return e(P3,{"...any":function(l){l=wl(l);try{return a.apply(null,l)}catch(u){throw Yn(u)}}})},{isTransformFunction:!0}),$2e="std",z2e=["typed","map","sqrt","variance"],j2e=H($2e,z2e,t=>{var{typed:e,map:r,sqrt:n,variance:i}=t,s=N$({typed:e,map:r,sqrt:n,variance:i});return e("std",{"...any":function(o){o=wl(o);try{return s.apply(null,o)}catch(l){throw Yn(l)}}})},{isTransformFunction:!0}),k3="sum",U2e=["typed","config","add","numeric"],q2e=H(k3,U2e,t=>{var{typed:e,config:r,add:n,numeric:i}=t,s=w$({typed:e,config:r,add:n,numeric:i});return e(k3,{"...any":function(o){o=wl(o);try{return s.apply(null,o)}catch(l){throw Yn(l)}}})},{isTransformFunction:!0}),H2e="quantileSeq",W2e=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],G2e=H(H2e,W2e,t=>{var{typed:e,bignumber:r,add:n,subtract:i,divide:s,multiply:a,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:h,mapSlices:d}=t,m=A$({typed:e,bignumber:r,add:n,subtract:i,divide:s,multiply:a,partitionSelect:o,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:h,mapSlices:d});return e("quantileSeq",{"Array | Matrix, number | BigNumber":m,"Array | Matrix, number | BigNumber, number":(g,v,b)=>m(g,v,p(b)),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(g,v,b,y)=>m(g,v,b,p(y)),"Array | Matrix, Array | Matrix":m,"Array | Matrix, Array | Matrix, number":(g,v,b)=>m(g,v,p(b)),"Array | Matrix, Array | Matrix, boolean":m,"Array | Matrix, Array | Matrix, boolean, number":(g,v,b,y)=>m(g,v,b,p(y))});function p(g){return wl([[],g])[1]}},{isTransformFunction:!0}),R3="cumsum",K2e=["typed","add","unaryPlus"],Y2e=H(R3,K2e,t=>{var{typed:e,add:r,unaryPlus:n}=t,i=_$({typed:e,add:r,unaryPlus:n});return e(R3,{"...any":function(a){if(a.length===2&&Qi(a[0])){var o=a[1];ft(o)?a[1]=o-1:ht(o)&&(a[1]=o.minus(1))}try{return i.apply(null,a)}catch(l){throw Yn(l)}}})},{isTransformFunction:!0}),O3="variance",Q2e=["typed","add","subtract","multiply","divide","mapSlices","isNaN"],X2e=H(O3,Q2e,t=>{var{typed:e,add:r,subtract:n,multiply:i,divide:s,mapSlices:a,isNaN:o}=t,l=S$({typed:e,add:r,subtract:n,multiply:i,divide:s,mapSlices:a,isNaN:o});return e(O3,{"...any":function(c){c=wl(c);try{return l.apply(null,c)}catch(f){throw Yn(f)}}})},{isTransformFunction:!0}),F3="print",J2e=["typed","matrix","zeros","add"],Z2e=H(F3,J2e,t=>{var{typed:e,matrix:r,zeros:n,add:i}=t,s=h$({typed:e,matrix:r,zeros:n,add:i});return e(F3,{"string, Object | Array":function(l,u){return s(a(l),u)},"string, Object | Array, number | Object":function(l,u,c){return s(a(l),u,c)}});function a(o){return o.replace(f$,l=>{var u=l.slice(1).split("."),c=u.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0}),eNe="and",tNe=["typed","matrix","zeros","add","equalScalar","not","concat"],rNe=H(eNe,tNe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:s,concat:a}=t,o=d$({typed:e,matrix:r,equalScalar:n,zeros:i,not:s,concat:a});function l(u,c,f){var h=u[0].compile().evaluate(f);if(!Qi(h)&&!o(h,!0))return!1;var d=u[1].compile().evaluate(f);return o(h,d)}return l.rawArgs=!0,l},{isTransformFunction:!0}),nNe="or",iNe=["typed","matrix","equalScalar","DenseMatrix","concat"],sNe=H(nNe,iNe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s}=t,a=ZV({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s});function o(l,u,c){var f=l[0].compile().evaluate(c);if(!Qi(f)&&a(f,!1))return!0;var h=l[1].compile().evaluate(c);return a(f,h)}return o.rawArgs=!0,o},{isTransformFunction:!0}),aNe="bitAnd",oNe=["typed","matrix","zeros","add","equalScalar","not","concat"],lNe=H(aNe,oNe,t=>{var{typed:e,matrix:r,equalScalar:n,zeros:i,not:s,concat:a}=t,o=XV({typed:e,matrix:r,equalScalar:n,zeros:i,not:s,concat:a});function l(u,c,f){var h=u[0].compile().evaluate(f);if(!Qi(h)){if(isNaN(h))return NaN;if(h===0||h===!1)return 0}var d=u[1].compile().evaluate(f);return o(h,d)}return l.rawArgs=!0,l},{isTransformFunction:!0}),uNe="bitOr",cNe=["typed","matrix","equalScalar","DenseMatrix","concat"],fNe=H(uNe,cNe,t=>{var{typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s}=t,a=JV({typed:e,matrix:r,equalScalar:n,DenseMatrix:i,concat:s});function o(l,u,c){var f=l[0].compile().evaluate(c);if(!Qi(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var h=l[1].compile().evaluate(c);return a(f,h)}return o.rawArgs=!0,o},{isTransformFunction:!0}),Ie=eue({config:be}),Kt=sue({}),B3=zSe({BigNumber:Ie,config:be}),hNe=OSe({}),dNe=vAe({BigNumber:Ie,config:be}),Hu=due({}),C$=YSe({Complex:Kt}),mNe=BSe({BigNumber:Ie,config:be}),pNe=qSe({BigNumber:Ie,config:be}),gNe=WSe({BigNumber:Ie,config:be}),L1=xue({}),vNe=LSe({BigNumber:Ie,config:be}),yNe=FSe({}),xNe=jSe({BigNumber:Ie,config:be}),bNe=gue({}),M$=ile({}),wNe=GSe({BigNumber:Ie,config:be}),_Ne=FAe({BigNumber:Ie,config:be}),I$=$Se({BigNumber:Ie,config:be}),ENe=RSe({}),SNe=QSe({}),mt=Oue({Matrix:L1}),ANe=NAe({BigNumber:Ie,config:be}),NNe=USe({BigNumber:Ie,config:be}),K_=VSe({BigNumber:Ie,config:be}),P$=PSe({}),TNe=KSe({BigNumber:Ie,config:be}),J=ele({BigNumber:Ie,Complex:Kt,DenseMatrix:mt,Fraction:Hu}),DNe=AAe({BigNumber:Ie,config:be}),Qn=Qce({typed:J}),CNe=Age({Complex:Kt,config:be,typed:J}),MNe=Cge({BigNumber:Ie,typed:J}),INe=kge({BigNumber:Ie,Complex:Kt,config:be,typed:J}),qr=efe({typed:J}),PNe=jhe({typed:J}),kNe=Vge({BigNumber:Ie,Complex:Kt,config:be,typed:J}),RNe=qge({typed:J}),k$=Gge({typed:J}),ONe=Xge({Complex:Kt,config:be,typed:J}),FNe=wce({typed:J}),BNe=Ohe({typed:J}),LNe=Ace({typed:J}),VNe=Bue({typed:J}),V1=uEe({typed:J}),$1=Ice({Complex:Kt,typed:J}),Wu=qhe({typed:J}),d2=Zge({typed:J}),$Ne=nve({BigNumber:Ie,typed:J}),zNe=ove({BigNumber:Ie,typed:J}),jNe=gfe({typed:J}),vt=cce({config:be,typed:J}),UNe=lme({typed:J}),R$=yfe({typed:J}),qNe=bfe({Complex:Kt,typed:J}),HNe=r$({typed:J}),Zm=fde({typed:J}),WNe=n$({typed:J}),ep=xme({typed:J}),m2=pde({typed:J}),GNe=Ame({format:ep,typed:J}),p2=Whe({typed:J}),fi=Vue({typed:J}),_l=Yue({config:be,typed:J}),Gu=tce({config:be,typed:J}),ia=nce({equalScalar:vt,typed:J}),KNe=HSe({BigNumber:Ie,config:be}),YNe=pEe({Complex:Kt,typed:J}),QNe=the({Complex:Kt,config:be,typed:J}),g2=nhe({Complex:Kt,config:be,typed:J}),Ku=i$({typed:J}),Er=ahe({typed:J}),ny=Qhe({typed:J}),Za=yce({typed:J}),XNe=Eme({format:ep,typed:J}),JNe=UEe({config:be,typed:J}),ZNe=h$({typed:J}),eTe=HEe({config:be,typed:J}),v2=Khe({typed:J}),tTe=fve({BigNumber:Ie,typed:J}),O$=hhe({BigNumber:Ie,Fraction:Hu,complex:$1,typed:J}),z1=pve({typed:J}),Hr=dce({Matrix:L1,equalScalar:vt,typed:J}),rTe=qce({typed:J}),nTe=vhe({typed:J}),iTe=Ece({typed:J}),ts=rfe({typed:J}),sTe=xve({typed:J}),F$=Mme({typed:J}),y2=oce({typed:J}),aTe=Tge({Complex:Kt,config:be,typed:J}),oTe=Oge({BigNumber:Ie,typed:J}),lTe=Bge({BigNumber:Ie,Complex:Kt,config:be,typed:J}),hi=Dce({BigNumber:Ie,typed:J}),uTe=fEe({typed:J}),cTe=tve({typed:J}),fTe=uve({BigNumber:Ie,typed:J}),Oa=sce({typed:J}),hTe=Pme({typed:J}),pm=V_({isInteger:fi,typed:J}),Me=Fce({DenseMatrix:mt,Matrix:L1,SparseMatrix:Hr,typed:J}),dTe=Lce({isZero:ia,matrix:Me,typed:J}),mTe=Sde({BigNumber:Ie,config:be,matrix:Me,typed:J}),pTe=GEe({config:be,log2:g2,typed:J}),B$=Tde({isInteger:fi,matrix:Me,typed:J}),gTe=dve({BigNumber:Ie,typed:J}),vTe=vve({typed:J}),yTe=wge({SparseMatrix:Hr,typed:J}),Ns=phe({Complex:Kt,config:be,typed:J}),xTe=Vde({typed:J}),bTe=_ve({typed:J}),tp=Hde({matrix:Me,typed:J}),L$=whe({BigNumber:Ie,config:be,matrix:Me,typed:J}),un=Yde({BigNumber:Ie,config:be,matrix:Me,typed:J}),wTe=Ige({BigNumber:Ie,Complex:Kt,config:be,typed:J}),_Te=zge({Complex:Kt,config:be,typed:J}),ETe=wme({format:ep,typed:J}),Tt=e$({isInteger:fi,matrix:Me,typed:J}),STe=sve({BigNumber:Ie,typed:J}),x2=Gde({conj:Wu,transpose:tp,typed:J}),V$=ode({DenseMatrix:mt,SparseMatrix:Hr,matrix:Me,typed:J}),ATe=The({concat:Tt,equalScalar:vt,matrix:Me,multiplyScalar:Er,typed:J}),rs=Npe({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),rp=Rce({Fraction:Hu,typed:J}),El=vde({BigNumber:Ie,DenseMatrix:mt,SparseMatrix:Hr,config:be,matrix:Me,typed:J}),Yu=Xue({typed:J}),NTe=xde({matrix:Me,multiplyScalar:Er,typed:J}),j1=$pe({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,config:be,matrix:Me,typed:J}),TTe=cpe({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J,zeros:un}),DTe=pme({isNaN:Oa,isNumeric:Yu,typed:J}),CTe=che({BigNumber:Ie,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),Hi=Ome({bignumber:hi,fraction:rp,number:Za}),$$=vme({config:be,multiplyScalar:Er,numeric:Hi,typed:J}),MTe=Mde({config:be,matrix:Me}),ITe=hpe({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J,zeros:un}),Xf=zme({BigNumber:Ie,DenseMatrix:mt,config:be,equalScalar:vt,matrix:Me,typed:J,zeros:un}),gn=Bde({matrix:Me,config:be,typed:J}),Un=Ipe({DenseMatrix:mt,SparseMatrix:Hr,bignumber:hi,concat:Tt,config:be,matrix:Me,typed:J}),PTe=Dme({concat:Tt,matrix:Me,typed:J}),sa=Wce({typed:J}),kTe=Hpe({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,config:be,equalScalar:vt,matrix:Me,typed:J}),RTe=Zhe({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,matrix:Me,typed:J}),wt=qve({DenseMatrix:mt,SparseMatrix:Hr,addScalar:qr,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),OTe=Yge({BigNumber:Ie,DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),FTe=XV({concat:Tt,equalScalar:vt,matrix:Me,typed:J}),BTe=JV({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),LTe=$he({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,matrix:Me,typed:J}),z$=ife({BigNumber:Ie,Complex:Kt,Fraction:Hu,config:be,isNegative:_l,matrix:Me,typed:J,unaryMinus:sa}),Qu=vpe({BigNumber:Ie,DenseMatrix:mt,Fraction:Hu,concat:Tt,config:be,equalScalar:vt,matrix:Me,typed:J}),j$=Spe({concat:Tt,matrix:Me,typed:J}),VTe=nde({prod:$$,size:gn,typed:J}),b2=Upe({equal:rs,typed:J}),ur=Bme({numeric:Hi,typed:J}),np=Jme({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,divideScalar:ur,equalScalar:vt,matrix:Me,typed:J}),$Te=Cpe({compareText:j$,isZero:ia,typed:J}),U$=KV({DenseMatrix:mt,config:be,equalScalar:vt,matrix:Me,round:Xf,typed:J,zeros:un}),zTe=Kfe({BigNumber:Ie,DenseMatrix:mt,concat:Tt,config:be,equalScalar:vt,matrix:Me,round:Xf,typed:J,zeros:un}),jTe=Zue({isNumeric:Yu,typed:J}),UTe=Wve({abs:Qn,addScalar:qr,divideScalar:ur,isPositive:Gu,multiplyScalar:Er,smaller:Un,sqrt:Ns,typed:J}),q$=tge({DenseMatrix:mt,smaller:Un}),kn=ige({ImmutableDenseMatrix:q$,getMatrixDataType:m2}),qn=Bpe({DenseMatrix:mt,SparseMatrix:Hr,bignumber:hi,concat:Tt,config:be,matrix:Me,typed:J}),w2=qme({Complex:Kt,config:be,divideScalar:ur,typeOf:y2,typed:J}),H$=epe({DenseMatrix:mt,divideScalar:ur,equalScalar:vt,matrix:Me,multiplyScalar:Er,subtractScalar:ts,typed:J}),_2=jce({flatten:Zm,matrix:Me,size:gn,typed:J}),E2=m$({config:be,isNaN:Oa,larger:qn,numeric:Hi,typed:J}),qTe=p$({config:be,isNaN:Oa,numeric:Hi,smaller:Un,typed:J}),W$=YV({DenseMatrix:mt,concat:Tt,config:be,equalScalar:vt,matrix:Me,round:Xf,typed:J,zeros:un}),HTe=Kme({Complex:Kt,config:be,divideScalar:ur,typed:J}),WTe=ZV({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),U1=Kpe({compare:Qu,isNaN:Oa,isNumeric:Yu,typed:J}),S2=iye({addScalar:qr,complex:$1,conj:Wu,divideScalar:ur,equal:rs,identity:El,isZero:ia,matrix:Me,multiplyScalar:Er,sign:O$,sqrt:Ns,subtractScalar:ts,typed:J,unaryMinus:sa,zeros:un}),GTe=mpe({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J,zeros:un}),Df=Rpe({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,config:be,matrix:Me,typed:J}),Ci=c$({add:wt,matrix:Me,typed:J,zeros:un}),Cr=xhe({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,subtractScalar:ts,typed:J,unaryMinus:sa}),KTe=Zve({add:wt,matrix:Me,typed:J}),A2=rpe({DenseMatrix:mt,divideScalar:ur,equalScalar:vt,matrix:Me,multiplyScalar:Er,subtractScalar:ts,typed:J}),YTe=ZEe({addScalar:qr,combinations:V1,divideScalar:ur,isInteger:fi,isNegative:_l,multiplyScalar:Er,typed:J}),aa=wpe({compare:Qu,typed:J}),QTe=tSe({addScalar:qr,combinations:V1,isInteger:fi,isNegative:_l,isPositive:Gu,larger:qn,typed:J}),XTe=s$({matrix:Me,number:Za,subtract:Cr,typed:J}),JTe=W_e({abs:Qn,addScalar:qr,deepEqual:b2,divideScalar:ur,multiplyScalar:Er,sqrt:Ns,subtractScalar:ts,typed:J}),q1=Qve({addScalar:qr,conj:Wu,multiplyScalar:Er,size:gn,typed:J}),G$=oge({larger:qn,smaller:Un}),K$=t0e({Index:kn,typed:J}),ZTe=Ehe({BigNumber:Ie,add:wt,config:be,equal:rs,isInteger:fi,mod:W$,smaller:Un,typed:J,xgcd:L$}),eDe=Jfe({concat:Tt,equalScalar:vt,matrix:Me,typed:J}),tDe=Wme({Complex:Kt,config:be,divideScalar:ur,log:w2,typed:J}),rDe=ipe({DenseMatrix:mt,divideScalar:ur,equalScalar:vt,matrix:Me,multiplyScalar:Er,subtractScalar:ts,typed:J}),nDe=$ce({flatten:Zm,matrix:Me,size:gn,typed:J}),Vt=lhe({addScalar:qr,dot:q1,equalScalar:vt,matrix:Me,multiplyScalar:Er,typed:J}),Cf=l$({bignumber:hi,matrix:Me,add:wt,config:be,isPositive:Gu,larger:qn,largerEq:j1,smaller:Un,smallerEq:Df,typed:J}),iDe=u$({Index:kn,matrix:Me,range:Cf,typed:J}),sDe=Sve({DenseMatrix:mt,Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),aDe=Dve({DenseMatrix:mt,Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),oDe=Pve({Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),lDe=Fve({Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),Y$=Dye({SparseMatrix:Hr,abs:Qn,add:wt,divideScalar:ur,larger:qn,largerEq:j1,multiply:Vt,subtract:Cr,transpose:tp,typed:J}),uDe=Qpe({compare:Qu,compareNatural:aa,matrix:Me,typed:J}),N2=Kce({config:be,numeric:Hi,typed:J}),Q$=ape({DenseMatrix:mt,divideScalar:ur,equalScalar:vt,matrix:Me,multiplyScalar:Er,subtractScalar:ts,typed:J}),cDe=SSe({Complex:Kt,add:wt,multiply:Vt,number:Za,typed:J}),fDe=d$({concat:Tt,equalScalar:vt,matrix:Me,not:ny,typed:J,zeros:un}),T2=mfe({DenseMatrix:mt,config:be,equalScalar:vt,matrix:Me,round:Xf,typed:J,zeros:un}),X$=t$({Index:kn,matrix:Me,range:Cf,typed:J}),hDe=sde({matrix:Me,multiply:Vt,subtract:Cr,typed:J}),J$=__e({divideScalar:ur,isZero:ia,matrix:Me,multiply:Vt,subtractScalar:ts,typed:J,unaryMinus:sa}),Z$=Efe({Complex:Kt,DenseMatrix:mt,ceil:T2,equalScalar:vt,floor:U$,matrix:Me,typed:J,zeros:un}),Xu=S_e({abs:Qn,addScalar:qr,det:J$,divideScalar:ur,identity:El,matrix:Me,multiply:Vt,typed:J,unaryMinus:sa}),dDe=N_e({Complex:Kt,add:wt,ctranspose:x2,deepEqual:b2,divideScalar:ur,dot:q1,dotDivide:np,equal:rs,inv:Xu,matrix:Me,multiply:Vt,typed:J}),Ts=Vme({Complex:Kt,config:be,fraction:rp,identity:El,inv:Xu,matrix:Me,multiply:Vt,number:Za,typed:J}),ez=Nve({DenseMatrix:mt,Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),mDe=Rve({Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),tz=$ve({Index:kn,concat:Tt,setDifference:ez,size:gn,subset:Ci,typed:J}),rz=cge({FibonacciHeap:G$,addScalar:qr,equalScalar:vt}),pDe=O_e({abs:Qn,add:wt,identity:El,inv:Xu,map:Ku,max:E2,multiply:Vt,size:gn,sqrt:Ns,subtract:Cr,typed:J}),D2=w$({add:wt,config:be,numeric:Hi,typed:J}),tt=vge({BigNumber:Ie,Complex:Kt,Fraction:Hu,abs:Qn,addScalar:qr,config:be,divideScalar:ur,equal:rs,fix:Z$,format:ep,isNumeric:Yu,multiplyScalar:Er,number:Za,pow:Ts,round:Xf,subtractScalar:ts,toBest:F$}),gDe=nAe({BigNumber:Ie,Unit:tt,config:be}),vDe=VAe({BigNumber:Ie,Unit:tt,config:be}),yDe=TAe({BigNumber:Ie,Unit:tt,config:be}),xDe=oAe({BigNumber:Ie,Unit:tt,config:be}),bDe=CAe({BigNumber:Ie,Unit:tt,config:be}),wDe=lAe({BigNumber:Ie,Unit:tt,config:be}),_De=iAe({BigNumber:Ie,Unit:tt,config:be}),EDe=Ege({Unit:tt,typed:J}),SDe=bAe({BigNumber:Ie,Unit:tt,config:be}),ADe=Qme({DenseMatrix:mt,SparseMatrix:Hr,concat:Tt,equalScalar:vt,matrix:Me,pow:Ts,typed:J}),NDe=rAe({BigNumber:Ie,Unit:tt,config:be}),TDe=aAe({BigNumber:Ie,Unit:tt,config:be}),DDe=k_e({abs:Qn,add:wt,identity:El,inv:Xu,multiply:Vt,typed:J}),CDe=MAe({BigNumber:Ie,Unit:tt,config:be}),nz=Xde({addScalar:qr,ceil:T2,conj:Wu,divideScalar:ur,dotDivide:np,exp:R$,i:C$,log2:g2,matrix:Me,multiplyScalar:Er,pow:Ts,tau:I$,typed:J}),C2=dEe({BigNumber:Ie,Complex:Kt,config:be,multiplyScalar:Er,pow:Ts,typed:J}),MDe=JSe({BigNumber:Ie,Unit:tt,config:be}),IDe=yAe({BigNumber:Ie,Unit:tt,config:be}),PDe=Zde({conj:Wu,dotDivide:np,fft:nz,typed:J}),kDe=uAe({BigNumber:Ie,Unit:tt,config:be}),RDe=hAe({BigNumber:Ie,Unit:tt,config:be}),ODe=PAe({BigNumber:Ie,Unit:tt,config:be}),FDe=tAe({BigNumber:Ie,Unit:tt,config:be}),BDe=$Ae({BigNumber:Ie,Unit:tt,config:be}),LDe=RAe({BigNumber:Ie,Unit:tt,config:be}),VDe=wAe({BigNumber:Ie,Unit:tt,config:be}),$De=fAe({BigNumber:Ie,Unit:tt,config:be}),zDe=WAe({BigNumber:Ie,Unit:tt,config:be}),jDe=UAe({BigNumber:Ie,Unit:tt,config:be}),UDe=GAe({BigNumber:Ie,Unit:tt,config:be}),qDe=xAe({BigNumber:Ie,Unit:tt,config:be}),HDe=_Ae({BigNumber:Ie,Unit:tt,config:be}),WDe=eAe({BigNumber:Ie,Unit:tt,config:be}),GDe=EAe({BigNumber:Ie,Unit:tt,config:be}),KDe=BAe({BigNumber:Ie,Unit:tt,config:be}),YDe=Lve({compareNatural:aa,typed:J}),QDe=XSe({BigNumber:Ie,Unit:tt,config:be}),XDe=LAe({BigNumber:Ie,Unit:tt,config:be}),JDe=SAe({BigNumber:Ie,Unit:tt,config:be}),ZDe=DAe({BigNumber:Ie,Unit:tt,config:be}),eCe=dAe({BigNumber:Ie,Unit:tt,config:be}),tCe=sAe({BigNumber:Ie,Unit:tt,config:be}),fn=q_e({divideScalar:ur,equalScalar:vt,inv:Xu,matrix:Me,multiply:Vt,typed:J}),rCe=pAe({BigNumber:Ie,Unit:tt,config:be}),ip=vEe({gamma:C2,typed:J}),nCe=IAe({BigNumber:Ie,Unit:tt,config:be}),iCe=jAe({BigNumber:Ie,Unit:tt,config:be}),sCe=Y_e({abs:Qn,add:wt,addScalar:qr,config:be,divideScalar:ur,equalScalar:vt,flatten:Zm,isNumeric:Yu,isZero:ia,matrix:Me,multiply:Vt,multiplyScalar:Er,smaller:Un,subtract:Cr,typed:J}),iz=rye({DenseMatrix:mt,Spa:rz,SparseMatrix:Hr,abs:Qn,addScalar:qr,divideScalar:ur,equalScalar:vt,larger:qn,matrix:Me,multiplyScalar:Er,subtractScalar:ts,typed:J,unaryMinus:sa}),aCe=cAe({BigNumber:Ie,Unit:tt,config:be}),oCe=zAe({BigNumber:Ie,Unit:tt,config:be}),lCe=wEe({add:wt,divide:fn,factorial:ip,isInteger:fi,isPositive:Gu,multiply:Vt,typed:J}),uCe=EEe({factorial:ip,typed:J}),cCe=qAe({BigNumber:Ie,Unit:tt,config:be}),fCe=Pye({add:wt,cbrt:z$,divide:fn,equalScalar:vt,im:p2,isZero:ia,multiply:Vt,re:v2,sqrt:Ns,subtract:Cr,typeOf:y2,typed:J,unaryMinus:sa}),sz=Mve({DenseMatrix:mt,Index:kn,compareNatural:aa,size:gn,subset:Ci,typed:J}),hCe=sme({abs:Qn,add:wt,bignumber:hi,divide:fn,isNegative:_l,isPositive:Gu,larger:qn,map:Ku,matrix:Me,max:E2,multiply:Vt,smaller:Un,subtract:Cr,typed:J,unaryMinus:sa}),az=YEe({bignumber:hi,addScalar:qr,combinations:V1,divideScalar:ur,factorial:ip,isInteger:fi,isNegative:_l,larger:qn,multiplyScalar:Er,number:Za,pow:Ts,subtractScalar:ts,typed:J}),dCe=xge({Unit:tt,typed:J}),mCe=XEe({addScalar:qr,isInteger:fi,isNegative:_l,stirlingS2:az,typed:J}),pCe=_$({add:wt,typed:J,unaryPlus:N2}),oz=I_e({abs:Qn,add:wt,addScalar:qr,atan:k$,bignumber:hi,column:X$,complex:$1,config:be,cos:d2,diag:V$,divideScalar:ur,dot:q1,equal:rs,flatten:Zm,im:p2,inv:Xu,larger:qn,matrix:Me,matrixFromColumns:_2,multiply:Vt,multiplyScalar:Er,number:Za,qr:S2,re:v2,reshape:B$,sin:z1,size:gn,smaller:Un,sqrt:Ns,subtract:Cr,typed:J,usolve:A2,usolveAll:Q$}),gCe=gAe({BigNumber:Ie,Unit:tt,config:be}),vCe=kAe({BigNumber:Ie,Unit:tt,config:be}),yCe=xEe({divide:fn,dotDivide:np,isNumeric:Yu,log:w2,map:Ku,matrix:Me,multiply:Vt,sum:D2,typed:J}),lz=Mye({DenseMatrix:mt,lsolve:H$,lup:iz,matrix:Me,slu:Y$,typed:J,usolve:A2}),uz=E$({add:wt,divide:fn,typed:J}),xCe=OAe({BigNumber:Ie,Unit:tt,config:be}),bCe=ZSe({BigNumber:Ie,Unit:tt,config:be}),wCe=A$({bignumber:hi,add:wt,compare:Qu,divide:fn,isInteger:fi,larger:qn,mapSlices:pm,multiply:Vt,partitionSelect:U1,smaller:Un,smallerEq:Df,subtract:Cr,typed:J}),_Ce=jve({Index:kn,concat:Tt,setIntersect:sz,setSymDifference:tz,size:gn,subset:Ci,typed:J}),M2=S$({add:wt,divide:fn,isNaN:Oa,mapSlices:pm,multiply:Vt,subtract:Cr,typed:J}),ECe=mAe({BigNumber:Ie,Unit:tt,config:be}),cz=eEe({add:wt,compare:Qu,divide:fn,partitionSelect:U1,typed:J}),SCe=oEe({add:wt,divide:fn,matrix:Me,mean:uz,multiply:Vt,pow:Ts,sqrt:Ns,subtract:Cr,sum:D2,typed:J}),ACe=NSe({Complex:Kt,add:wt,divide:fn,matrix:Me,multiply:Vt,typed:J}),NCe=rEe({abs:Qn,map:Ku,median:cz,subtract:Cr,typed:J}),TCe=N$({map:Ku,sqrt:Ns,typed:J,variance:M2}),DCe=dme({BigNumber:Ie,Complex:Kt,add:wt,config:be,divide:fn,equal:rs,factorial:ip,gamma:C2,isNegative:_l,multiply:Vt,pi:K_,pow:Ts,sin:z1,smallerEq:Df,subtract:Cr,typed:J}),I2=Kve({abs:Qn,add:wt,conj:Wu,ctranspose:x2,eigs:oz,equalScalar:vt,larger:qn,matrix:Me,multiply:Vt,pow:Ts,smaller:Un,sqrt:Ns,typed:J}),fz=Rde({BigNumber:Ie,DenseMatrix:mt,SparseMatrix:Hr,addScalar:qr,config:be,cos:d2,matrix:Me,multiplyScalar:Er,norm:I2,sin:z1,typed:J,unaryMinus:sa}),CCe=HAe({BigNumber:Ie,Unit:tt,config:be}),hz=V_e({identity:El,matrix:Me,multiply:Vt,norm:I2,qr:S2,subtract:Cr,typed:J}),MCe=Pde({multiply:Vt,rotationMatrix:fz,typed:J}),dz=B_e({abs:Qn,add:wt,concat:Tt,identity:El,index:K$,lusolve:lz,matrix:Me,matrixFromColumns:_2,multiply:Vt,range:Cf,schur:hz,subset:Ci,subtract:Cr,transpose:tp,typed:J}),ICe=z_e({matrix:Me,multiply:Vt,sylvester:dz,transpose:tp,typed:J}),Jf={},sp={},mz={},Ln=i0e({mathWithTransform:sp}),Zf=M0e({Node:Ln}),eo=P0e({Node:Ln}),Ju=R0e({Node:Ln}),pz=L0e({Node:Ln}),eh=l0e({Node:Ln}),gz=m0e({Node:Ln,ResultSet:M$}),vz=g0e({Node:Ln}),Sl=S0e({Node:Ln}),yz=F0e({Node:Ln}),PCe=CSe({classes:mz}),P2=Lye({math:Jf,typed:J}),xz=N0e({Node:Ln,typed:J}),kCe=b_e({Chain:P2,typed:J}),th=a0e({Node:Ln,subset:Ci}),bz=h0e({matrix:Me,Node:Ln,subset:Ci}),rh=D0e({Node:Ln,size:gn}),Al=z0e({Unit:tt,Node:Ln,math:Jf}),Nl=U0e({Node:Ln,SymbolNode:Al,math:Jf}),Ds=H0e({AccessorNode:th,ArrayNode:eh,AssignmentNode:bz,BlockNode:gz,ConditionalNode:vz,ConstantNode:Sl,FunctionAssignmentNode:xz,FunctionNode:Nl,IndexNode:rh,ObjectNode:Zf,OperatorNode:eo,ParenthesisNode:Ju,RangeNode:yz,RelationalNode:pz,SymbolNode:Al,config:be,numeric:Hi,typed:J}),wz=gSe({ConstantNode:Sl,FunctionNode:Nl,OperatorNode:eo,ParenthesisNode:Ju,parse:Ds,typed:J}),k2=fSe({bignumber:hi,fraction:rp,AccessorNode:th,ArrayNode:eh,ConstantNode:Sl,FunctionNode:Nl,IndexNode:rh,ObjectNode:Zf,OperatorNode:eo,SymbolNode:Al,config:be,mathWithTransform:sp,matrix:Me,typed:J}),RCe=G0e({parse:Ds,typed:J}),R2=dSe({AccessorNode:th,ArrayNode:eh,ConstantNode:Sl,FunctionNode:Nl,IndexNode:rh,ObjectNode:Zf,OperatorNode:eo,ParenthesisNode:Ju,SymbolNode:Al,add:wt,divide:fn,equal:rs,isZero:ia,multiply:Vt,parse:Ds,pow:Ts,subtract:Cr,typed:J}),H1=Y0e({parse:Ds,typed:J}),_z=Oye({evaluate:H1}),Ez=J0e({evaluate:H1,parse:Ds}),W1=lSe({AccessorNode:th,ArrayNode:eh,ConstantNode:Sl,FunctionNode:Nl,IndexNode:rh,ObjectNode:Zf,OperatorNode:eo,ParenthesisNode:Ju,SymbolNode:Al,equal:rs,parse:Ds,replacer:P$,resolve:wz,simplifyConstant:k2,simplifyCore:R2,typed:J}),OCe=ySe({OperatorNode:eo,parse:Ds,simplify:W1,typed:J}),FCe=nSe({parse:Ds,typed:J}),BCe=eye({Parser:Ez,typed:J}),LCe=_Se({bignumber:hi,fraction:rp,AccessorNode:th,ArrayNode:eh,ConstantNode:Sl,FunctionNode:Nl,IndexNode:rh,ObjectNode:Zf,OperatorNode:eo,ParenthesisNode:Ju,SymbolNode:Al,add:wt,config:be,divide:fn,equal:rs,isZero:ia,mathWithTransform:sp,matrix:Me,multiply:Vt,parse:Ds,pow:Ts,simplify:W1,simplifyConstant:k2,simplifyCore:R2,subtract:Cr,typed:J}),VCe=bSe({ConstantNode:Sl,FunctionNode:Nl,OperatorNode:eo,ParenthesisNode:Ju,SymbolNode:Al,config:be,equal:rs,isZero:ia,numeric:Hi,parse:Ds,simplify:W1,typed:J}),$Ce=y_e({Help:_z,mathWithTransform:sp,typed:J});Lr(Jf,{e:B3,false:hNe,fineStructure:dNe,i:C$,Infinity:mNe,LN10:pNe,LOG10E:gNe,NaN:vNe,null:yNe,phi:xNe,SQRT1_2:wNe,sackurTetrode:_Ne,tau:I$,true:ENe,E:B3,version:SNe,efimovFactor:ANe,LN2:NNe,pi:K_,replacer:P$,reviver:PCe,SQRT2:TNe,typed:J,PI:K_,weakMixingAngle:DNe,abs:Qn,acos:CNe,acot:MNe,acsc:INe,addScalar:qr,arg:PNe,asech:kNe,asinh:RNe,atan:k$,atanh:ONe,bigint:FNe,bitNot:BNe,boolean:LNe,clone:VNe,combinations:V1,complex:$1,conj:Wu,cos:d2,cot:$Ne,csc:zNe,cube:jNe,equalScalar:vt,erf:UNe,exp:R$,expm1:qNe,filter:HNe,flatten:Zm,forEach:WNe,format:ep,getMatrixDataType:m2,hex:GNe,im:p2,isInteger:fi,isNegative:_l,isPositive:Gu,isZero:ia,LOG2E:KNe,lgamma:YNe,log10:QNe,log2:g2,map:Ku,multiplyScalar:Er,not:ny,number:Za,oct:XNe,pickRandom:JNe,print:ZNe,random:eTe,re:v2,sec:tTe,sign:O$,sin:z1,splitUnit:rTe,square:nTe,string:iTe,subtractScalar:ts,tan:sTe,toBest:F$,typeOf:y2,acosh:aTe,acsch:oTe,asec:lTe,bignumber:hi,chain:kCe,combinationsWithRep:uTe,cosh:cTe,csch:fTe,isNaN:Oa,isPrime:hTe,mapSlices:pm,matrix:Me,matrixFromFunction:dTe,ones:mTe,randomInt:pTe,reshape:B$,sech:gTe,sinh:vTe,sparse:yTe,sqrt:Ns,squeeze:xTe,tanh:bTe,transpose:tp,xgcd:L$,zeros:un,acoth:wTe,asin:_Te,bin:ETe,concat:Tt,coth:STe,ctranspose:x2,diag:V$,dotMultiply:ATe,equal:rs,fraction:rp,identity:El,isNumeric:Yu,kron:NTe,largerEq:j1,leftShift:TTe,mode:DTe,nthRoot:CTe,numeric:Hi,prod:$$,resize:MTe,rightArithShift:ITe,round:Xf,size:gn,smaller:Un,to:PTe,unaryMinus:sa,unequal:kTe,xor:RTe,add:wt,atan2:OTe,bitAnd:FTe,bitOr:BTe,bitXor:LTe,cbrt:z$,compare:Qu,compareText:j$,count:VTe,deepEqual:b2,divideScalar:ur,dotDivide:np,equalText:$Te,floor:U$,gcd:zTe,hasNumericValue:jTe,hypot:UTe,larger:qn,log:w2,lsolve:H$,matrixFromColumns:_2,max:E2,min:qTe,mod:W$,nthRoots:HTe,or:WTe,partitionSelect:U1,qr:S2,rightLogShift:GTe,smallerEq:Df,subset:Ci,subtract:Cr,trace:KTe,usolve:A2,catalan:YTe,compareNatural:aa,composition:QTe,diff:XTe,distance:JTe,dot:q1,index:K$,invmod:ZTe,lcm:eDe,log1p:tDe,lsolveAll:rDe,matrixFromRows:nDe,multiply:Vt,range:Cf,row:iDe,setCartesian:sDe,setDistinct:aDe,setIsSubset:oDe,setPowerset:lDe,slu:Y$,sort:uDe,unaryPlus:N2,usolveAll:Q$,zpk2tf:cDe,and:fDe,ceil:T2,column:X$,cross:hDe,det:J$,fix:Z$,inv:Xu,pinv:dDe,pow:Ts,setDifference:ez,setMultiplicity:mDe,setSymDifference:tz,sqrtm:pDe,sum:D2,vacuumImpedance:gDe,wienDisplacement:vDe,atomicMass:yDe,bohrMagneton:xDe,boltzmann:bDe,conductanceQuantum:wDe,coulomb:_De,createUnit:EDe,deuteronMass:SDe,dotPow:ADe,electricConstant:NDe,elementaryCharge:TDe,expm:DDe,faraday:CDe,fft:nz,gamma:C2,gravitationConstant:MDe,hartreeEnergy:IDe,ifft:PDe,inverseConductanceQuantum:kDe,klitzing:RDe,loschmidt:ODe,magneticConstant:FDe,molarMass:BDe,molarPlanckConstant:LDe,neutronMass:VDe,nuclearMagneton:$De,planckCharge:zDe,planckLength:jDe,planckTemperature:UDe,protonMass:qDe,quantumOfCirculation:HDe,reducedPlanckConstant:WDe,rydberg:GDe,secondRadiation:KDe,setSize:YDe,speedOfLight:QDe,stefanBoltzmann:XDe,thomsonCrossSection:JDe,avogadro:ZDe,bohrRadius:eCe,coulombConstant:tCe,divide:fn,electronMass:rCe,factorial:ip,firstRadiation:nCe,gravity:iCe,intersect:sCe,lup:iz,magneticFluxQuantum:aCe,molarMassC12:oCe,multinomial:lCe,parse:Ds,permutations:uCe,planckMass:cCe,polynomialRoot:fCe,resolve:wz,setIntersect:sz,simplifyConstant:k2,solveODE:hCe,stirlingS2:az,unit:dCe,bellNumbers:mCe,compile:RCe,cumsum:pCe,eigs:oz,fermiCoupling:gCe,gasConstant:vCe,kldivergence:yCe,lusolve:lz,mean:uz,molarVolume:xCe,planckConstant:bCe,quantileSeq:wCe,setUnion:_Ce,simplifyCore:R2,variance:M2,classicalElectronRadius:ECe,evaluate:H1,median:cz,simplify:W1,symbolicEqual:OCe,corr:SCe,freqz:ACe,leafCount:FCe,mad:NCe,parser:BCe,rationalize:LCe,std:TCe,zeta:DCe,derivative:VCe,norm:I2,rotationMatrix:fz,help:$Ce,planckTime:CCe,schur:hz,rotate:MCe,sylvester:dz,lyap:ICe,config:be});Lr(sp,Jf,{mapSlices:XAe({isInteger:fi,typed:J}),filter:s2e({typed:J}),forEach:l2e({typed:J}),map:m2e({typed:J}),or:sNe({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),and:rNe({add:wt,concat:Tt,equalScalar:vt,matrix:Me,not:ny,typed:J,zeros:un}),concat:B2e({isInteger:fi,matrix:Me,typed:J}),index:f2e({Index:kn,getMatrixDataType:m2}),print:Z2e({add:wt,matrix:Me,typed:J,zeros:un}),sum:q2e({add:wt,config:be,numeric:Hi,typed:J}),bitAnd:lNe({add:wt,concat:Tt,equalScalar:vt,matrix:Me,not:ny,typed:J,zeros:un}),min:A2e({config:be,isNaN:Oa,numeric:Hi,smaller:Un,typed:J}),subset:R2e({add:wt,matrix:Me,typed:J,zeros:un}),bitOr:fNe({DenseMatrix:mt,concat:Tt,equalScalar:vt,matrix:Me,typed:J}),cumsum:Y2e({add:wt,typed:J,unaryPlus:N2}),diff:V2e({bignumber:hi,matrix:Me,number:Za,subtract:Cr,typed:J}),max:x2e({config:be,isNaN:Oa,larger:qn,numeric:Hi,typed:J}),range:D2e({bignumber:hi,matrix:Me,add:wt,config:be,isPositive:Gu,larger:qn,largerEq:j1,smaller:Un,smallerEq:Df,typed:J}),row:I2e({Index:kn,matrix:Me,range:Cf,typed:J}),column:e2e({Index:kn,matrix:Me,range:Cf,typed:J}),mean:_2e({add:wt,divide:fn,typed:J}),quantileSeq:G2e({add:wt,bignumber:hi,compare:Qu,divide:fn,isInteger:fi,larger:qn,mapSlices:pm,multiply:Vt,partitionSelect:U1,smaller:Un,smallerEq:Df,subtract:Cr,typed:J}),variance:X2e({add:wt,divide:fn,isNaN:Oa,mapSlices:pm,multiply:Vt,subtract:Cr,typed:J}),std:j2e({map:Ku,sqrt:Ns,typed:J,variance:M2})});Lr(mz,{BigNumber:Ie,Complex:Kt,Fraction:Hu,Matrix:L1,Node:Ln,ObjectNode:Zf,OperatorNode:eo,ParenthesisNode:Ju,Range:bNe,RelationalNode:pz,ResultSet:M$,ArrayNode:eh,BlockNode:gz,ConditionalNode:vz,ConstantNode:Sl,DenseMatrix:mt,RangeNode:yz,Chain:P2,FunctionAssignmentNode:xz,SparseMatrix:Hr,ImmutableDenseMatrix:q$,Index:kn,AccessorNode:th,AssignmentNode:bz,FibonacciHeap:G$,IndexNode:rh,Spa:rz,Unit:tt,SymbolNode:Al,FunctionNode:Nl,Help:_z,Parser:Ez});P2.createProxy(Jf);class zCe{async getDashboardStats(){try{const e=$n(Bt,"users"),r=$n(Bt,"loginLogs"),[n,i]=await Promise.all([ng(e),ng(r)]),s=n.data().count,a=i.data().count,o=new Date;o.setDate(o.getDate()-7);const l=vi(e,Fi("lastLogin",">=",o)),c=(await ng(l)).data().count,f=new Date;f.setHours(0,0,0,0);const h=vi(e,Fi("createdAt",">=",f)),m=(await ng(h)).data().count,p=new Date;p.setDate(p.getDate()-30);const[g,v]=await Promise.all([ho(vi(r,Fi("loginTimestamp",">=",p),yd("loginTimestamp","asc"))),ho(vi($n(Bt,"toolUsage"),Fi("usageTimestamp",">=",p)))]),b=this.processLoginTrends(g),y=this.processTopTools(v);return{totalUsers:s,totalLogins:a,activeUsers:c,newUsersToday:m,averageSessionTime:25,topTools:y,loginTrends:b,userRetention:{daily:.75,weekly:.45,monthly:.25}}}catch(e){throw console.error("Error fetching dashboard stats:",e),e}}async getUserStats(e){try{const r=await Na(sn(Bt,"userAnalytics",e)),n=r.exists()?r.data():null,s=(await ho(vi($n(Bt,"loginLogs"),Fi("userId","==",e),yd("loginTimestamp","desc"),D0(50)))).docs.map(u=>({id:u.id,...u.data(),loginTimestamp:u.data().loginTimestamp.toDate()})),o=(await ho(vi($n(Bt,"toolUsage"),Fi("userId","==",e),D0(100)))).docs.map(u=>u.data()),l=this.processStudyPatterns(s,o);return{totalLogins:(n==null?void 0:n.totalLogins)||0,totalStudyTime:(n==null?void 0:n.totalStudyTime)||0,sessionsCompleted:(n==null?void 0:n.sessionsCompleted)||0,streakDays:(n==null?void 0:n.streakDays)||0,toolsUsed:(n==null?void 0:n.toolsUsed)||{},loginHistory:s,studyPatterns:l}}catch(r){throw console.error("Error fetching user stats:",r),r}}async logToolUsage(e,r,n,i,s){try{await Y9($n(Bt,"toolUsage"),{userId:e,toolName:r,toolCategory:n,usageTimestamp:new Date,sessionDuration:i,dataProcessed:s}),await this.updateUserToolUsage(e,r),this.logAnalyticsEvent("tool_usage",{tool_name:r,tool_category:n,session_duration:i})}catch(a){console.error("Error logging tool usage:",a)}}async updateStudySession(e,r){try{const n=sn(Bt,"userAnalytics",e),i=await Na(n);if(i.exists()){const s=i.data();await C0(n,{totalStudyTime:(s.totalStudyTime||0)+r,sessionsCompleted:(s.sessionsCompleted||0)+1,lastActive:new Date})}this.logAnalyticsEvent("study_session_completed",{session_duration:r})}catch(n){console.error("Error updating study session:",n)}}async getFieldAnalytics(e){try{const r=await ho(vi($n(Bt,"users"),Fi("fieldOfStudy","==",e)));if(r.empty)return null;const n=r.docs.map(l=>l.data().id),i=await ho(vi($n(Bt,"toolUsage"),Fi("userId","in",n.slice(0,10)))),s=n.slice(0,10).map(l=>Na(sn(Bt,"userAnalytics",l))),o=(await Promise.all(s)).filter(l=>l.exists()).map(l=>l.data());return{totalUsers:r.size,totalStudyTime:o.reduce((l,u)=>l+(u.totalStudyTime||0),0),totalSessions:o.reduce((l,u)=>l+(u.sessionsCompleted||0),0),popularTools:this.processTopTools(i)}}catch(r){return console.error("Error fetching field analytics:",r),null}}processLoginTrends(e){const r={};return e.docs.forEach(n=>{const s=n.data().loginTimestamp.toDate().toISOString().split("T")[0];r[s]=(r[s]||0)+1}),Object.entries(r).map(([n,i])=>({date:n,logins:i})).sort((n,i)=>n.date.localeCompare(i.date))}processTopTools(e){const r={};return e.docs.forEach(n=>{const i=n.data().toolName;r[i]=(r[i]||0)+1}),Object.entries(r).map(([n,i])=>({name:n,usage:i})).sort((n,i)=>i.usage-n.usage).slice(0,10)}processStudyPatterns(e,r){const n={},i={};e.forEach(a=>{const o=new Date(a.loginTimestamp),l=o.getHours(),u=o.toLocaleDateString("en-US",{weekday:"long"});n[l]=(n[l]||0)+1,i[u]=(i[u]||0)+1});const s=r.length>0?r.filter(a=>a.sessionDuration).reduce((a,o)=>a+(o.sessionDuration||0),0)/r.length:0;return{peakHours:Object.entries(n).sort(([,a],[,o])=>o-a).slice(0,3).map(([a])=>parseInt(a)),preferredDays:Object.entries(i).sort(([,a],[,o])=>o-a).slice(0,3).map(([a])=>a),averageSessionLength:Math.round(s)}}async updateUserToolUsage(e,r){var n;try{const i=sn(Bt,"userAnalytics",e),s=await Na(i);if(s.exists()){const a=s.data(),o={...a.toolsUsed,[r]:(((n=a.toolsUsed)==null?void 0:n[r])||0)+1};await C0(i,{toolsUsed:o,lastActive:new Date})}}catch(i){console.error("Error updating user tool usage:",i)}}logAnalyticsEvent(e,r){try{VA(_8,e,r)}catch(n){console.error("Failed to log analytics event:",n)}}}const Sz=new zCe;function jCe(){const[t,e]=ne.useState("0"),[r,n]=ne.useState(""),[i,s]=ne.useState([]),[a,o]=ne.useState("scientific"),[l,u]=ne.useState("deg"),[c,f]=ne.useState(0),[h,d]=ne.useState(!1),{user:m}=zu();ne.useEffect(()=>{const L=localStorage.getItem("calculator-history");L&&s(JSON.parse(L).map(B=>({...B,timestamp:new Date(B.timestamp)})))},[]),ne.useEffect(()=>{localStorage.setItem("calculator-history",JSON.stringify(i))},[i]);const p=(L,B)=>{const $={expression:L,result:B,timestamp:new Date};s(Y=>[$,...Y.slice(0,49)])},g=L=>{t==="0"||t==="Error"?(e(L),n(L)):(e(t+L),n(r+L))},v=L=>{if(t==="Error")return;let B=L;L==="×"&&(B="*"),L==="÷"&&(B="/"),n(r+B),e(t+L)},b=L=>{if(t!=="Error")try{let B=parseFloat(t),$;switch(L){case"sin":$=Math.sin(l==="deg"?B*Math.PI/180:B);break;case"cos":$=Math.cos(l==="deg"?B*Math.PI/180:B);break;case"tan":$=Math.tan(l==="deg"?B*Math.PI/180:B);break;case"sinh":$=Math.sinh(B);break;case"cosh":$=Math.cosh(B);break;case"tanh":$=Math.tanh(B);break;case"sin⁻¹":$=l==="deg"?Math.asin(B)*180/Math.PI:Math.asin(B);break;case"cos⁻¹":$=l==="deg"?Math.acos(B)*180/Math.PI:Math.acos(B);break;case"tan⁻¹":$=l==="deg"?Math.atan(B)*180/Math.PI:Math.atan(B);break;case"sinh⁻¹":$=Math.asinh(B);break;case"cosh⁻¹":$=Math.acosh(B);break;case"tanh⁻¹":$=Math.atanh(B);break;case"log":$=Math.log10(B);break;case"ln":$=Math.log(B);break;case"√":$=Math.sqrt(B);break;case"x²":$=B*B;break;case"x³":$=B*B*B;break;case"1/x":$=1/B;break;case"e^x":$=Math.exp(B);break;case"10^x":$=Math.pow(10,B);break;case"x!":$=N(B);break;case"|x|":$=Math.abs(B);break;default:return}const Y=A($);e(Y),n(Y),p(`${L}(${B})`,Y)}catch{e("Error"),n("")}},y=L=>{let B;switch(L){case"π":B=Math.PI;break;case"e":B=Math.E;break;case"φ":B=(1+Math.sqrt(5))/2;break;default:return}const $=A(B);e($),n($)},x=()=>{if(!(!r||t==="Error"))try{let L=r.replace(/×/g,"*").replace(/÷/g,"/").replace(/π/g,Math.PI.toString()).replace(/e/g,Math.E.toString());const B=H1(L),$=A(B);e($),n($),p(r,$),m&&Sz.logToolUsage(m.id,"Engineering Calculator","Engineering",1,{expression:r,result:$})}catch{e("Error"),n(""),Ft.error("Invalid expression")}},w=()=>{e("0"),n("")},E=()=>{e("0")},S=()=>{if(t.length>1&&t!=="Error"){const L=t.slice(0,-1),B=r.slice(0,-1);e(L||"0"),n(B)}else e("0"),n("")},A=L=>isNaN(L)||!isFinite(L)?"Error":Math.abs(L)>1e15||Math.abs(L)<1e-10&&L!==0?L.toExponential(10):(Math.round(L*1e12)/1e12).toString(),N=L=>{if(L<0||L!==Math.floor(L))throw new Error("Invalid input");if(L===0||L===1)return 1;let B=1;for(let $=2;$<=L;$++)B*=$;return B},D=()=>{e(c.toString()),n(c.toString())},C=()=>{f(0),Ft.success("Memory cleared")},M=()=>{try{f(c+parseFloat(t)),Ft.success("Value added to memory")}catch{Ft.error("Invalid value")}},I=()=>{try{f(c-parseFloat(t)),Ft.success("Value subtracted from memory")}catch{Ft.error("Invalid value")}},z=[[{label:"sin",action:()=>b("sin"),type:"function"},{label:"cos",action:()=>b("cos"),type:"function"},{label:"tan",action:()=>b("tan"),type:"function"},{label:"sinh",action:()=>b("sinh"),type:"function"}],[{label:"sin⁻¹",action:()=>b("sin⁻¹"),type:"function"},{label:"cos⁻¹",action:()=>b("cos⁻¹"),type:"function"},{label:"tan⁻¹",action:()=>b("tan⁻¹"),type:"function"},{label:"tanh",action:()=>b("tanh"),type:"function"}],[{label:"log",action:()=>b("log"),type:"function"},{label:"ln",action:()=>b("ln"),type:"function"},{label:"e^x",action:()=>b("e^x"),type:"function"},{label:"10^x",action:()=>b("10^x"),type:"function"}],[{label:"√",action:()=>b("√"),type:"function"},{label:"x²",action:()=>b("x²"),type:"function"},{label:"x³",action:()=>b("x³"),type:"function"},{label:"1/x",action:()=>b("1/x"),type:"function"}],[{label:"π",action:()=>y("π"),type:"constant"},{label:"e",action:()=>y("e"),type:"constant"},{label:"x!",action:()=>b("x!"),type:"function"},{label:"|x|",action:()=>b("|x|"),type:"function"}]],V=[[{label:"MC",action:C,type:"memory"},{label:"MR",action:D,type:"memory"},{label:"M+",action:M,type:"memory"},{label:"M-",action:I,type:"memory"}],[{label:"C",action:w,type:"clear"},{label:"CE",action:E,type:"clear"},{label:"⌫",action:S,type:"clear"},{label:"÷",action:()=>v("÷"),type:"operator"}],[{label:"7",action:()=>g("7"),type:"number"},{label:"8",action:()=>g("8"),type:"number"},{label:"9",action:()=>g("9"),type:"number"},{label:"×",action:()=>v("×"),type:"operator"}],[{label:"4",action:()=>g("4"),type:"number"},{label:"5",action:()=>g("5"),type:"number"},{label:"6",action:()=>g("6"),type:"number"},{label:"-",action:()=>v("-"),type:"operator"}],[{label:"1",action:()=>g("1"),type:"number"},{label:"2",action:()=>g("2"),type:"number"},{label:"3",action:()=>g("3"),type:"number"},{label:"+",action:()=>v("+"),type:"operator"}],[{label:"±",action:()=>e((parseFloat(t)*-1).toString()),type:"function"},{label:"0",action:()=>g("0"),type:"number"},{label:".",action:()=>g("."),type:"number"},{label:"=",action:x,type:"equals"}]],k=L=>{const B="h-12 rounded-lg font-semibold transition-all hover:scale-105 active:scale-95";switch(L){case"number":return`${B} bg-gray-700 hover:bg-gray-600 text-white`;case"operator":return`${B} bg-blue-600 hover:bg-blue-700 text-white`;case"function":return`${B} bg-purple-600 hover:bg-purple-700 text-white`;case"constant":return`${B} bg-green-600 hover:bg-green-700 text-white`;case"memory":return`${B} bg-orange-600 hover:bg-orange-700 text-white`;case"clear":return`${B} bg-red-600 hover:bg-red-700 text-white`;case"equals":return`${B} bg-green-600 hover:bg-green-700 text-white`;default:return`${B} bg-gray-600 hover:bg-gray-700 text-white`}};return T.jsxs("div",{className:"max-w-6xl mx-auto p-6 bg-gray-900 rounded-2xl shadow-2xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(Gv,{className:"text-blue-400 mr-3",size:28}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-white",children:"Engineering Calculator"}),T.jsx("p",{className:"text-gray-400",children:"Advanced scientific calculations"})]})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("select",{value:a,onChange:L=>o(L.target.value),className:"px-3 py-2 bg-gray-800 text-white rounded-lg border border-gray-600 focus:border-blue-400 focus:outline-none",children:[T.jsx("option",{value:"basic",children:"Basic"}),T.jsx("option",{value:"scientific",children:"Scientific"}),T.jsx("option",{value:"programming",children:"Programming"})]}),T.jsx("button",{onClick:()=>u(l==="deg"?"rad":"deg"),className:`px-3 py-2 rounded-lg font-medium transition-colors ${l==="deg"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:l.toUpperCase()}),T.jsx("button",{onClick:()=>d(!h),className:"p-2 rounded-lg bg-gray-700 hover:bg-gray-600 text-white transition-colors",children:T.jsx(ZT,{size:20})})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[T.jsxs("div",{className:"lg:col-span-3",children:[T.jsx("div",{className:"bg-black rounded-lg p-6 mb-6",children:T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-gray-400 text-sm mb-2 h-6",children:r&&r!==t?r:""}),T.jsx("div",{className:"text-white text-4xl font-mono break-all",children:t})]})}),a==="scientific"&&T.jsxs("div",{className:"mb-6",children:[T.jsxs("h3",{className:"text-white text-lg font-semibold mb-3 flex items-center",children:[T.jsx(eS,{className:"mr-2",size:20}),"Scientific Functions"]}),T.jsx("div",{className:"grid grid-cols-4 gap-3",children:z.flat().map((L,B)=>T.jsx("button",{onClick:L.action,className:k(L.type),children:L.label},B))})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-white text-lg font-semibold mb-3 flex items-center",children:[T.jsx(Gv,{className:"mr-2",size:20}),"Basic Operations"]}),T.jsx("div",{className:"grid grid-cols-4 gap-3",children:V.flat().map((L,B)=>T.jsx("button",{onClick:L.action,className:k(L.type),children:L.label},B))})]})]}),h&&T.jsxs(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-gray-800 rounded-lg p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsxs("h3",{className:"text-white font-semibold flex items-center",children:[T.jsx(ZT,{className:"mr-2",size:18}),"History"]}),T.jsx("button",{onClick:()=>{s([]),localStorage.removeItem("calculator-history")},className:"text-red-400 hover:text-red-300 text-sm",children:"Clear"})]}),T.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:i.length===0?T.jsx("p",{className:"text-gray-400 text-sm",children:"No calculations yet"}):i.map((L,B)=>T.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>{e(L.result),n(L.result)},children:[T.jsx("div",{className:"text-gray-300 text-sm",children:L.expression}),T.jsx("div",{className:"text-white font-mono",children:L.result}),T.jsx("div",{className:"text-gray-500 text-xs",children:L.timestamp.toLocaleTimeString()})]},B))})]})]}),T.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[T.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[T.jsx(Fy,{className:"mr-2",size:18}),"Quick Reference"]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[T.jsxs("div",{children:[T.jsx("h4",{className:"text-blue-400 font-medium mb-2",children:"Trigonometric"}),T.jsxs("ul",{className:"text-gray-300 space-y-1",children:[T.jsx("li",{children:"sin, cos, tan - Basic trig functions"}),T.jsx("li",{children:"sin⁻¹, cos⁻¹, tan⁻¹ - Inverse trig"}),T.jsx("li",{children:"sinh, cosh, tanh - Hyperbolic"})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-green-400 font-medium mb-2",children:"Logarithmic"}),T.jsxs("ul",{className:"text-gray-300 space-y-1",children:[T.jsx("li",{children:"log - Base 10 logarithm"}),T.jsx("li",{children:"ln - Natural logarithm"}),T.jsx("li",{children:"e^x - Exponential function"})]})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-purple-400 font-medium mb-2",children:"Constants"}),T.jsxs("ul",{className:"text-gray-300 space-y-1",children:[T.jsx("li",{children:"π - Pi (3.14159...)"}),T.jsx("li",{children:"e - Euler's number (2.71828...)"}),T.jsx("li",{children:"Memory functions (MC, MR, M+, M-)"})]})]})]})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ap(t){return t+.5|0}const Co=(t,e,r)=>Math.max(Math.min(t,r),e);function Gh(t){return Co(ap(t*2.55),0,255)}function Wo(t){return Co(ap(t*255),0,255)}function xa(t){return Co(ap(t/2.55)/100,0,1)}function L3(t){return Co(ap(t*100),0,100)}const ki={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Y_=[..."0123456789ABCDEF"],UCe=t=>Y_[t&15],qCe=t=>Y_[(t&240)>>4]+Y_[t&15],Ag=t=>(t&240)>>4===(t&15),HCe=t=>Ag(t.r)&&Ag(t.g)&&Ag(t.b)&&Ag(t.a);function WCe(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&ki[t[1]]*17,g:255&ki[t[2]]*17,b:255&ki[t[3]]*17,a:e===5?ki[t[4]]*17:255}:(e===7||e===9)&&(r={r:ki[t[1]]<<4|ki[t[2]],g:ki[t[3]]<<4|ki[t[4]],b:ki[t[5]]<<4|ki[t[6]],a:e===9?ki[t[7]]<<4|ki[t[8]]:255})),r}const GCe=(t,e)=>t<255?e(t):"";function KCe(t){var e=HCe(t)?UCe:qCe;return t?"#"+e(t.r)+e(t.g)+e(t.b)+GCe(t.a,e):void 0}const YCe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Az(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function QCe(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function XCe(t,e,r){const n=Az(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function JCe(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function O2(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,u,c;return s!==a&&(c=s-a,u=o>.5?c/(2-s-a):c/(s+a),l=JCe(r,n,i,c,s),l=l*60+.5),[l|0,u||0,o]}function F2(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Wo)}function B2(t,e,r){return F2(Az,t,e,r)}function ZCe(t,e,r){return F2(XCe,t,e,r)}function eMe(t,e,r){return F2(QCe,t,e,r)}function Nz(t){return(t%360+360)%360}function tMe(t){const e=YCe.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Gh(+e[5]):Wo(+e[5]));const i=Nz(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=ZCe(i,s,a):e[1]==="hsv"?n=eMe(i,s,a):n=B2(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function rMe(t,e){var r=O2(t);r[0]=Nz(r[0]+e),r=B2(r),t.r=r[0],t.g=r[1],t.b=r[2]}function nMe(t){if(!t)return;const e=O2(t),r=e[0],n=L3(e[1]),i=L3(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${xa(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const V3={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$3={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function iMe(){const t={},e=Object.keys($3),r=Object.keys(V3);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,V3[s]);s=parseInt($3[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let Ng;function sMe(t){Ng||(Ng=iMe(),Ng.transparent=[0,0,0,0]);const e=Ng[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const aMe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oMe(t){const e=aMe.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?Gh(a):Co(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?Gh(n):Co(n,0,255)),i=255&(e[4]?Gh(i):Co(i,0,255)),s=255&(e[6]?Gh(s):Co(s,0,255)),{r:n,g:i,b:s,a:r}}}function lMe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${xa(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Sb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,dc=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function uMe(t,e,r){const n=dc(xa(t.r)),i=dc(xa(t.g)),s=dc(xa(t.b));return{r:Wo(Sb(n+r*(dc(xa(e.r))-n))),g:Wo(Sb(i+r*(dc(xa(e.g))-i))),b:Wo(Sb(s+r*(dc(xa(e.b))-s))),a:t.a+r*(e.a-t.a)}}function Tg(t,e,r){if(t){let n=O2(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=B2(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Tz(t,e){return t&&Object.assign(e||{},t)}function z3(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Wo(t[3]))):(e=Tz(t,{r:0,g:0,b:0,a:1}),e.a=Wo(e.a)),e}function cMe(t){return t.charAt(0)==="r"?oMe(t):tMe(t)}class gm{constructor(e){if(e instanceof gm)return e;const r=typeof e;let n;r==="object"?n=z3(e):r==="string"&&(n=WCe(e)||sMe(e)||cMe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Tz(this._rgb);return e&&(e.a=xa(e.a)),e}set rgb(e){this._rgb=z3(e)}rgbString(){return this._valid?lMe(this._rgb):void 0}hexString(){return this._valid?KCe(this._rgb):void 0}hslString(){return this._valid?nMe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-u,n.r=255&u*n.r+s*i.r+.5,n.g=255&u*n.g+s*i.g+.5,n.b=255&u*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=uMe(this._rgb,e._rgb,r)),this}clone(){return new gm(this.rgb)}alpha(e){return this._rgb.a=Wo(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=ap(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Tg(this._rgb,2,e),this}darken(e){return Tg(this._rgb,2,-e),this}saturate(e){return Tg(this._rgb,1,e),this}desaturate(e){return Tg(this._rgb,1,-e),this}rotate(e){return rMe(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ma(){}const fMe=(()=>{let t=0;return()=>t++})();function zt(t){return t==null}function Vr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function kt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Ji(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Ps(t,e){return Ji(t)?t:e}function bt(t,e){return typeof t>"u"?e:t}const hMe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Dz=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function nr(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function jt(t,e,r,n){let i,s,a;if(Vr(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(kt(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function iy(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function sy(t){if(Vr(t))return t.map(sy);if(kt(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=sy(t[r[i]]);return e}return t}function Cz(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dMe(t,e,r,n){if(!Cz(t))return;const i=e[t],s=r[t];kt(i)&&kt(s)?vm(i,s,n):e[t]=sy(s)}function vm(t,e,r){const n=Vr(e)?e:[e],i=n.length;if(!kt(t))return t;r=r||{};const s=r.merger||dMe;let a;for(let o=0;o<i;++o){if(a=n[o],!kt(a))continue;const l=Object.keys(a);for(let u=0,c=l.length;u<c;++u)s(l[u],t,a,r)}return t}function _d(t,e){return vm(t,e,{merger:mMe})}function mMe(t,e,r){if(!Cz(t))return;const n=e[t],i=r[t];kt(n)&&kt(i)?_d(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=sy(i))}const j3={"":t=>t,x:t=>t.x,y:t=>t.y};function pMe(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function gMe(t){const e=pMe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function Cu(t,e){return(j3[e]||(j3[e]=gMe(e)))(t)}function L2(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ym=t=>typeof t<"u",ll=t=>typeof t=="function",U3=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function vMe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ht=Math.PI,wr=2*Ht,yMe=wr+Ht,ay=Number.POSITIVE_INFINITY,xMe=Ht/180,zr=Ht/2,Fl=Ht/4,q3=Ht*2/3,Mz=Math.log10,Xs=Math.sign;function Ed(t,e,r){return Math.abs(t-e)<r}function H3(t){const e=Math.round(t);t=Ed(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Mz(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function bMe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function wMe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function xm(t){return!wMe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function _Me(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function EMe(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Ca(t){return t*(Ht/180)}function SMe(t){return t*(180/Ht)}function W3(t){if(!Ji(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function Iz(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Ht&&(s+=wr),{angle:s,distance:i}}function Q_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function AMe(t,e){return(t-e+yMe)%wr-Ht}function us(t){return(t%wr+wr)%wr}function bm(t,e,r,n){const i=us(t),s=us(e),a=us(r),o=us(s-i),l=us(a-i),u=us(i-s),c=us(i-a);return i===s||i===a||n&&s===a||o>l&&u<c}function In(t,e,r){return Math.max(e,Math.min(r,t))}function NMe(t){return In(t,-32768,32767)}function Mo(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function V2(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const ou=(t,e,r,n)=>V2(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),TMe=(t,e,r)=>V2(t,r,n=>t[n][e]>=r);function DMe(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const Pz=["push","pop","shift","splice","unshift"];function CMe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Pz.forEach(r=>{const n="_onData"+L2(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function G3(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Pz.forEach(s=>{delete t[s]}),delete t._chartjs)}function kz(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Rz=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Oz(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,Rz.call(window,()=>{n=!1,t.apply(e,r)}))}}function MMe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const $2=t=>t==="start"?"left":t==="end"?"right":"center",Sn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,IMe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function PMe(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,c=a.axis,{min:f,max:h,minDefined:d,maxDefined:m}=a.getUserBounds();if(d){if(i=Math.min(ou(l,c,f).lo,r?n:ou(e,c,a.getPixelForValue(f)).lo),u){const p=l.slice(0,i+1).reverse().findIndex(g=>!zt(g[o.axis]));i-=Math.max(0,p)}i=In(i,0,n-1)}if(m){let p=Math.max(ou(l,a.axis,h,!0).hi+1,r?0:ou(e,c,a.getPixelForValue(h),!0).hi+1);if(u){const g=l.slice(p-1).findIndex(v=>!zt(v[o.axis]));p+=Math.max(0,g)}s=In(p,i,n)-i}else s=n-i}return{start:i,count:s}}function kMe(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const Dg=t=>t===0||t===1,K3=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*wr/r)),Y3=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*wr/r)+1,Sd={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*zr)+1,easeOutSine:t=>Math.sin(t*zr),easeInOutSine:t=>-.5*(Math.cos(Ht*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Dg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Dg(t)?t:K3(t,.075,.3),easeOutElastic:t=>Dg(t)?t:Y3(t,.075,.3),easeInOutElastic(t){return Dg(t)?t:t<.5?.5*K3(t*2,.1125,.45):.5+.5*Y3(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Sd.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Sd.easeInBounce(t*2)*.5:Sd.easeOutBounce(t*2-1)*.5+.5};function z2(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function Q3(t){return z2(t)?t:new gm(t)}function Ab(t){return z2(t)?t:new gm(t).saturate(.5).darken(.1).hexString()}const RMe=["x","y","borderWidth","radius","tension"],OMe=["color","borderColor","backgroundColor"];function FMe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:OMe},numbers:{type:"number",properties:RMe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function BMe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const X3=new Map;function LMe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=X3.get(r);return n||(n=new Intl.NumberFormat(t,e),X3.set(r,n)),n}function j2(t,e,r){return LMe(e,r).format(t)}const VMe={values(t){return Vr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=$Me(t,r)}const a=Mz(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),j2(t,n,l)}};function $Me(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var Fz={formatters:VMe};function zMe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Fz.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Mu=Object.create(null),X_=Object.create(null);function Ad(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function Nb(t,e,r){return typeof e=="string"?vm(Ad(t,e),r):vm(Ad(t,""),e)}class jMe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Ab(i.backgroundColor),this.hoverBorderColor=(n,i)=>Ab(i.borderColor),this.hoverColor=(n,i)=>Ab(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return Nb(this,e,r)}get(e){return Ad(this,e)}describe(e,r){return Nb(X_,e,r)}override(e,r){return Nb(Mu,e,r)}route(e,r,n,i){const s=Ad(this,e),a=Ad(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],u=a[i];return kt(l)?Object.assign({},u,l):bt(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var Dr=new jMe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FMe,BMe,zMe]);function UMe(t){return!t||zt(t.size)||zt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function J3(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function Bl(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function Z3(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function J_(t,e,r,n){Bz(t,e,r,n,null)}function Bz(t,e,r,n,i){let s,a,o,l,u,c,f,h;const d=e.pointStyle,m=e.rotation,p=e.radius;let g=(m||0)*xMe;if(d&&typeof d=="object"&&(s=d.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(g),t.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),t.restore();return}if(!(isNaN(p)||p<=0)){switch(t.beginPath(),d){default:i?t.ellipse(r,n,i/2,p,0,0,wr):t.arc(r,n,p,0,wr),t.closePath();break;case"triangle":c=i?i/2:p,t.moveTo(r+Math.sin(g)*c,n-Math.cos(g)*p),g+=q3,t.lineTo(r+Math.sin(g)*c,n-Math.cos(g)*p),g+=q3,t.lineTo(r+Math.sin(g)*c,n-Math.cos(g)*p),t.closePath();break;case"rectRounded":u=p*.516,l=p-u,a=Math.cos(g+Fl)*l,f=Math.cos(g+Fl)*(i?i/2-u:l),o=Math.sin(g+Fl)*l,h=Math.sin(g+Fl)*(i?i/2-u:l),t.arc(r-f,n-o,u,g-Ht,g-zr),t.arc(r+h,n-a,u,g-zr,g),t.arc(r+f,n+o,u,g,g+zr),t.arc(r-h,n+a,u,g+zr,g+Ht),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*p,c=i?i/2:l,t.rect(r-c,n-l,2*c,2*l);break}g+=Fl;case"rectRot":f=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(r-f,n-o),t.lineTo(r+h,n-a),t.lineTo(r+f,n+o),t.lineTo(r-h,n+a),t.closePath();break;case"crossRot":g+=Fl;case"cross":f=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a);break;case"star":f=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a),g+=Fl,f=Math.cos(g)*(i?i/2:p),a=Math.cos(g)*p,o=Math.sin(g)*p,h=Math.sin(g)*(i?i/2:p),t.moveTo(r-f,n-o),t.lineTo(r+f,n+o),t.moveTo(r+h,n-a),t.lineTo(r-h,n+a);break;case"line":a=i?i/2:Math.cos(g)*p,o=Math.sin(g)*p,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(g)*(i?i/2:p),n+Math.sin(g)*p);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wm(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function U2(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function q2(t){t.restore()}function qMe(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function HMe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function WMe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),zt(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function GMe(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,c=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,c),t.lineTo(o,c),t.stroke()}}function KMe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function _m(t,e,r,n,i,s={}){const a=Vr(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,WMe(t,s),l=0;l<a.length;++l)u=a[l],s.backdrop&&KMe(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),zt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),GMe(t,r,n,u,s),n+=Number(i.lineHeight);t.restore()}function oy(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Ht,Ht,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,Ht,zr,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,zr,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-zr,!0),t.lineTo(r+a.topLeft,n)}const YMe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,QMe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function XMe(t,e){const r=(""+t).match(YMe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const JMe=t=>+t||0;function H2(t,e){const r={},n=kt(e),i=n?Object.keys(e):e,s=kt(t)?n?a=>bt(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=JMe(s(a));return r}function Lz(t){return H2(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Zc(t){return H2(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Zi(t){const e=Lz(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Pn(t,e){t=t||{},e=e||Dr.font;let r=bt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=bt(t.style,e.style);n&&!(""+n).match(QMe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:bt(t.family,e.family),lineHeight:XMe(bt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:bt(t.weight,e.weight),string:""};return i.string=UMe(i),i}function Cg(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function ZMe(t,e,r){const{min:n,max:i}=t,s=Dz(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function Zu(t,e){return Object.assign(Object.create(t),e)}function W2(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=jz("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>W2([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return $z(o,l,()=>oIe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return t4(o).includes(l)},ownKeys(o){return t4(o)},set(o,l,u){const c=o._storage||(o._storage=i());return o[l]=c[l]=u,delete o._keys,!0}})}function Mf(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Vz(t,n),setContext:s=>Mf(t,s,r,n),override:s=>Mf(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return $z(s,a,()=>tIe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function Vz(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:ll(r)?r:()=>r,isIndexable:ll(n)?n:()=>n}}const eIe=(t,e)=>t?t+L2(e):e,G2=(t,e)=>kt(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function $z(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function tIe(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return ll(o)&&a.isScriptable(e)&&(o=rIe(e,o,t,r)),Vr(o)&&o.length&&(o=nIe(e,o,t,a.isIndexable)),G2(e,o)&&(o=Mf(o,i,s&&s[e],a)),o}function rIe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),G2(t,l)&&(l=K2(i._scopes,i,t,l)),l}function nIe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(kt(e[0])){const l=e,u=i._scopes.filter(c=>c!==l);e=[];for(const c of l){const f=K2(u,i,t,c);e.push(Mf(f,s,a&&a[t],o))}}return e}function zz(t,e,r){return ll(t)?t(e,r):t}const iIe=(t,e)=>t===!0?e:typeof t=="string"?Cu(e,t):void 0;function sIe(t,e,r,n,i){for(const s of e){const a=iIe(r,s);if(a){t.add(a);const o=zz(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function K2(t,e,r,n){const i=e._rootScopes,s=zz(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=e4(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=e4(o,a,s,l,n),l===null)?!1:W2(Array.from(o),[""],i,s,()=>aIe(e,r,n))}function e4(t,e,r,n,i){for(;r;)r=sIe(t,e,r,n,i);return r}function aIe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Vr(i)&&kt(r)?r:i||{}}function oIe(t,e,r,n){let i;for(const s of e)if(i=jz(eIe(s,t),r),typeof i<"u")return G2(t,i)?K2(r,n,t,i):i}function jz(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function t4(t){let e=t._keys;return e||(e=t._keys=lIe(t._scopes)),e}function lIe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const uIe=Number.EPSILON||1e-14,If=(t,e)=>e<t.length&&!t[e].skip&&t[e],Uz=t=>t==="x"?"y":"x";function cIe(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=Q_(s,i),l=Q_(a,s);let u=o/(o+l),c=l/(o+l);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=n*u,h=n*c;return{previous:{x:s.x-f*(a.x-i.x),y:s.y-f*(a.y-i.y)},next:{x:s.x+h*(a.x-i.x),y:s.y+h*(a.y-i.y)}}}function fIe(t,e,r){const n=t.length;let i,s,a,o,l,u=If(t,0);for(let c=0;c<n-1;++c)if(l=u,u=If(t,c+1),!(!l||!u)){if(Ed(e[c],0,uIe)){r[c]=r[c+1]=0;continue}i=r[c]/e[c],s=r[c+1]/e[c],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[c]=i*a*e[c],r[c+1]=s*a*e[c])}}function hIe(t,e,r="x"){const n=Uz(r),i=t.length;let s,a,o,l=If(t,0);for(let u=0;u<i;++u){if(a=o,o=l,l=If(t,u+1),!o)continue;const c=o[r],f=o[n];a&&(s=(c-a[r])/3,o[`cp1${r}`]=c-s,o[`cp1${n}`]=f-s*e[u]),l&&(s=(l[r]-c)/3,o[`cp2${r}`]=c+s,o[`cp2${n}`]=f+s*e[u])}}function dIe(t,e="x"){const r=Uz(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,u=If(t,0);for(a=0;a<n;++a)if(o=l,l=u,u=If(t,a+1),!!l){if(u){const c=u[e]-l[e];i[a]=c!==0?(u[r]-l[r])/c:0}s[a]=o?u?Xs(i[a-1])!==Xs(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}fIe(t,i,s),hIe(t,s,e)}function Mg(t,e,r){return Math.max(Math.min(t,r),e)}function mIe(t,e){let r,n,i,s,a,o=wm(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&wm(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=Mg(i.cp1x,e.left,e.right),i.cp1y=Mg(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=Mg(i.cp2x,e.left,e.right),i.cp2y=Mg(i.cp2y,e.top,e.bottom)))}function pIe(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")dIe(t,i);else{let u=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=cIe(u,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&mIe(t,r)}function Y2(){return typeof window<"u"&&typeof document<"u"}function Q2(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ly(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const G1=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function gIe(t,e){return G1(t).getPropertyValue(e)}const vIe=["top","right","bottom","left"];function mu(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=vIe[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const yIe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function xIe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(yIe(i,s,t.target))o=i,l=s;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,l=n.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function Wl(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=G1(r),s=i.boxSizing==="border-box",a=mu(i,"padding"),o=mu(i,"border","width"),{x:l,y:u,box:c}=xIe(t,r),f=a.left+(c&&o.left),h=a.top+(c&&o.top);let{width:d,height:m}=e;return s&&(d-=a.width+o.width,m-=a.height+o.height),{x:Math.round((l-f)/d*r.width/n),y:Math.round((u-h)/m*r.height/n)}}function bIe(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&Q2(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=G1(s),l=mu(o,"border","width"),u=mu(o,"padding");e=a.width-u.width-l.width,r=a.height-u.height-l.height,n=ly(o.maxWidth,s,"clientWidth"),i=ly(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||ay,maxHeight:i||ay}}const Ig=t=>Math.round(t*10)/10;function wIe(t,e,r,n){const i=G1(t),s=mu(i,"margin"),a=ly(i.maxWidth,t,"clientWidth")||ay,o=ly(i.maxHeight,t,"clientHeight")||ay,l=bIe(t,e,r);let{width:u,height:c}=l;if(i.boxSizing==="content-box"){const h=mu(i,"border","width"),d=mu(i,"padding");u-=d.width+h.width,c-=d.height+h.height}return u=Math.max(0,u-s.width),c=Math.max(0,n?u/n:c-s.height),u=Ig(Math.min(u,a,l.maxWidth)),c=Ig(Math.min(c,o,l.maxHeight)),u&&!c&&(c=Ig(u/2)),(e!==void 0||r!==void 0)&&n&&l.height&&c>l.height&&(c=l.height,u=Ig(Math.floor(c*n))),{width:u,height:c}}function r4(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const _Ie=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Y2()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function n4(t,e){const r=gIe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Gl(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function EIe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function SIe(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=Gl(t,i,r),o=Gl(i,s,r),l=Gl(s,e,r),u=Gl(a,o,r),c=Gl(o,l,r);return Gl(u,c,r)}const AIe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},NIe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ef(t,e,r){return t?AIe(e,r):NIe()}function qz(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Hz(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Wz(t){return t==="angle"?{between:bm,compare:AMe,normalize:us}:{between:Mo,compare:(e,r)=>e-r,normalize:e=>e}}function i4({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function TIe(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=Wz(n),l=e.length;let{start:u,end:c,loop:f}=t,h,d;if(f){for(u+=l,c+=l,h=0,d=l;h<d&&a(o(e[u%l][n]),i,s);++h)u--,c--;u%=l,c%=l}return c<u&&(c+=l),{start:u,end:c,loop:f,style:t.style}}function DIe(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:u}=Wz(n),{start:c,end:f,loop:h,style:d}=TIe(t,e,r),m=[];let p=!1,g=null,v,b,y;const x=()=>l(i,y,v)&&o(i,y)!==0,w=()=>o(s,v)===0||l(s,y,v),E=()=>p||x(),S=()=>!p||w();for(let A=c,N=c;A<=f;++A)b=e[A%a],!b.skip&&(v=u(b[n]),v!==y&&(p=l(v,i,s),g===null&&E()&&(g=o(v,i)===0?A:N),g!==null&&S()&&(m.push(i4({start:g,end:A,loop:h,count:a,style:d})),g=null),N=A,y=v));return g!==null&&m.push(i4({start:g,end:f,loop:h,count:a,style:d})),m}function CIe(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=DIe(n[i],t.points,e);s.length&&r.push(...s)}return r}function MIe(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function IIe(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%i];u.skip||u.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function PIe(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=MIe(r,i,s,n);if(n===!0)return s4(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,u=!!t._fullLoop&&a===0&&o===i-1;return s4(t,IIe(r,a,l,u),r,e)}function s4(t,e,r,n){return!n||!n.setContext||!r?e:kIe(t,e,r,n)}function kIe(t,e,r,n){const i=t._chart.getContext(),s=a4(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,u=[];let c=s,f=e[0].start,h=f;function d(m,p,g,v){const b=o?-1:1;if(m!==p){for(m+=l;r[m%l].skip;)m-=b;for(;r[p%l].skip;)p+=b;m%l!==p%l&&(u.push({start:m%l,end:p%l,loop:g,style:v}),c=v,f=p%l)}}for(const m of e){f=o?f:m.start;let p=r[f%l],g;for(h=f+1;h<=m.end;h++){const v=r[h%l];g=a4(n.setContext(Zu(i,{type:"segment",p0:p,p1:v,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:a}))),RIe(g,c)&&d(f,h-1,m.loop,c),p=v,c=g}f<h-1&&d(f,h-1,m.loop,c)}return u}function a4(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function RIe(t,e){if(!e)return!1;const r=[],n=function(i,s){return z2(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Pg(t,e,r){return t.options.clip?t[r]:e[r]}function OIe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Pg(r,e,"left"),right:Pg(r,e,"right"),top:Pg(n,e,"top"),bottom:Pg(n,e,"bottom")}:e}function FIe(t,e){const r=e._clip;if(r.disabled)return!1;const n=OIe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class BIe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Rz.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var pa=new BIe;const o4="transparent",LIe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=Q3(t||o4),i=n.valid&&Q3(e||o4);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class VIe{constructor(e,r,n,i){const s=r[n];i=Cg([e.to,i,s,e.from]);const a=Cg([e.from,s,i]);this._active=!0,this._fn=e.fn||LIe[e.type||typeof a],this._easing=Sd[e.easing]||Sd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Cg([e.to,r,i,e.from]),this._from=Cg([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class Gz{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!kt(e))return;const r=Object.keys(Dr.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!kt(s))return;const a={};for(const o of r)a[o]=s[o];(Vr(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=zIe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&$Ie(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}const c=r[u];let f=s[u];const h=n.get(u);if(f)if(h&&f.active()){f.update(h,c,o);continue}else f.cancel();if(!h||!h.duration){e[u]=c;continue}s[u]=f=new VIe(h,e,u,c),i.push(f)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return pa.add(this._chart,n),!0}}function $Ie(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function zIe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function l4(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function jIe(t,e,r){if(r===!1)return!1;const n=l4(t,r),i=l4(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function UIe(t){let e,r,n,i;return kt(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function Kz(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function u4(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,u;if(e===null)return;let c=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(c=!0,n.all)continue;break}u=t.values[l],Ji(u)&&(s||e===0||Xs(e)===Xs(u))&&(e+=u)}return!c&&!n.all?0:e}function qIe(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,c;for(l=0,u=a.length;l<u;++l)c=a[l],o[l]={[i]:c,[s]:t[c]};return o}function Tb(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function HIe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function WIe(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function GIe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function c4(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function f4(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,u=a.axis,c=HIe(s,a,n),f=e.length;let h;for(let d=0;d<f;++d){const m=e[d],{[l]:p,[u]:g}=m,v=m._stacks||(m._stacks={});h=v[u]=GIe(i,c,p),h[o]=g,h._top=c4(h,a,!0,n.type),h._bottom=c4(h,a,!1,n.type);const b=h._visualValues||(h._visualValues={});b[o]=g}}function Db(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function KIe(t,e){return Zu(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function YIe(t,e,r){return Zu(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Th(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const Cb=t=>t==="reset"||t==="none",h4=(t,e)=>e?t:Object.assign({},t),QIe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:Kz(r,!0),values:null};class pu{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Tb(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Th(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(f,h,d,m)=>f==="x"?h:f==="r"?m:d,s=r.xAxisID=bt(n.xAxisID,Db(e,"x")),a=r.yAxisID=bt(n.yAxisID,Db(e,"y")),o=r.rAxisID=bt(n.rAxisID,Db(e,"r")),l=r.indexAxis,u=r.iAxisID=i(l,s,a,o),c=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&G3(this._data,this),e._stacked&&Th(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(kt(r)){const i=this._cachedMeta;this._data=qIe(r,i)}else if(n!==r){if(n){G3(n,this);const i=this._cachedMeta;Th(i),i._parsed=[]}r&&Object.isExtensible(r)&&CMe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=Tb(r.vScale,r),r.stack!==n.stack&&(i=!0,Th(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(f4(this,r._parsed),r._stacked=Tb(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,h;if(this._parsing===!1)n._parsed=i,n._sorted=!0,h=i;else{Vr(i[e])?h=this.parseArrayData(n,i,e,r):kt(i[e])?h=this.parseObjectData(n,i,e,r):h=this.parsePrimitiveData(n,i,e,r);const d=()=>f[o]===null||u&&f[o]<u[o];for(c=0;c<r;++c)n._parsed[c+e]=f=h[c],l&&(d()&&(l=!1),u=f);n._sorted=l}a&&f4(this,h)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,u=s.getLabels(),c=s===a,f=new Array(i);let h,d,m;for(h=0,d=i;h<d;++h)m=h+n,f[h]={[o]:c||s.parse(u[m],m),[l]:a.parse(r[m],m)};return f}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,u,c,f;for(l=0,u=i;l<u;++l)c=l+n,f=r[c],o[l]={x:s.parse(f[0],c),y:a.parse(f[1],c)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let c,f,h,d;for(c=0,f=i;c<f;++c)h=c+n,d=r[h],u[c]={x:s.parse(Cu(d,o),h),y:a.parse(Cu(d,l),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:Kz(i,!0),values:r._stacks[e.axis]._visualValues};return u4(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=u4(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=QIe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=WIe(o);let h,d;function m(){d=i[h];const p=d[o.axis];return!Ji(d[e.axis])||c>p||f<p}for(h=0;h<a&&!(!m()&&(this.updateRangeFromParsed(u,e,d,l),s));++h);if(s){for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(u,e,d,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],Ji(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=UIe(bt(this.options.clip,jIe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,l),c=o;c<o+l;++c){const f=i[c];f.hidden||(f.active&&u?a.push(f):f.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=YIe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=KIe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&ym(n);if(o)return h4(o,l);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=i?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),c),d=Object.keys(Dr.elements[e]),m=()=>this.getContext(n,i,r),p=u.resolveNamedOptions(h,d,m,f);return p.$shared&&(p.$shared=l,s[a]=Object.freeze(h4(p,l))),p}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,r),h=c.getOptionScopes(this.getDataset(),f);l=c.createResolver(h,this.getContext(e,n,r))}const u=new Gz(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||Cb(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){Cb(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!Cb(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=u=>{for(u.length+=r,o=u.length-1;o>=a;o--)u[o]=u[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&Th(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}je(pu,"defaults",{}),je(pu,"datasetElementType",null),je(pu,"dataElementType",null);function XIe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=kz(n.sort((i,s)=>i-s))}return t._cache.$bar}function JIe(t){const e=t.iScale,r=XIe(e,t.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(ym(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=r.length;i<s;++i)a=e.getPixelForValue(r[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function ZIe(t,e,r,n){const i=r.barThickness;let s,a;return zt(i)?(s=e.min*r.categoryPercentage,a=r.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[t]-s/2}}function ePe(t,e,r,n){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const u=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:u}}function tPe(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[r.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:s,min:a,max:o}}function Yz(t,e,r,n){return Vr(t)?tPe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function d4(t,e,r,n){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let u,c,f,h;for(u=r,c=r+n;u<c;++u)h=e[u],f={},f[i.axis]=o||i.parse(a[u],u),l.push(Yz(h,f,s,u));return l}function Mb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function rPe(t,e,r){return t!==0?Xs(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function nPe(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function iPe(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:c}=nPe(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=u:(r._bottom||0)===n?i=c:(s[m4(c,a,o,l)]=!0,i=u)),s[m4(i,a,o,l)]=!0,t.borderSkipped=s}function m4(t,e,r,n){return n?(t=sPe(t,e,r),t=p4(t,r,e)):t=p4(t,e,r),t}function sPe(t,e,r){return t===e?r:t===r?e:t}function p4(t,e,r){return t==="start"?e:t==="end"?r:t}function aPe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class mv extends pu{parsePrimitiveData(e,r,n,i){return d4(e,r,n,i)}parseArrayData(e,r,n,i){return d4(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?o:l,c=a.axis==="x"?o:l,f=[];let h,d,m,p;for(h=n,d=n+i;h<d;++h)p=r[h],m={},m[s.axis]=s.parse(Cu(p,u),h),f.push(Yz(Cu(p,c),m,a,h));return f}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),a=s._custom,o=Mb(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(r,i);for(let d=r;d<r+n;d++){const m=this.getParsed(d),p=s||zt(m[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),g=this._calculateBarIndexPixels(d,c),v=(m._stacks||{})[o.axis],b={horizontal:u,base:p.base,enableBorderRadius:!v||Mb(m._custom)||a===v._top||a===v._bottom,x:u?p.head:g.center,y:u?g.center:p.head,height:u?g.size:Math.abs(p.size),width:u?Math.abs(p.size):g.size};h&&(b.options=f||this.resolveDataElementOptions(d,e[d].active?"active":i));const y=b.options||e[d].options;iPe(b,y,v,a),aPe(b,y,c.ratio),this.updateElement(e[d],d,b,i)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],u=c=>{const f=c._parsed.find(d=>d[n.axis]===l),h=f&&f[c.vScale.axis];if(zt(h)||isNaN(h))return!0};for(const c of i)if(!(r!==void 0&&u(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[bt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,a;for(s=0,a=r.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||JIe(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),u=l._custom,c=Mb(u);let f=l[r.axis],h=0,d=n?this.applyStack(r,l,n):f,m,p;d!==f&&(h=d-f,d=f),c&&(f=u.barStart,d=u.barEnd-u.barStart,f!==0&&Xs(f)!==Xs(u.barEnd)&&(h=0),h+=f);const g=!zt(s)&&!c?s:h;let v=r.getPixelForValue(g);if(this.chart.getDataVisibility(e)?m=r.getPixelForValue(h+d):m=v,p=m-v,Math.abs(p)<a){p=rPe(p,r,o)*a,f===o&&(v-=p/2);const b=r.getPixelForDecimal(0),y=r.getPixelForDecimal(1),x=Math.min(b,y),w=Math.max(b,y);v=Math.max(Math.min(v,w),x),m=v+p,n&&!c&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(m)-r.getValueForPixel(v))}if(v===r.getPixelForValue(o)){const b=Xs(p)*r.getLineWidthForValue(o)/2;v+=b,p-=b}return{size:p,base:v,head:m,center:m+p/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,a=bt(i.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(r.grouped){const c=s?this._getStackCount(e):r.stackCount,f=i.barThickness==="flex"?ePe(e,r,i,c*u):ZIe(e,r,i,c*u),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,d=this._getAxis().indexOf(bt(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+d;o=f.start+f.chunk*m+f.chunk/2,l=Math.min(a,f.chunk*f.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}je(mv,"id","bar"),je(mv,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),je(mv,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function oPe(t,e,r){let n=1,i=1,s=0,a=0;if(e<wr){const o=t,l=o+e,u=Math.cos(o),c=Math.sin(o),f=Math.cos(l),h=Math.sin(l),d=(y,x,w)=>bm(y,o,l,!0)?1:Math.max(x,x*r,w,w*r),m=(y,x,w)=>bm(y,o,l,!0)?-1:Math.min(x,x*r,w,w*r),p=d(0,u,f),g=d(zr,c,h),v=m(Ht,u,f),b=m(Ht+zr,c,h);n=(p-v)/2,i=(g-b)/2,s=-(p+v)/2,a=-(g+b)/2}return{ratioX:n,ratioY:i,offsetX:s,offsetY:a}}class Kh extends pu{constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let s=l=>+n[l];if(kt(n[e])){const{key:l="value"}=this._parsing;s=u=>+Cu(n[u],l)}let a,o;for(a=e,o=e+r;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return Ca(this.options.rotation-90)}_getCircumference(){return Ca(this.options.circumference)}_getRotationExtents(){let e=wr,r=-wr;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),r=Math.max(r,s+a)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),l=Math.min(hMe(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:m,offsetY:p}=oPe(f,c,l),g=(n.width-a)/h,v=(n.height-a)/d,b=Math.max(Math.min(g,v)/2,0),y=Dz(this.options.radius,b),x=Math.max(y*l,0),w=(y-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=p*y,i.total=this.calculateTotal(),this.outerRadius=y-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,r){const n=this.options,i=this._cachedMeta,s=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/wr)}updateElements(e,r,n,i){const s=i==="reset",a=this.chart,o=a.chartArea,u=a.options.animation,c=(o.left+o.right)/2,f=(o.top+o.bottom)/2,h=s&&u.animateScale,d=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(r,i);let v=this._getRotation(),b;for(b=0;b<r;++b)v+=this._circumference(b,s);for(b=r;b<r+n;++b){const y=this._circumference(b,s),x=e[b],w={x:c+this.offsetX,y:f+this.offsetY,startAngle:v,endAngle:v+y,circumference:y,outerRadius:m,innerRadius:d};g&&(w.options=p||this.resolveDataElementOptions(b,x.active?"active":i)),v+=y,this.updateElement(x,b,w,i)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,i;for(i=0;i<r.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!r[i].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?wr*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,i=n.data.labels||[],s=j2(r._parsed[e],n.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let r=0;const n=this.chart;let i,s,a,o,l;if(!e){for(i=0,s=n.data.datasets.length;i<s;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)l=o.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(r=Math.max(r,l.borderWidth||0,l.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,i=e.length;n<i;++n){const s=this.resolveDataElementOptions(n);r=Math.max(r,s.offset||0,s.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(bt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}je(Kh,"id","doughnut"),je(Kh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),je(Kh,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),je(Kh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return r.labels.map((s,a)=>{const l=e.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}});class pv extends pu{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=PMe(r,i,a);this._drawStart=o,this._drawCount=l,kMe(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:u},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(r,i),h=a.axis,d=o.axis,{spanGaps:m,segment:p}=this.options,g=xm(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none",b=r+n,y=e.length;let x=r>0&&this.getParsed(r-1);for(let w=0;w<y;++w){const E=e[w],S=v?E:{};if(w<r||w>=b){S.skip=!0;continue}const A=this.getParsed(w),N=zt(A[d]),D=S[h]=a.getPixelForValue(A[h],w),C=S[d]=s||N?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,A,l):A[d],w);S.skip=isNaN(D)||isNaN(C)||N,S.stop=w>0&&Math.abs(A[h]-x[h])>g,p&&(S.parsed=A,S.raw=u.data[w]),f&&(S.options=c||this.resolveDataElementOptions(w,E.active?"active":i)),v||this.updateElement(E,w,S,i),x=A}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}je(pv,"id","line"),je(pv,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),je(pv,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Ll(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class X2{constructor(e){je(this,"options");this.options=e||{}}static override(e){Object.assign(X2.prototype,e)}init(){}formats(){return Ll()}parse(){return Ll()}format(){return Ll()}add(){return Ll()}diff(){return Ll()}startOf(){return Ll()}endOf(){return Ll()}}var lPe={_date:X2};function uPe(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const u=o._reversePixels?TMe:ou;if(n){if(i._sharedOptions){const c=s[0],f=typeof c.getRange=="function"&&c.getRange(e);if(f){const h=u(s,e,r-f),d=u(s,e,r+f);return{lo:h.lo,hi:d.hi}}}}else{const c=u(s,e,r);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=t,d=h.slice(0,c.lo+1).reverse().findIndex(p=>!zt(p[f.axis]));c.lo-=Math.max(0,d);const m=h.slice(c.hi).findIndex(p=>!zt(p[f.axis]));c.hi+=Math.max(0,m)}return c}}return{lo:0,hi:s.length-1}}function K1(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:u,data:c}=s[o],{lo:f,hi:h}=uPe(s[o],e,a,i);for(let d=f;d<=h;++d){const m=c[d];m.skip||n(m,u,d)}}}function cPe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Ib(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||K1(t,r,e,function(o,l,u){!i&&!wm(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:u})},!0),s}function fPe(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:u,endAngle:c}=a.getProps(["startAngle","endAngle"],n),{angle:f}=Iz(a,{x:e.x,y:e.y});bm(f,u,c)&&i.push({element:a,datasetIndex:o,index:l})}return K1(t,r,e,s),i}function hPe(t,e,r,n,i,s){let a=[];const o=cPe(r);let l=Number.POSITIVE_INFINITY;function u(c,f,h){const d=c.inRange(e.x,e.y,i);if(n&&!d)return;const m=c.getCenterPoint(i);if(!(!!s||t.isPointInArea(m))&&!d)return;const g=o(e,m);g<l?(a=[{element:c,datasetIndex:f,index:h}],l=g):g===l&&a.push({element:c,datasetIndex:f,index:h})}return K1(t,r,e,u),a}function Pb(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?fPe(t,e,r,i):hPe(t,e,r,n,i,s)}function g4(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return K1(t,r,e,(l,u,c)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:u,index:c}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var dPe={modes:{index(t,e,r,n){const i=Wl(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?Ib(t,i,s,n,a):Pb(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,f=u.data[c];f&&!f.skip&&l.push({element:f,datasetIndex:u.index,index:c})}),l):[]},dataset(t,e,r,n){const i=Wl(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?Ib(t,i,s,n,a):Pb(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:l,index:c})}return o},point(t,e,r,n){const i=Wl(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return Ib(t,i,s,n,a)},nearest(t,e,r,n){const i=Wl(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return Pb(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=Wl(e,t);return g4(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=Wl(e,t);return g4(t,i,"y",r.intersect,n)}}};const Qz=["left","top","right","bottom"];function Dh(t,e){return t.filter(r=>r.pos===e)}function v4(t,e){return t.filter(r=>Qz.indexOf(r.pos)===-1&&r.box.axis===e)}function Ch(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function mPe(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function pPe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!Qz.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function gPe(t,e){const r=pPe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,u=r[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=c?c*i:l&&e.availableHeight)}return r}function vPe(t){const e=mPe(t),r=Ch(e.filter(u=>u.box.fullSize),!0),n=Ch(Dh(e,"left"),!0),i=Ch(Dh(e,"right")),s=Ch(Dh(e,"top"),!0),a=Ch(Dh(e,"bottom")),o=v4(e,"x"),l=v4(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:Dh(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function y4(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function Xz(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function yPe(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!kt(i)){r.size&&(t[i]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?s.height:s.width),r.size=f.size/f.count,t[i]+=r.size}s.getPadding&&Xz(a,s.getPadding());const o=Math.max(0,e.outerWidth-y4(a,t,"left","right")),l=Math.max(0,e.outerHeight-y4(a,t,"top","bottom")),u=o!==t.w,c=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:u,other:c}:{same:c,other:u}}function xPe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function bPe(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function Yh(t,e,r,n){const i=[];let s,a,o,l,u,c;for(s=0,a=t.length,u=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,bPe(o.horizontal,e));const{same:f,other:h}=yPe(e,r,o,n);u|=f&&i.length,c=c||h,l.fullSize||i.push(o)}return u&&Yh(i,e,r,n)||c}function kg(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function x4(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,u=n[o.stack]||{placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*c,h=u.size||l.height;ym(u.start)&&(a=u.start),l.fullSize?kg(l,i.left,a,r.outerWidth-i.right-i.left,h):kg(l,e.left+u.placed,a,f,h),u.start=a,u.placed+=f,a=l.bottom}else{const f=e.h*c,h=u.size||l.width;ym(u.start)&&(s=u.start),l.fullSize?kg(l,s,i.top,h,r.outerHeight-i.bottom-i.top):kg(l,s,e.top+u.placed,h,f),u.start=s,u.placed+=f,s=l.right}}e.x=s,e.y=a}var Ui={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=Zi(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=vPe(t.boxes),l=o.vertical,u=o.horizontal;jt(t.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const c=l.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/c,hBoxMaxHeight:a/2}),h=Object.assign({},i);Xz(h,Zi(n));const d=Object.assign({maxPadding:h,w:s,h:a,x:i.left,y:i.top},i),m=gPe(l.concat(u),f);Yh(o.fullSize,d,f,m),Yh(l,d,f,m),Yh(u,d,f,m)&&Yh(l,d,f,m),xPe(d),x4(o.leftAndTop,d,f,m),d.x+=d.w,d.y+=d.h,x4(o.rightAndBottom,d,f,m),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},jt(o.chartArea,p=>{const g=p.box;Object.assign(g,t.chartArea),g.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class Jz{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class wPe extends Jz{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const gv="$chartjs",_Pe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},b4=t=>t===null||t==="";function EPe(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[gv]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",b4(i)){const s=n4(t,"width");s!==void 0&&(t.width=s)}if(b4(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=n4(t,"height");s!==void 0&&(t.height=s)}return t}const Zz=_Ie?{passive:!0}:!1;function SPe(t,e,r){t&&t.addEventListener(e,r,Zz)}function APe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,Zz)}function NPe(t,e){const r=_Pe[t.type]||t.type,{x:n,y:i}=Wl(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function uy(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function TPe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||uy(o.addedNodes,n),a=a&&!uy(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function DPe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||uy(o.removedNodes,n),a=a&&!uy(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const Em=new Map;let w4=0;function ej(){const t=window.devicePixelRatio;t!==w4&&(w4=t,Em.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function CPe(t,e){Em.size||window.addEventListener("resize",ej),Em.set(t,e)}function MPe(t){Em.delete(t),Em.size||window.removeEventListener("resize",ej)}function IPe(t,e,r){const n=t.canvas,i=n&&Q2(n);if(!i)return;const s=Oz((o,l)=>{const u=i.clientWidth;r(o,l),u<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,c=l.contentRect.height;u===0&&c===0||s(u,c)});return a.observe(i),CPe(t,s),a}function kb(t,e,r){r&&r.disconnect(),e==="resize"&&MPe(t)}function PPe(t,e,r){const n=t.canvas,i=Oz(s=>{t.ctx!==null&&r(NPe(s,t))},t);return SPe(n,e,i),i}class kPe extends Jz{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(EPe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[gv])return!1;const n=r[gv].initial;["height","width"].forEach(s=>{const a=n[s];zt(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[gv],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:TPe,detach:DPe,resize:IPe}[r]||PPe;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:kb,detach:kb,resize:kb}[r]||APe)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return wIe(e,r,n,i)}isAttached(e){const r=e&&Q2(e);return!!(r&&r.isConnected)}}function RPe(t){return!Y2()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?wPe:kPe}var Vg;let to=(Vg=class{constructor(){je(this,"x");je(this,"y");je(this,"active",!1);je(this,"options");je(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return xm(this.x)&&xm(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},je(Vg,"defaults",{}),je(Vg,"defaultRoutes"),Vg);function OPe(t,e){const r=t.options.ticks,n=FPe(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?LPe(e):[],a=s.length,o=s[0],l=s[a-1],u=[];if(a>i)return VPe(e,u,s,a/i),u;const c=BPe(s,e,i);if(a>0){let f,h;const d=a>1?Math.round((l-o)/(a-1)):null;for(Rg(e,u,c,zt(d)?0:o-d,o),f=0,h=a-1;f<h;f++)Rg(e,u,c,s[f],s[f+1]);return Rg(e,u,c,l,zt(d)?e.length:l+d),u}return Rg(e,u,c),u}function FPe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function BPe(t,e,r){const n=$Pe(t),i=e.length/r;if(!n)return Math.max(i,1);const s=bMe(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function LPe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function VPe(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function Rg(t,e,r,n,i){const s=bt(n,0),a=Math.min(bt(i,t.length),t.length);let o=0,l,u,c;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),c=s;c<0;)o++,c=Math.round(s+o*r);for(u=Math.max(s,0);u<a;u++)u===c&&(e.push(t[u]),o++,c=Math.round(s+o*r))}function $Pe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const zPe=t=>t==="left"?"right":t==="right"?"left":t,_4=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,E4=(t,e)=>Math.min(e||t,t);function S4(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function jPe(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(l-s,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-o||l>a+o)))return l}function UPe(t,e){jt(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function Mh(t){return t.drawTicks?t.tickLength:0}function A4(t,e){if(!t.display)return 0;const r=Pn(t.font,e),n=Zi(t.padding);return(Vr(t.text)?t.text.length:1)*r.lineHeight+n.height}function qPe(t,e){return Zu(t,{scale:e,type:"scale"})}function HPe(t,e,r){return Zu(t,{tick:r,index:e,type:"tick"})}function WPe(t,e,r){let n=$2(t);return(r&&e!=="right"||!r&&e==="right")&&(n=zPe(n)),n}function GPe(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:c}=l;let f=0,h,d,m;const p=a-i,g=o-s;if(t.isHorizontal()){if(d=Sn(n,s,o),kt(r)){const v=Object.keys(r)[0],b=r[v];m=c[v].getPixelForValue(b)+p-e}else r==="center"?m=(u.bottom+u.top)/2+p-e:m=_4(t,r,e);h=o-s}else{if(kt(r)){const v=Object.keys(r)[0],b=r[v];d=c[v].getPixelForValue(b)-g+e}else r==="center"?d=(u.left+u.right)/2-g+e:d=_4(t,r,e);m=Sn(n,a,i),f=r==="left"?-zr:zr}return{titleX:d,titleY:m,maxWidth:h,rotation:f}}class nh extends to{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=Ps(e,Number.POSITIVE_INFINITY),r=Ps(r,Number.NEGATIVE_INFINITY),n=Ps(n,Number.POSITIVE_INFINITY),i=Ps(i,Number.NEGATIVE_INFINITY),{min:Ps(e,n),max:Ps(r,i),minDefined:Ji(e),maxDefined:Ji(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:Ps(r,Ps(n,r)),max:Ps(n,Ps(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){nr(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ZMe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?S4(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=OPe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){nr(this.options.afterUpdate,[this])}beforeSetDimensions(){nr(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){nr(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),nr(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){nr(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=nr(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){nr(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){nr(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=E4(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),f=c.widest.width,h=c.highest.height,d=In(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/n:d/(n-1),f+6>o&&(o=d/(n-(e.offset?.5:1)),l=this.maxHeight-Mh(e.grid)-r.padding-A4(e.title,this.chart.options.font),u=Math.sqrt(f*f+h*h),a=SMe(Math.min(Math.asin(In((c.highest.height+6)/o,-1,1)),Math.asin(In(l/u,-1,1))-Math.asin(In(h/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){nr(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){nr(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=A4(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=Mh(s)+l):(e.height=this.maxHeight,e.width=Mh(s)+l),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:h}=this._getLabelSizes(),d=n.padding*2,m=Ca(this.labelRotation),p=Math.cos(m),g=Math.sin(m);if(o){const v=n.mirror?0:g*f.width+p*h.height;e.height=Math.min(this.maxHeight,e.height+v+d)}else{const v=n.mirror?0:p*f.width+g*h.height;e.width=Math.min(this.maxWidth,e.width+v+d)}this._calculatePadding(u,c,g,p)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,d=0;l?u?(h=i*e.width,d=n*r.height):(h=n*e.height,d=i*r.width):s==="start"?d=r.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,d=r.width/2),this.paddingLeft=Math.max((h-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((d-f+a)*this.width/(this.width-f),0)}else{let c=r.height/2,f=e.height/2;s==="start"?(c=0,f=e.height):s==="end"&&(c=r.height,f=0),this.paddingTop=c+a,this.paddingBottom=f+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){nr(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)zt(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=S4(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/E4(r,n));let u=0,c=0,f,h,d,m,p,g,v,b,y,x,w;for(f=0;f<r;f+=l){if(m=e[f].label,p=this._resolveTickFontOptions(f),i.font=g=p.string,v=s[g]=s[g]||{data:{},gc:[]},b=p.lineHeight,y=x=0,!zt(m)&&!Vr(m))y=J3(i,v.data,v.gc,y,m),x=b;else if(Vr(m))for(h=0,d=m.length;h<d;++h)w=m[h],!zt(w)&&!Vr(w)&&(y=J3(i,v.data,v.gc,y,w),x+=b);a.push(y),o.push(x),u=Math.max(y,u),c=Math.max(x,c)}UPe(s,r);const E=a.indexOf(u),S=o.indexOf(c),A=N=>({width:a[N]||0,height:o[N]||0});return{first:A(0),last:A(r-1),widest:A(E),highest:A(S),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return NMe(this._alignToPixels?Bl(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=HPe(this.getContext(),e,n))}return this.$context||(this.$context=qPe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Ca(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,u=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=Mh(s),d=[],m=o.setContext(this.getContext()),p=m.display?m.width:0,g=p/2,v=function(k){return Bl(n,k,p)};let b,y,x,w,E,S,A,N,D,C,M,I;if(a==="top")b=v(this.bottom),S=this.bottom-h,N=b-g,C=v(e.top)+g,I=e.bottom;else if(a==="bottom")b=v(this.top),C=e.top,I=v(e.bottom)-g,S=b+g,N=this.top+h;else if(a==="left")b=v(this.right),E=this.right-h,A=b-g,D=v(e.left)+g,M=e.right;else if(a==="right")b=v(this.left),D=e.left,M=v(e.right)-g,E=b+g,A=this.left+h;else if(r==="x"){if(a==="center")b=v((e.top+e.bottom)/2+.5);else if(kt(a)){const k=Object.keys(a)[0],L=a[k];b=v(this.chart.scales[k].getPixelForValue(L))}C=e.top,I=e.bottom,S=b+g,N=S+h}else if(r==="y"){if(a==="center")b=v((e.left+e.right)/2);else if(kt(a)){const k=Object.keys(a)[0],L=a[k];b=v(this.chart.scales[k].getPixelForValue(L))}E=b-g,A=E-h,D=e.left,M=e.right}const z=bt(i.ticks.maxTicksLimit,f),V=Math.max(1,Math.ceil(f/z));for(y=0;y<f;y+=V){const k=this.getContext(y),L=s.setContext(k),B=o.setContext(k),$=L.lineWidth,Y=L.color,ie=B.dash||[],O=B.dashOffset,q=L.tickWidth,j=L.tickColor,me=L.tickBorderDash||[],ue=L.tickBorderDashOffset;x=jPe(this,y,l),x!==void 0&&(w=Bl(n,x,$),u?E=A=D=M=w:S=N=C=I=w,d.push({tx1:E,ty1:S,tx2:A,ty2:N,x1:D,y1:C,x2:M,y2:I,width:$,color:Y,borderDash:ie,borderDashOffset:O,tickWidth:q,tickColor:j,tickBorderDash:me,tickBorderDashOffset:ue}))}return this._ticksLength=f,this._borderValue=b,d}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:c,mirror:f}=s,h=Mh(n.grid),d=h+c,m=f?-c:d,p=-Ca(this.labelRotation),g=[];let v,b,y,x,w,E,S,A,N,D,C,M,I="middle";if(i==="top")E=this.bottom-m,S=this._getXAxisLabelAlignment();else if(i==="bottom")E=this.top+m,S=this._getXAxisLabelAlignment();else if(i==="left"){const V=this._getYAxisLabelAlignment(h);S=V.textAlign,w=V.x}else if(i==="right"){const V=this._getYAxisLabelAlignment(h);S=V.textAlign,w=V.x}else if(r==="x"){if(i==="center")E=(e.top+e.bottom)/2+d;else if(kt(i)){const V=Object.keys(i)[0],k=i[V];E=this.chart.scales[V].getPixelForValue(k)+d}S=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")w=(e.left+e.right)/2-d;else if(kt(i)){const V=Object.keys(i)[0],k=i[V];w=this.chart.scales[V].getPixelForValue(k)}S=this._getYAxisLabelAlignment(h).textAlign}r==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const z=this._getLabelSizes();for(v=0,b=o.length;v<b;++v){y=o[v],x=y.label;const V=s.setContext(this.getContext(v));A=this.getPixelForTick(v)+s.labelOffset,N=this._resolveTickFontOptions(v),D=N.lineHeight,C=Vr(x)?x.length:1;const k=C/2,L=V.color,B=V.textStrokeColor,$=V.textStrokeWidth;let Y=S;a?(w=A,S==="inner"&&(v===b-1?Y=this.options.reverse?"left":"right":v===0?Y=this.options.reverse?"right":"left":Y="center"),i==="top"?u==="near"||p!==0?M=-C*D+D/2:u==="center"?M=-z.highest.height/2-k*D+D:M=-z.highest.height+D/2:u==="near"||p!==0?M=D/2:u==="center"?M=z.highest.height/2-k*D:M=z.highest.height-C*D,f&&(M*=-1),p!==0&&!V.showLabelBackdrop&&(w+=D/2*Math.sin(p))):(E=A,M=(1-C)*D/2);let ie;if(V.showLabelBackdrop){const O=Zi(V.backdropPadding),q=z.heights[v],j=z.widths[v];let me=M-O.top,ue=0-O.left;switch(I){case"middle":me-=q/2;break;case"bottom":me-=q;break}switch(S){case"center":ue-=j/2;break;case"right":ue-=j;break;case"inner":v===b-1?ue-=j:v>0&&(ue-=j/2);break}ie={left:ue,top:me,width:j+O.width,height:q+O.height,color:V.backdropColor}}g.push({label:x,font:N,textOffset:M,options:{rotation:p,color:L,strokeColor:B,strokeWidth:$,textAlign:Y,textBaseline:I,translation:[w,E],backdrop:ie}})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Ca(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let u,c;return r==="left"?i?(c=this.right+s,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c+=l)):(c=this.right-o,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c=this.left)):r==="right"?i?(c=this.left+s,n==="near"?u="right":n==="center"?(u="center",c-=l/2):(u="left",c-=l)):(c=this.left+o,n==="near"?u="left":n==="center"?(u="center",c+=l/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,c,f,h;this.isHorizontal()?(u=Bl(e,this.left,a)-a/2,c=Bl(e,this.right,o)+o/2,f=h=l):(f=Bl(e,this.top,a)-a/2,h=Bl(e,this.bottom,o)+o/2,u=c=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,f),r.lineTo(c,h),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&U2(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,u=a.label,c=a.textOffset;_m(n,u,0,c,l,o)}i&&q2(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=Pn(n.font),a=Zi(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||kt(r)?(l+=a.bottom,Vr(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:u,titleY:c,maxWidth:f,rotation:h}=GPe(this,l,r,o);_m(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:h,textAlign:WPe(o,r,i),textBaseline:"middle",translation:[u,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=bt(e.grid&&e.grid.z,-1),i=bt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==nh.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Pn(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Og{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;QPe(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,KPe(e,a,n),this.override&&Dr.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in Dr[i]&&(delete Dr[i][n],this.override&&delete Mu[n])}}function KPe(t,e,r){const n=vm(Object.create(null),[r?Dr.get(r):{},Dr.get(e),t.defaults]);Dr.set(e,n),t.defaultRoutes&&YPe(e,t.defaultRoutes),t.descriptors&&Dr.describe(e,t.descriptors)}function YPe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");Dr.route(s,i,l,o)})}function QPe(t){return"id"in t&&"defaults"in t}class XPe{constructor(){this.controllers=new Og(pu,"datasets",!0),this.elements=new Og(to,"elements"),this.plugins=new Og(Object,"plugins"),this.scales=new Og(nh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):jt(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=L2(e);nr(n["before"+i],[],n),r[e](n),nr(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Fs=new XPe;class JPe{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(nr(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){zt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=bt(n.options&&n.options.plugins,{}),s=ZPe(n);return i===!1&&!r?[]:tke(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function ZPe(t){const e={},r=[],n=Object.keys(Fs.plugins.items);for(let s=0;s<n.length;s++)r.push(Fs.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function eke(t,e){return!e&&t===!1?null:t===!0?{}:t}function tke(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,u=eke(n[l],i);u!==null&&s.push({plugin:o,options:rke(t.config,{plugin:o,local:r[l]},u,a)})}return s}function rke(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Z_(t,e){const r=Dr.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function nke(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function ike(t,e){return t===e?"_index_":"_value_"}function N4(t){if(t==="x"||t==="y"||t==="r")return t}function ske(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function eE(t,...e){if(N4(t))return t;for(const r of e){const n=r.axis||ske(r.position)||t.length>1&&N4(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function T4(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function ake(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return T4(t,"x",r[0])||T4(t,"y",r[0])}return{}}function oke(t,e){const r=Mu[t.type]||{scales:{}},n=e.scales||{},i=Z_(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!kt(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=eE(a,o,ake(a,t),Dr.scales[o.type]),u=ike(l,i),c=r.scales||{};s[a]=_d(Object.create(null),[{axis:l},o,c[l],c[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||Z_(o,e),c=(Mu[o]||{}).scales||{};Object.keys(c).forEach(f=>{const h=nke(f,l),d=a[h+"AxisID"]||h;s[d]=s[d]||Object.create(null),_d(s[d],[{axis:h},n[d],c[f]])})}),Object.keys(s).forEach(a=>{const o=s[a];_d(o,[Dr.scales[o.type],Dr.scale])}),s}function tj(t){const e=t.options||(t.options={});e.plugins=bt(e.plugins,{}),e.scales=oke(t,e)}function rj(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function lke(t){return t=t||{},t.data=rj(t.data),tj(t),t}const D4=new Map,nj=new Set;function Fg(t,e){let r=D4.get(t);return r||(r=e(),D4.set(t,r),nj.add(r)),r}const Ih=(t,e,r)=>{const n=Cu(e,r);n!==void 0&&t.add(n)};class uke{constructor(e){this._config=lke(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=rj(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tj(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Fg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return Fg(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return Fg(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return Fg(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(c=>{e&&(l.add(e),c.forEach(f=>Ih(l,e,f))),c.forEach(f=>Ih(l,i,f)),c.forEach(f=>Ih(l,Mu[s]||{},f)),c.forEach(f=>Ih(l,Dr,f)),c.forEach(f=>Ih(l,X_,f))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),nj.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,Mu[r]||{},Dr.datasets[r]||{},{type:r},Dr,X_]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=C4(this._resolverCache,e,i);let l=a;if(fke(a,r)){s.$shared=!1,n=ll(n)?n():n;const u=this.createResolver(e,n,o);l=Mf(a,n,u)}for(const u of r)s[u]=l[u];return s}createResolver(e,r,n=[""],i){const{resolver:s}=C4(this._resolverCache,e,n);return kt(r)?Mf(s,r,void 0,i):s}}function C4(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:W2(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const cke=t=>kt(t)&&Object.getOwnPropertyNames(t).some(e=>ll(t[e]));function fke(t,e){const{isScriptable:r,isIndexable:n}=Vz(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(ll(o)||cke(o))||a&&Vr(o))return!0}return!1}var hke="4.5.0";const dke=["top","bottom","left","right","chartArea"];function M4(t,e){return t==="top"||t==="bottom"||dke.indexOf(t)===-1&&e==="x"}function I4(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function P4(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),nr(r&&r.onComplete,[t],e)}function mke(t){const e=t.chart,r=e.options.animation;nr(r&&r.onProgress,[t],e)}function ij(t){return Y2()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const vv={},k4=t=>{const e=ij(t);return Object.values(vv).filter(r=>r.canvas===e).pop()};function pke(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function gke(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var oo;let op=(oo=class{static register(...e){Fs.add(...e),R4()}static unregister(...e){Fs.remove(...e),R4()}constructor(e,r){const n=this.config=new uke(r),i=ij(e),s=k4(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||RPe(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,c=l&&l.width;if(this.id=fMe(),this.ctx=o,this.canvas=l,this.width=c,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new JPe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=MMe(f=>this.update(f),a.resizeDelay||0),this._dataChanges=[],vv[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}pa.listen(this,"complete",P4),pa.listen(this,"progress",mke),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return zt(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Fs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():r4(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Z3(this.canvas,this.ctx),this}stop(){return pa.stop(this),this}resize(e,r){pa.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,r4(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),nr(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};jt(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=eE(a,o),u=l==="r",c=l==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),jt(s,a=>{const o=a.options,l=o.id,u=eE(l,o),c=bt(o.type,a.dtype);(o.position===void 0||M4(o.position,u)!==M4(a.dposition))&&(o.position=a.dposition),i[l]=!0;let f=null;if(l in n&&n[l].type===c)f=n[l];else{const h=Fs.getScale(c);f=new h({id:l,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(o,e)}),jt(i,(a,o)=>{a||delete n[o]}),jt(n,a=>{Ui.configure(this,a,a.options),Ui.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(I4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||Z_(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=Fs.getController(o),{datasetElementType:u,dataElementType:c}=Dr.datasets[o];Object.assign(l,{dataElementType:Fs.getElement(c),datasetElementType:u&&Fs.getElement(u)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){jt(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),a=Math.max(+f.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||jt(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(I4("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){jt(this.scales,e=>{Ui.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!U3(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;pke(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!U3(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ui.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],jt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,ll(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(pa.has(this)?this.attached&&!pa.running(this)&&pa.start(this):(this.draw(),P4({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=FIe(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&U2(r,i),e.controller.draw(),i&&q2(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return wm(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=dPe.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Zu(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);ym(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),pa.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Z3(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete vv[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};jt(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){jt(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},jt(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!iy(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,u)=>l.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=vMe(e),u=gke(e,this._lastEvent,n,l);n&&(this._lastEvent=null,nr(s.onHover,[e,o,this],this),l&&nr(s.onClick,[e,o,this],this));const c=!iy(o,i);return(c||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=u,c}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},je(oo,"defaults",Dr),je(oo,"instances",vv),je(oo,"overrides",Mu),je(oo,"registry",Fs),je(oo,"version",hke),je(oo,"getChart",k4),oo);function R4(){return jt(op.instances,t=>t._plugins.invalidate())}function vke(t,e,r){const{startAngle:n,x:i,y:s,outerRadius:a,innerRadius:o,options:l}=e,{borderWidth:u,borderJoinStyle:c}=l,f=Math.min(u/a,us(n-r));if(t.beginPath(),t.arc(i,s,a-u/2,n+f/2,r-f/2),o>0){const h=Math.min(u/o,us(n-r));t.arc(i,s,o+u/2,r-h/2,n+h/2,!0)}else{const h=Math.min(u/2,a*us(n-r));if(c==="round")t.arc(i,s,h,r-Ht/2,n+Ht/2,!0);else if(c==="bevel"){const d=2*h*h,m=-d*Math.cos(r+Ht/2)+i,p=-d*Math.sin(r+Ht/2)+s,g=d*Math.cos(n+Ht/2)+i,v=d*Math.sin(n+Ht/2)+s;t.lineTo(m,p),t.lineTo(g,v)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function yke(t,e,r){const{startAngle:n,pixelMargin:i,x:s,y:a,outerRadius:o,innerRadius:l}=e;let u=i/o;t.beginPath(),t.arc(s,a,o,n-u,r+u),l>i?(u=i/l,t.arc(s,a,l,r+u,n-u,!0)):t.arc(s,a,i,r+zr,n-zr),t.closePath(),t.clip()}function xke(t){return H2(t,["outerStart","outerEnd","innerStart","innerEnd"])}function bke(t,e,r,n){const i=xke(t.options.borderRadius),s=(r-e)/2,a=Math.min(s,n*e/2),o=l=>{const u=(r-Math.min(s,l))*n/2;return In(l,0,Math.min(s,u))};return{outerStart:o(i.outerStart),outerEnd:o(i.outerEnd),innerStart:In(i.innerStart,0,a),innerEnd:In(i.innerEnd,0,a)}}function mc(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function cy(t,e,r,n,i,s){const{x:a,y:o,startAngle:l,pixelMargin:u,innerRadius:c}=e,f=Math.max(e.outerRadius+n+r-u,0),h=c>0?c+n+r+u:0;let d=0;const m=i-l;if(n){const V=c>0?c-n:0,k=f>0?f-n:0,L=(V+k)/2,B=L!==0?m*L/(L+n):m;d=(m-B)/2}const p=Math.max(.001,m*f-r/Ht)/f,g=(m-p)/2,v=l+g+d,b=i-g-d,{outerStart:y,outerEnd:x,innerStart:w,innerEnd:E}=bke(e,h,f,b-v),S=f-y,A=f-x,N=v+y/S,D=b-x/A,C=h+w,M=h+E,I=v+w/C,z=b-E/M;if(t.beginPath(),s){const V=(N+D)/2;if(t.arc(a,o,f,N,V),t.arc(a,o,f,V,D),x>0){const $=mc(A,D,a,o);t.arc($.x,$.y,x,D,b+zr)}const k=mc(M,b,a,o);if(t.lineTo(k.x,k.y),E>0){const $=mc(M,z,a,o);t.arc($.x,$.y,E,b+zr,z+Math.PI)}const L=(b-E/h+(v+w/h))/2;if(t.arc(a,o,h,b-E/h,L,!0),t.arc(a,o,h,L,v+w/h,!0),w>0){const $=mc(C,I,a,o);t.arc($.x,$.y,w,I+Math.PI,v-zr)}const B=mc(S,v,a,o);if(t.lineTo(B.x,B.y),y>0){const $=mc(S,N,a,o);t.arc($.x,$.y,y,v-zr,N)}}else{t.moveTo(a,o);const V=Math.cos(N)*f+a,k=Math.sin(N)*f+o;t.lineTo(V,k);const L=Math.cos(D)*f+a,B=Math.sin(D)*f+o;t.lineTo(L,B)}t.closePath()}function wke(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o}=e;let l=e.endAngle;if(s){cy(t,e,r,n,l,i);for(let u=0;u<s;++u)t.fill();isNaN(o)||(l=a+(o%wr||wr))}return cy(t,e,r,n,l,i),t.fill(),l}function _ke(t,e,r,n,i){const{fullCircles:s,startAngle:a,circumference:o,options:l}=e,{borderWidth:u,borderJoinStyle:c,borderDash:f,borderDashOffset:h,borderRadius:d}=l,m=l.borderAlign==="inner";if(!u)return;t.setLineDash(f||[]),t.lineDashOffset=h,m?(t.lineWidth=u*2,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");let p=e.endAngle;if(s){cy(t,e,r,n,p,i);for(let g=0;g<s;++g)t.stroke();isNaN(o)||(p=a+(o%wr||wr))}m&&yke(t,e,p),l.selfJoin&&p-a>=Ht&&d===0&&c!=="miter"&&vke(t,e,p),s||(cy(t,e,r,n,p,i),t.stroke())}class Qh extends to{constructor(r){super();je(this,"circumference");je(this,"endAngle");je(this,"fullCircles");je(this,"innerRadius");je(this,"outerRadius");je(this,"pixelMargin");je(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.getProps(["x","y"],i),{angle:a,distance:o}=Iz(s,{x:r,y:n}),{startAngle:l,endAngle:u,innerRadius:c,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=(this.options.spacing+this.options.borderWidth)/2,m=bt(h,u-l),p=bm(a,l,u)&&l!==u,g=m>=wr||p,v=Mo(o,c+d,f+d);return g&&v}getCenterPoint(r){const{x:n,y:i,startAngle:s,endAngle:a,innerRadius:o,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],r),{offset:u,spacing:c}=this.options,f=(s+a)/2,h=(o+l+c+u)/2;return{x:n+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(r){return this.getCenterPoint(r)}draw(r){const{options:n,circumference:i}=this,s=(n.offset||0)/4,a=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>wr?Math.floor(i/wr):0,i===0||this.innerRadius<0||this.outerRadius<0)return;r.save();const l=(this.startAngle+this.endAngle)/2;r.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(Ht,i||0)),c=s*u;r.fillStyle=n.backgroundColor,r.strokeStyle=n.borderColor,wke(r,this,c,a,o),_ke(r,this,c,a,o),r.restore()}}je(Qh,"id","arc"),je(Qh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),je(Qh,"defaultRoutes",{backgroundColor:"backgroundColor"}),je(Qh,"descriptors",{_scriptable:!0,_indexable:r=>r!=="borderDash"});function sj(t,e,r=e){t.lineCap=bt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(bt(r.borderDash,e.borderDash)),t.lineDashOffset=bt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=bt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=bt(r.borderWidth,e.borderWidth),t.strokeStyle=bt(r.borderColor,e.borderColor)}function Eke(t,e,r){t.lineTo(r.x,r.y)}function Ske(t){return t.stepped?qMe:t.tension||t.cubicInterpolationMode==="monotone"?HMe:Eke}function aj(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),u=Math.min(s,o),c=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:u<l&&!c?n+u-l:u-l}}function Ake(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:u}=aj(i,r,n),c=Ske(s);let{move:f=!0,reverse:h}=n||{},d,m,p;for(d=0;d<=u;++d)m=i[(o+(h?u-d:d))%a],!m.skip&&(f?(t.moveTo(m.x,m.y),f=!1):c(t,p,m,h,s.stepped),p=m);return l&&(m=i[(o+(h?u:0))%a],c(t,p,m,h,s.stepped)),!!l}function Nke(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=aj(i,r,n),{move:l=!0,reverse:u}=n||{};let c=0,f=0,h,d,m,p,g,v;const b=x=>(a+(u?o-x:x))%s,y=()=>{p!==g&&(t.lineTo(c,g),t.lineTo(c,p),t.lineTo(c,v))};for(l&&(d=i[b(0)],t.moveTo(d.x,d.y)),h=0;h<=o;++h){if(d=i[b(h)],d.skip)continue;const x=d.x,w=d.y,E=x|0;E===m?(w<p?p=w:w>g&&(g=w),c=(f*c+x)/++f):(y(),t.lineTo(x,w),m=E,f=0,p=g=w),v=w}y()}function tE(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Nke:Ake}function Tke(t){return t.stepped?EIe:t.tension||t.cubicInterpolationMode==="monotone"?SIe:Gl}function Dke(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),sj(t,e.options),t.stroke(i)}function Cke(t,e,r,n){const{segments:i,options:s}=e,a=tE(e);for(const o of i)sj(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Mke=typeof Path2D=="function";function Ike(t,e,r,n){Mke&&!e.options.segment?Dke(t,e,r,n):Cke(t,e,r,n)}class Lc extends to{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;pIe(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PIe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=CIe(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=Tke(n);let u,c;for(u=0,c=a.length;u<c;++u){const{start:f,end:h}=a[u],d=s[f],m=s[h];if(d===m){o.push(d);continue}const p=Math.abs((i-d[r])/(m[r]-d[r])),g=l(d,m,p,n.stepped);g[r]=e[r],o.push(g)}return o.length===1?o[0]:o}pathSegment(e,r,n){return tE(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=tE(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),Ike(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}je(Lc,"id","line"),je(Lc,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),je(Lc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),je(Lc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function O4(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class Nd extends to{constructor(r){super();je(this,"parsed");je(this,"skip");je(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return O4(this,r,"x",n)}inYRange(r,n){return O4(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!wm(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,J_(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}je(Nd,"id","point"),je(Nd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),je(Nd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function oj(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,c,f;return t.horizontal?(f=a/2,o=Math.min(r,i),l=Math.max(r,i),u=n-f,c=n+f):(f=s/2,o=r-f,l=r+f,u=Math.min(n,i),c=Math.max(n,i)),{left:o,top:u,right:l,bottom:c}}function Io(t,e,r,n){return t?0:In(e,r,n)}function Pke(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=Lz(n);return{t:Io(i.top,s.top,0,r),r:Io(i.right,s.right,0,e),b:Io(i.bottom,s.bottom,0,r),l:Io(i.left,s.left,0,e)}}function kke(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Zc(i),a=Math.min(e,r),o=t.borderSkipped,l=n||kt(i);return{topLeft:Io(!l||o.top||o.left,s.topLeft,0,a),topRight:Io(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Io(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Io(!l||o.bottom||o.right,s.bottomRight,0,a)}}function Rke(t){const e=oj(t),r=e.right-e.left,n=e.bottom-e.top,i=Pke(t,r/2,n/2),s=kke(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Rb(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&oj(t,n);return o&&(i||Mo(e,o.left,o.right))&&(s||Mo(r,o.top,o.bottom))}function Oke(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Fke(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ob(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class yv extends to{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=Rke(this),o=Oke(a.radius)?oy:Fke;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,Ob(a,r,s)),e.clip(),o(e,Ob(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Ob(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return Rb(this,e,r,n)}inXRange(e,r){return Rb(this,e,null,r)}inYRange(e,r){return Rb(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}je(yv,"id","bar"),je(yv,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),je(yv,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const F4=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Bke=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class B4 extends to{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=nr(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=Pn(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=F4(n,s);let u,c;r.font=i.string,this.isHorizontal()?(u=this.maxWidth,c=this._fitRows(a,s,o,l)+10):(c=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],c=i+o;let f=e;s.textAlign="left",s.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach((m,p)=>{const g=n+r/2+s.measureText(m.text).width;(p===0||u[u.length-1]+g+2*o>a)&&(f+=c,u[u.length-(p>0?0:1)]=0,d+=c,h++),l[p]={left:0,top:d,row:h,width:g,height:i},u[u.length-1]+=g+o}),f}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],c=a-e;let f=o,h=0,d=0,m=0,p=0;return this.legendItems.forEach((g,v)=>{const{itemWidth:b,itemHeight:y}=Lke(n,r,s,g,i);v>0&&d+y+2*o>c&&(f+=h+o,u.push({width:h,height:d}),m+=h+o,p++,h=d=0),l[v]={left:m,top:d,col:p,width:b,height:y},h=Math.max(h,b),d+=y+o}),f+=h,u.push({width:h,height:d}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=ef(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Sn(n,this.left+i,this.right-this.lineWidths[o]);for(const u of r)o!==u.row&&(o=u.row,l=Sn(n,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=Sn(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of r)u.col!==o&&(o=u.col,l=Sn(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;U2(e,this),this._draw(),q2(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=Dr.color,l=ef(e.rtl,this.left,this.width),u=Pn(a.font),{padding:c}=a,f=u.size,h=f/2;let d;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:m,boxHeight:p,itemHeight:g}=F4(a,f),v=function(E,S,A){if(isNaN(m)||m<=0||isNaN(p)||p<0)return;i.save();const N=bt(A.lineWidth,1);if(i.fillStyle=bt(A.fillStyle,o),i.lineCap=bt(A.lineCap,"butt"),i.lineDashOffset=bt(A.lineDashOffset,0),i.lineJoin=bt(A.lineJoin,"miter"),i.lineWidth=N,i.strokeStyle=bt(A.strokeStyle,o),i.setLineDash(bt(A.lineDash,[])),a.usePointStyle){const D={radius:p*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:N},C=l.xPlus(E,m/2),M=S+h;Bz(i,D,C,M,a.pointStyleWidth&&m)}else{const D=S+Math.max((f-p)/2,0),C=l.leftForLtr(E,m),M=Zc(A.borderRadius);i.beginPath(),Object.values(M).some(I=>I!==0)?oy(i,{x:C,y:D,w:m,h:p,radius:M}):i.rect(C,D,m,p),i.fill(),N!==0&&i.stroke()}i.restore()},b=function(E,S,A){_m(i,A.text,E,S+g/2,u,{strikethrough:A.hidden,textAlign:l.textAlign(A.textAlign)})},y=this.isHorizontal(),x=this._computeTitleHeight();y?d={x:Sn(s,this.left+c,this.right-n[0]),y:this.top+c+x,line:0}:d={x:this.left+c,y:Sn(s,this.top+x+c,this.bottom-r[0].height),line:0},qz(this.ctx,e.textDirection);const w=g+c;this.legendItems.forEach((E,S)=>{i.strokeStyle=E.fontColor,i.fillStyle=E.fontColor;const A=i.measureText(E.text).width,N=l.textAlign(E.textAlign||(E.textAlign=a.textAlign)),D=m+h+A;let C=d.x,M=d.y;l.setWidth(this.width),y?S>0&&C+D+c>this.right&&(M=d.y+=w,d.line++,C=d.x=Sn(s,this.left+c,this.right-n[d.line])):S>0&&M+w>this.bottom&&(C=d.x=C+r[d.line].width+c,d.line++,M=d.y=Sn(s,this.top+x+c,this.bottom-r[d.line].height));const I=l.x(C);if(v(I,M,E),C=IMe(N,C+m+h,y?C+D:this.right,e.rtl),b(l.x(C),M,E),y)d.x+=D+c;else if(typeof E.text!="string"){const z=u.lineHeight;d.y+=lj(E,z)+c}else d.y+=w}),Hz(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Pn(r.font),i=Zi(r.padding);if(!r.display)return;const s=ef(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,u=i.top+l;let c,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+u,f=Sn(e.align,f,this.right-h);else{const m=this.columnSizes.reduce((p,g)=>Math.max(p,g.height),0);c=u+Sn(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const d=Sn(o,f,f+h);a.textAlign=s.textAlign($2(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,_m(a,r.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,r=Pn(e.font),n=Zi(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(Mo(e,this.left,this.right)&&Mo(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],Mo(e,i.left,i.left+i.width)&&Mo(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!zke(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=Bke(i,n);i&&!s&&nr(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&nr(r.onHover,[e,n,this],this)}else n&&nr(r.onClick,[e,n,this],this)}}function Lke(t,e,r,n,i){const s=Vke(n,t,e,r),a=$ke(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function Vke(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function $ke(t,e,r){let n=t;return typeof e.text!="string"&&(n=lj(e,r)),n}function lj(t,e){const r=t.text?t.text.length:0;return e*r}function zke(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var uj={id:"legend",_element:B4,start(t,e,r){const n=t.legend=new B4({ctx:t.ctx,options:r,chart:t});Ui.configure(t,n,r),Ui.addBox(t,n)},stop(t){Ui.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;Ui.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(r?0:void 0),c=Zi(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class cj extends to{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=Vr(n.text)?n.text.length:1;this._padding=Zi(n.padding);const s=i*Pn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,u,c,f;return this.isHorizontal()?(c=Sn(o,n,s),f=r+e,u=s-n):(a.position==="left"?(c=n+e,f=Sn(o,i,r),l=Ht*-.5):(c=s-e,f=Sn(o,r,i),l=Ht*.5),u=i-r),{titleX:c,titleY:f,maxWidth:u,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Pn(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(s);_m(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:u,textAlign:$2(r.align),textBaseline:"middle",translation:[a,o]})}}function jke(t,e){const r=new cj({ctx:t.ctx,options:e,chart:t});Ui.configure(t,r,e),Ui.addBox(t,r),t.titleBlock=r}var fj={id:"title",_element:cj,start(t,e,r){jke(t,r)},stop(t){const e=t.titleBlock;Ui.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;Ui.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xh={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),c=Q_(e,u);c<i&&(i=c,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function Rs(t,e){return e&&(Vr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ga(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Uke(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function L4(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=Pn(e.bodyFont),u=Pn(e.titleFont),c=Pn(e.footerFont),f=s.length,h=i.length,d=n.length,m=Zi(e.padding);let p=m.height,g=0,v=n.reduce((x,w)=>x+w.before.length+w.lines.length+w.after.length,0);if(v+=t.beforeBody.length+t.afterBody.length,f&&(p+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),v){const x=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;p+=d*x+(v-d)*l.lineHeight+(v-1)*e.bodySpacing}h&&(p+=e.footerMarginTop+h*c.lineHeight+(h-1)*e.footerSpacing);let b=0;const y=function(x){g=Math.max(g,r.measureText(x).width+b)};return r.save(),r.font=u.string,jt(t.title,y),r.font=l.string,jt(t.beforeBody.concat(t.afterBody),y),b=e.displayColors?a+2+e.boxPadding:0,jt(n,x=>{jt(x.before,y),jt(x.lines,y),jt(x.after,y)}),b=0,r.font=c.string,jt(t.footer,y),r.restore(),g+=m.width,{width:g,height:p}}function qke(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Hke(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function Wke(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return n==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),Hke(u,t,e,r)&&(u="center"),u}function V4(t,e,r){const n=r.yAlign||e.yAlign||qke(t,r);return{xAlign:r.xAlign||e.xAlign||Wke(t,e,r,n),yAlign:n}}function Gke(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Kke(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function $4(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,u=i+s,{topLeft:c,topRight:f,bottomLeft:h,bottomRight:d}=Zc(a);let m=Gke(e,o);const p=Kke(e,l,u);return l==="center"?o==="left"?m+=u:o==="right"&&(m-=u):o==="left"?m-=Math.max(c,h)+i:o==="right"&&(m+=Math.max(f,d)+i),{x:In(m,0,n.width-e.width),y:In(p,0,n.height-e.height)}}function Bg(t,e,r){const n=Zi(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function z4(t){return Rs([],ga(t))}function Yke(t,e,r){return Zu(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function j4(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const hj={beforeTitle:ma,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:ma,beforeBody:ma,beforeLabel:ma,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return zt(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:ma,afterBody:ma,beforeFooter:ma,footer:ma,afterFooter:ma};function Xn(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?hj[e].call(r,n):i}class rE extends to{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new Gz(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Yke(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Xn(n,"beforeTitle",this,e),s=Xn(n,"title",this,e),a=Xn(n,"afterTitle",this,e);let o=[];return o=Rs(o,ga(i)),o=Rs(o,ga(s)),o=Rs(o,ga(a)),o}getBeforeBody(e,r){return z4(Xn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return jt(e,s=>{const a={before:[],lines:[],after:[]},o=j4(n,s);Rs(a.before,ga(Xn(o,"beforeLabel",this,s))),Rs(a.lines,Xn(o,"label",this,s)),Rs(a.after,ga(Xn(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return z4(Xn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Xn(n,"beforeFooter",this,e),s=Xn(n,"footer",this,e),a=Xn(n,"afterFooter",this,e);let o=[];return o=Rs(o,ga(i)),o=Rs(o,ga(s)),o=Rs(o,ga(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=r.length;l<u;++l)o.push(Uke(this.chart,r[l]));return e.filter&&(o=o.filter((c,f,h)=>e.filter(c,f,h,n))),e.itemSort&&(o=o.sort((c,f)=>e.itemSort(c,f,n))),jt(o,c=>{const f=j4(e.callbacks,c);i.push(Xn(f,"labelColor",this,c)),s.push(Xn(f,"labelPointStyle",this,c)),a.push(Xn(f,"labelTextColor",this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=Xh[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=L4(this,n),u=Object.assign({},o,l),c=V4(this.chart,n,u),f=$4(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:u,bottomLeft:c,bottomRight:f}=Zc(o),{x:h,y:d}=e,{width:m,height:p}=r;let g,v,b,y,x,w;return s==="center"?(x=d+p/2,i==="left"?(g=h,v=g-a,y=x+a,w=x-a):(g=h+m,v=g+a,y=x-a,w=x+a),b=g):(i==="left"?v=h+Math.max(l,c)+a:i==="right"?v=h+m-Math.max(u,f)-a:v=this.caretX,s==="top"?(y=d,x=y-a,g=v-a,b=v+a):(y=d+p,x=y+a,g=v+a,b=v-a),w=y),{x1:g,x2:v,x3:b,y1:y,y2:x,y3:w}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const u=ef(n.rtl,this.x,this.width);for(e.x=Bg(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",a=Pn(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:u}=s,c=Pn(s.bodyFont),f=Bg(this,"left",s),h=i.x(f),d=l<c.lineHeight?(c.lineHeight-l)/2:0,m=r.y+d;if(s.usePointStyle){const p={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},g=i.leftForLtr(h,u)+u/2,v=m+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,J_(e,p,g,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,J_(e,p,g,v)}else{e.lineWidth=kt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const p=i.leftForLtr(h,u),g=i.leftForLtr(i.xPlus(h,1),u-2),v=Zc(a.borderRadius);Object.values(v).some(b=>b!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,oy(e,{x:p,y:m,w:u,h:l,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),oy(e,{x:g,y:m+1,w:u-2,h:l-2,radius:v}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(p,m,u,l),e.strokeRect(p,m,u,l),e.fillStyle=a.backgroundColor,e.fillRect(g,m+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:c}=n,f=Pn(n.bodyFont);let h=f.lineHeight,d=0;const m=ef(n.rtl,this.x,this.width),p=function(A){r.fillText(A,m.x(e.x+d),e.y+h/2),e.y+=h+s},g=m.textAlign(a);let v,b,y,x,w,E,S;for(r.textAlign=a,r.textBaseline="middle",r.font=f.string,e.x=Bg(this,g,n),r.fillStyle=n.bodyColor,jt(this.beforeBody,p),d=o&&g!=="right"?a==="center"?u/2+c:u+2+c:0,x=0,E=i.length;x<E;++x){for(v=i[x],b=this.labelTextColors[x],r.fillStyle=b,jt(v.before,p),y=v.lines,o&&y.length&&(this._drawColorBox(r,e,x,m,n),h=Math.max(f.lineHeight,l)),w=0,S=y.length;w<S;++w)p(y[w]),h=f.lineHeight;jt(v.after,p)}d=0,h=f.lineHeight,jt(this.afterBody,p),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=ef(n.rtl,this.x,this.width);for(e.x=Bg(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=Pn(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:c}=n,{topLeft:f,topRight:h,bottomLeft:d,bottomRight:m}=Zc(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+f,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+u-h,l),r.quadraticCurveTo(o+u,l,o+u,l+h),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+u,l+c-m),r.quadraticCurveTo(o+u,l+c,o+u-m,l+c),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+d,l+c),r.quadraticCurveTo(o,l+c,o,l+c-d),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+f),r.quadraticCurveTo(o,l,o+f,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=Xh[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=L4(this,e),l=Object.assign({},a,this._size),u=V4(r,e,l),c=$4(e,l,u,r);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Zi(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),qz(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),Hz(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!iy(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!iy(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=Xh[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}}je(rE,"positioners",Xh);var dj={id:"tooltip",_element:rE,positioners:Xh,afterInit(t,e,r){r&&(t.tooltip=new rE({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:hj},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Qke=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Xke(t,e,r,n){const i=t.indexOf(e);if(i===-1)return Qke(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const Jke=(t,e)=>t===null?null:In(Math.round(t),0,e);function U4(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class fy extends nh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(zt(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Xke(n,e,bt(r,e),this._addedLabels),Jke(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return U4.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}je(fy,"id","category"),je(fy,"defaults",{ticks:{callback:U4}});function Zke(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:c,maxDigits:f,includeBounds:h}=t,d=s||1,m=c-1,{min:p,max:g}=e,v=!zt(a),b=!zt(o),y=!zt(u),x=(g-p)/(f+1);let w=H3((g-p)/m/d)*d,E,S,A,N;if(w<1e-14&&!v&&!b)return[{value:p},{value:g}];N=Math.ceil(g/w)-Math.floor(p/w),N>m&&(w=H3(N*w/m/d)*d),zt(l)||(E=Math.pow(10,l),w=Math.ceil(w*E)/E),i==="ticks"?(S=Math.floor(p/w)*w,A=Math.ceil(g/w)*w):(S=p,A=g),v&&b&&s&&_Me((o-a)/s,w/1e3)?(N=Math.round(Math.min((o-a)/w,c)),w=(o-a)/N,S=a,A=o):y?(S=v?a:S,A=b?o:A,N=u-1,w=(A-S)/N):(N=(A-S)/w,Ed(N,Math.round(N),w/1e3)?N=Math.round(N):N=Math.ceil(N));const D=Math.max(W3(w),W3(S));E=Math.pow(10,zt(l)?D:l),S=Math.round(S*E)/E,A=Math.round(A*E)/E;let C=0;for(v&&(h&&S!==a?(r.push({value:a}),S<a&&C++,Ed(Math.round((S+C*w)*E)/E,a,q4(a,x,t))&&C++):S<a&&C++);C<N;++C){const M=Math.round((S+C*w)*E)/E;if(b&&M>o)break;r.push({value:M})}return b&&h&&A!==o?r.length&&Ed(r[r.length-1].value,o,q4(o,x,t))?r[r.length-1].value=o:r.push({value:o}):(!b||A===o)&&r.push({value:A}),r}function q4(t,e,{horizontal:r,minRotation:n}){const i=Ca(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class eRe extends nh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return zt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=Xs(i),u=Xs(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=Zke(i,s);return e.bounds==="ticks"&&EMe(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return j2(e,this.chart.options.locale,this.options.ticks.format)}}class hy extends eRe{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=Ji(e)?e:0,this.max=Ji(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Ca(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}je(hy,"id","linear"),je(hy,"defaults",{ticks:{callback:Fz.formatters.numeric}});const Y1={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ni=Object.keys(Y1);function H4(t,e){return t-e}function W4(t,e){if(zt(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),Ji(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(xm(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function G4(t,e,r,n){const i=ni.length;for(let s=ni.indexOf(t);s<i-1;++s){const a=Y1[ni[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return ni[s]}return ni[i-1]}function tRe(t,e,r,n,i){for(let s=ni.length-1;s>=ni.indexOf(r);s--){const a=ni[s];if(Y1[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return ni[r?ni.indexOf(r):0]}function rRe(t){for(let e=ni.indexOf(t)+1,r=ni.length;e<r;++e)if(Y1[ni[e]].common)return ni[e]}function K4(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=V2(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function nRe(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function Y4(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:nRe(t,n,i,r)}class dy extends nh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new lPe._date(e.adapters.date);i.init(r),_d(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:W4(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ji(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=Ji(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=DMe(i,s,a);return this._unit=r.unit||(n.autoSkip?G4(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):tRe(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:rRe(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),Y4(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=In(r,0,a),n=In(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||G4(s.minUnit,r,n,this._getLabelCapacity(r)),o=bt(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=xm(l)||l===!0,c={};let f=r,h,d;if(u&&(f=+e.startOf(f,"isoWeek",l)),f=+e.startOf(f,u?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,d=0;h<n;h=+e.add(h,o,a),d++)K4(c,h,m);return(h===n||i.bounds==="ticks"||d===1)&&K4(c,h,m),Object.keys(c).sort(H4).map(p=>+p)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return nr(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,u=this._majorUnit,c=l&&o[l],f=u&&o[u],h=n[r],d=u&&f&&h&&h.major;return this._adapter.format(e,i||(d?f:c))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=Ca(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,Y4(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(W4(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return kz(e.sort(H4))}}je(dy,"id","time"),je(dy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lg(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=ou(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=ou(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const u=a-s;return u?o+(l-o)*(e-s)/u:o}class Q4 extends dy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=Lg(r,this.min),this._tableRange=Lg(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,u,c;for(a=0,o=e.length;a<o;++a)u=e[a],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)c=i[a+1],l=i[a-1],u=i[a],Math.round((c+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Lg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return Lg(this._table,n*this._tableRange+this._minPos,!0)}}je(Q4,"id","timeseries"),je(Q4,"defaults",dy.defaults);const mj="label";function X4(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function iRe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function pj(t,e){t.labels=e}function gj(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mj;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function sRe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mj;const r={labels:[],datasets:[]};return pj(r,t.labels),gj(r,t.datasets,e),r}function aRe(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:u=[],fallbackContent:c,updateMode:f,...h}=t,d=ne.useRef(null),m=ne.useRef(null),p=()=>{d.current&&(m.current=new op(d.current,{type:a,data:sRe(o,s),options:l&&{...l},plugins:u}),X4(e,m.current))},g=()=>{X4(e,null),m.current&&(m.current.destroy(),m.current=null)};return ne.useEffect(()=>{!i&&m.current&&l&&iRe(m.current,l)},[i,l]),ne.useEffect(()=>{!i&&m.current&&pj(m.current.config.data,o.labels)},[i,o.labels]),ne.useEffect(()=>{!i&&m.current&&o.datasets&&gj(m.current.config.data,o.datasets,s)},[i,o.datasets]),ne.useEffect(()=>{m.current&&(i?(g(),setTimeout(p)):m.current.update(f))},[i,l,o.labels,o.datasets,f]),ne.useEffect(()=>{m.current&&(g(),setTimeout(p))},[a]),ne.useEffect(()=>(p(),()=>g()),[]),py.createElement("canvas",{ref:d,role:"img",height:r,width:n,...h},c)}const oRe=ne.forwardRef(aRe);function J2(t,e){return op.register(e),ne.forwardRef((r,n)=>py.createElement(oRe,{...r,ref:n,type:t}))}const vj=J2("line",pv),lRe=J2("bar",mv),uRe=J2("doughnut",Kh);op.register(fy,hy,Nd,Lc,fj,dj,uj);function cRe(){var y;const[t,e]=ne.useState([]),[r,n]=ne.useState({systolic:"",diastolic:"",heartRate:"",temperature:"",respiratoryRate:"",oxygenSaturation:"",notes:""}),[i,s]=ne.useState("Patient 1"),[a,o]=ne.useState("input"),{user:l}=zu(),u={systolic:{min:90,max:120,critical:{min:70,max:180}},diastolic:{critical:{min:40,max:120}},heartRate:{min:60,max:100,critical:{min:40,max:150}},temperature:{min:36.1,max:37.2,critical:{min:35,max:40}},oxygenSaturation:{critical:{min:85}}};ne.useEffect(()=>{const x=localStorage.getItem(`vitals-${i}`);x&&e(JSON.parse(x).map(w=>({...w,timestamp:new Date(w.timestamp)})))},[i]),ne.useEffect(()=>{localStorage.setItem(`vitals-${i}`,JSON.stringify(t))},[t,i]);const c=(x,w)=>{n(E=>({...E,[x]:w}))},f=()=>{const{systolic:x,diastolic:w,heartRate:E,temperature:S,respiratoryRate:A,oxygenSaturation:N,notes:D}=r;if(!x||!w||!E||!S||!A||!N){Ft.error("Please fill in all vital signs");return}const C={id:Date.now().toString(),timestamp:new Date,systolic:parseFloat(x),diastolic:parseFloat(w),heartRate:parseFloat(E),temperature:parseFloat(S),respiratoryRate:parseFloat(A),oxygenSaturation:parseFloat(N),notes:D||void 0};e(M=>[C,...M]),n({systolic:"",diastolic:"",heartRate:"",temperature:"",respiratoryRate:"",oxygenSaturation:"",notes:""}),h(C),l&&Sz.logToolUsage(l.id,"Vital Signs Tracker","Medical",2,{patient:i,vitals:C}),Ft.success("Vital signs recorded successfully")},h=x=>{const w=[];(x.systolic<u.systolic.critical.min||x.systolic>u.systolic.critical.max)&&w.push(`Critical systolic BP: ${x.systolic} mmHg`),(x.diastolic<u.diastolic.critical.min||x.diastolic>u.diastolic.critical.max)&&w.push(`Critical diastolic BP: ${x.diastolic} mmHg`),(x.heartRate<u.heartRate.critical.min||x.heartRate>u.heartRate.critical.max)&&w.push(`Critical heart rate: ${x.heartRate} bpm`),(x.temperature<u.temperature.critical.min||x.temperature>u.temperature.critical.max)&&w.push(`Critical temperature: ${x.temperature}°C`),x.oxygenSaturation<u.oxygenSaturation.critical.min&&w.push(`Critical oxygen saturation: ${x.oxygenSaturation}%`),w.length>0&&Ft.error(`⚠️ CRITICAL VALUES DETECTED:
${w.join(`
`)}`,{duration:1e4})},d=(x,w)=>x<w.critical.min||x>w.critical.max?{status:"critical",color:"text-red-500",bg:"bg-red-100"}:x<w.min||x>w.max?{status:"abnormal",color:"text-yellow-600",bg:"bg-yellow-100"}:{status:"normal",color:"text-green-600",bg:"bg-green-100"},m=()=>{const x=JSON.stringify(t,null,2),w="data:application/json;charset=utf-8,"+encodeURIComponent(x),E=`vitals-${i}-${new Date().toISOString().split("T")[0]}.json`,S=document.createElement("a");S.setAttribute("href",w),S.setAttribute("download",E),S.click(),Ft.success("Data exported successfully")},p=x=>{const w=t.filter(E=>new Date().getTime()-E.timestamp.getTime()<864e5).reverse();return{labels:w.map(E=>E.timestamp.toLocaleTimeString()),datasets:[{label:g(x),data:w.map(E=>E[x]),borderColor:v(x),backgroundColor:v(x)+"20",tension:.4}]}},g=x=>({systolic:"Systolic BP (mmHg)",diastolic:"Diastolic BP (mmHg)",heartRate:"Heart Rate (bpm)",temperature:"Temperature (°C)",respiratoryRate:"Respiratory Rate (breaths/min)",oxygenSaturation:"Oxygen Saturation (%)"})[x]||x,v=x=>({systolic:"#ef4444",diastolic:"#f97316",heartRate:"#ec4899",temperature:"#8b5cf6",respiratoryRate:"#06b6d4",oxygenSaturation:"#10b981"})[x]||"#6b7280",b={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Vital Signs Trends (Last 24 Hours)"}},scales:{y:{beginAtZero:!1}}};return T.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-white rounded-2xl shadow-2xl",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(Wv,{className:"text-red-500 mr-3",size:28}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Vital Signs Tracker"}),T.jsx("p",{className:"text-gray-600",children:"Monitor and track patient vital signs"})]})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("select",{value:i,onChange:x=>s(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[T.jsx("option",{value:"Patient 1",children:"Patient 1"}),T.jsx("option",{value:"Patient 2",children:"Patient 2"}),T.jsx("option",{value:"Patient 3",children:"Patient 3"})]}),T.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{id:"input",label:"Input",icon:cf},{id:"trends",label:"Trends",icon:Kd},{id:"analysis",label:"Analysis",icon:Wv}].map(({id:x,label:w,icon:E})=>T.jsxs("button",{onClick:()=>o(x),className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${a===x?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[T.jsx(E,{size:16,className:"mr-1"}),w]},x))}),T.jsxs("button",{onClick:m,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[T.jsx(By,{size:16,className:"mr-2"}),"Export"]})]})]}),a==="input"&&T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"space-y-6",children:[T.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[T.jsx(cf,{className:"mr-2 text-red-500",size:20}),"Record Vital Signs"]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"col-span-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blood Pressure (mmHg)"}),T.jsxs("div",{className:"flex space-x-2",children:[T.jsx("input",{type:"number",placeholder:"Systolic",value:r.systolic,onChange:x=>c("systolic",x.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),T.jsx("span",{className:"flex items-center text-gray-500",children:"/"}),T.jsx("input",{type:"number",placeholder:"Diastolic",value:r.diastolic,onChange:x=>c("diastolic",x.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Heart Rate (bpm)"}),T.jsx("input",{type:"number",placeholder:"60-100",value:r.heartRate,onChange:x=>c("heartRate",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Temperature (°C)"}),T.jsx("input",{type:"number",step:"0.1",placeholder:"36.5",value:r.temperature,onChange:x=>c("temperature",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Respiratory Rate (breaths/min)"}),T.jsx("input",{type:"number",placeholder:"12-20",value:r.respiratoryRate,onChange:x=>c("respiratoryRate",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Oxygen Saturation (%)"}),T.jsx("input",{type:"number",placeholder:"95-100",value:r.oxygenSaturation,onChange:x=>c("oxygenSaturation",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.jsxs("div",{className:"col-span-2",children:[T.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),T.jsx("textarea",{placeholder:"Additional observations...",value:r.notes,onChange:x=>c("notes",x.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),T.jsxs("button",{onClick:f,className:"w-full flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[T.jsx(_W,{size:20,className:"mr-2"}),"Record Vital Signs"]})]}),T.jsxs("div",{children:[T.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[T.jsx(Hc,{className:"mr-2 text-blue-500",size:20}),"Recent Readings"]}),T.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:t.length===0?T.jsx("p",{className:"text-gray-500 text-center py-8",children:"No vital signs recorded yet"}):t.slice(0,10).map(x=>T.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("span",{className:"text-sm font-medium text-gray-600",children:x.timestamp.toLocaleString()}),(x.systolic<u.systolic.critical.min||x.systolic>u.systolic.critical.max||x.heartRate<u.heartRate.critical.min||x.heartRate>u.heartRate.critical.max)&&T.jsx(sW,{className:"text-red-500",size:16})]}),T.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[T.jsxs("div",{className:`p-2 rounded ${d(x.systolic,u.systolic).bg}`,children:[T.jsx("div",{className:"font-medium",children:"BP"}),T.jsxs("div",{className:d(x.systolic,u.systolic).color,children:[x.systolic,"/",x.diastolic]})]}),T.jsxs("div",{className:`p-2 rounded ${d(x.heartRate,u.heartRate).bg}`,children:[T.jsx("div",{className:"font-medium",children:"HR"}),T.jsxs("div",{className:d(x.heartRate,u.heartRate).color,children:[x.heartRate," bpm"]})]}),T.jsxs("div",{className:`p-2 rounded ${d(x.temperature,u.temperature).bg}`,children:[T.jsx("div",{className:"font-medium",children:"Temp"}),T.jsxs("div",{className:d(x.temperature,u.temperature).color,children:[x.temperature,"°C"]})]})]}),x.notes&&T.jsx("div",{className:"mt-2 text-sm text-gray-600 italic",children:x.notes})]},x.id))})]})]}),a==="trends"&&T.jsx("div",{className:"space-y-6",children:t.length===0?T.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data available for trends"}):T.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:["systolic","heartRate","temperature","oxygenSaturation"].map(x=>T.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:T.jsx(vj,{data:p(x),options:b})},x))})}),a==="analysis"&&T.jsx("div",{className:"space-y-6",children:t.length===0?T.jsx("p",{className:"text-gray-500 text-center py-8",children:"No data available for analysis"}):T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[T.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:"Summary Statistics"}),T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-blue-700",children:"Total Readings:"}),T.jsx("span",{className:"font-semibold",children:t.length})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-blue-700",children:"Latest Reading:"}),T.jsx("span",{className:"font-semibold",children:(y=t[0])==null?void 0:y.timestamp.toLocaleDateString()})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-blue-700",children:"Avg Heart Rate:"}),T.jsxs("span",{className:"font-semibold",children:[Math.round(t.reduce((x,w)=>x+w.heartRate,0)/t.length)," bpm"]})]})]})]}),T.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-4",children:"Critical Alerts"}),T.jsx("div",{className:"space-y-2",children:t.slice(0,5).map(x=>{const w=[];return x.systolic>u.systolic.critical.max&&w.push("High BP"),x.heartRate>u.heartRate.critical.max&&w.push("High HR"),x.oxygenSaturation<u.oxygenSaturation.critical.min&&w.push("Low O2"),w.length>0?T.jsxs("div",{className:"text-sm",children:[T.jsxs("span",{className:"text-red-700 font-medium",children:[x.timestamp.toLocaleTimeString(),":"]}),T.jsx("span",{className:"text-red-600 ml-2",children:w.join(", ")})]},x.id):null})})]}),T.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-green-800 mb-4",children:"Normal Ranges"}),T.jsxs("div",{className:"space-y-2 text-sm",children:[T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-green-700",children:"Systolic BP:"}),T.jsx("span",{children:"90-120 mmHg"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-green-700",children:"Diastolic BP:"}),T.jsx("span",{children:"60-80 mmHg"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-green-700",children:"Heart Rate:"}),T.jsx("span",{children:"60-100 bpm"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-green-700",children:"Temperature:"}),T.jsx("span",{children:"36.1-37.2°C"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-green-700",children:"Respiratory:"}),T.jsx("span",{children:"12-20 /min"})]}),T.jsxs("div",{className:"flex justify-between",children:[T.jsx("span",{className:"text-green-700",children:"O2 Saturation:"}),T.jsx("span",{children:"95-100%"})]})]})]})]})})]})}function fRe(){var a,o;const[t,e]=ne.useState("engineering"),[r,n]=ne.useState(null),i={engineering:{name:"Engineering",icon:Kv,color:"from-blue-500 to-cyan-500",tools:[{id:"calculator",name:"Engineering Calculator",description:"Advanced scientific calculator with engineering functions, unit conversions, and calculation history",type:"calculator"},{id:"converter",name:"Unit Converter",description:"Convert between different units of measurement for engineering applications",type:"converter"},{id:"circuit",name:"Circuit Analysis Tool",description:"Analyze basic electrical circuits and calculate voltage, current, and resistance",type:"circuit"}]},medical:{name:"Medical",icon:ZE,color:"from-red-500 to-pink-500",tools:[{id:"anatomy",name:"Vital Signs Tracker",description:"Monitor and track patient vital signs with real-time analysis and alerts",type:"anatomy"},{id:"drug-calc",name:"Drug Dosage Calculator",description:"Calculate accurate drug dosages based on patient weight, age, and condition",type:"drug-calc"},{id:"bmi-calc",name:"BMI & Health Calculator",description:"Calculate BMI, body fat percentage, and other health metrics",type:"bmi-calc"}]},science:{name:"Science",icon:aW,color:"from-green-500 to-emerald-500",tools:[{id:"periodic-table",name:"Interactive Periodic Table",description:"Explore elements and their properties",type:"periodic-table"},{id:"molecule-viewer",name:"3D Molecule Viewer",description:"Visualize molecular structures in 3D",type:"molecule"},{id:"lab-simulator",name:"Virtual Lab",description:"Conduct virtual chemistry experiments",type:"lab-simulator"}]},arts:{name:"Arts",icon:Ly,color:"from-purple-500 to-indigo-500",tools:[{id:"color-wheel",name:"Color Theory Wheel",description:"Explore color relationships and harmonies",type:"color-wheel"},{id:"sketch-pad",name:"Digital Sketch Pad",description:"Practice drawing and sketching digitally",type:"sketch-pad"},{id:"art-history",name:"Art History Timeline",description:"Interactive timeline of art movements",type:"art-history"}]}},s=l=>{switch(l){case"calculator":return T.jsx(jCe,{});case"anatomy":return T.jsx(cRe,{});default:return T.jsxs("div",{className:"text-center py-16",children:[T.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(Kv,{size:32,className:"text-white/60"})}),T.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Tool Coming Soon"}),T.jsx("p",{className:"text-white/60 max-w-md mx-auto",children:"This advanced tool is currently under development. Check back soon for updates!"})]})}};return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 dark:from-gray-900 dark:via-indigo-900 dark:to-purple-900 overflow-y-auto",children:T.jsxs("div",{className:"p-4 pb-20",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[T.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Field-Specific Tools"}),T.jsx("p",{className:"text-white/80 text-sm",children:"Interactive tools for your field of study"})]}),T.jsx("div",{className:"flex space-x-2 mb-6 overflow-x-auto",children:Object.entries(i).map(([l,u])=>{const c=u.icon;return T.jsxs("button",{onClick:()=>{e(l),n(null)},className:`flex items-center px-4 py-2 rounded-xl text-sm font-medium transition-all whitespace-nowrap ${t===l?"bg-white/30 text-white shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[T.jsx(c,{size:16,className:"mr-2"}),u.name]},l)})}),r?T.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white/10 backdrop-blur-lg rounded-2xl p-6",children:[T.jsxs("div",{className:"flex items-center justify-between mb-4",children:[T.jsx("h3",{className:"text-lg font-bold text-white",children:(a=i[t].tools.find(l=>l.id===r))==null?void 0:a.name}),T.jsx("button",{onClick:()=>n(null),className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg text-sm transition-colors font-medium",children:"← Back to Tools"})]}),s(((o=i[t].tools.find(l=>l.id===r))==null?void 0:o.type)||"")]}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i[t].tools.map((l,u)=>T.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:u*.1},className:`bg-gradient-to-br ${i[t].color} rounded-2xl p-6 cursor-pointer hover:scale-105 transition-all shadow-lg`,onClick:()=>n(l.id),children:[T.jsxs("div",{className:"flex items-start justify-between mb-4",children:[T.jsx("h3",{className:"text-xl font-bold text-white flex-1",children:l.name}),T.jsx(Vy,{className:"text-white/80 flex-shrink-0 ml-2",size:20})]}),T.jsx("p",{className:"text-white/90 mb-4 text-sm leading-relaxed",children:l.description}),T.jsx("div",{className:"flex items-center justify-between",children:T.jsx("span",{className:"text-white/80 text-sm font-medium",children:"Click to launch →"})})]},l.id))})]})})}function hRe(){const[t,e]=ne.useState(null),[r,n]=ne.useState(!1),i=[{id:"eye",title:"Human Eye",description:"Explore the anatomy of the human eye in interactive 3D",url:"https://www.body3d.eu/3D/Auge/",icon:Ow,color:"from-blue-500 to-cyan-500"},{id:"abdomen",title:"Upper Abdomen",description:"Interactive 3D model of the upper abdominal organs",url:"https://www.body3d.eu/3D/Oberbauch/",icon:Wv,color:"from-red-500 to-pink-500"},{id:"cells",title:"Cell Structure",description:"Detailed cellular anatomy and organelles in 3D",url:"https://www.body3d.eu/3D/Zelle/",icon:yW,color:"from-green-500 to-emerald-500"},{id:"digestive",title:"Gastrointestinal Tract",description:"Complete digestive system anatomy visualization",url:"https://www.body3d.eu/3D/Magendarmtrakt/",icon:cf,color:"from-purple-500 to-indigo-500"}],s=l=>{e(l)},a=()=>{e(null),n(!1)},o=()=>{n(!r)};return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 dark:from-gray-900 dark:via-blue-900 dark:to-purple-900 overflow-y-auto",children:T.jsxs("div",{className:"p-4 pb-20",children:[T.jsx(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:T.jsxs("div",{className:"flex items-center",children:[T.jsx(N5,{to:"/",className:"p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors mr-3",children:T.jsx(YT,{className:"text-white",size:20})}),T.jsxs("div",{children:[T.jsx("h1",{className:"text-2xl font-bold text-white",children:"3D Medical Models"}),T.jsx("p",{className:"text-white/80 text-sm",children:"Interactive anatomy visualization"})]})]})}),t?T.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`bg-white/10 backdrop-blur-lg rounded-2xl overflow-hidden ${r?"fixed inset-4 z-50":"h-96"}`,children:[T.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/20",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(t.icon,{className:"text-white mr-3",size:24}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg font-bold text-white",children:t.title}),T.jsx("p",{className:"text-white/80 text-sm",children:t.description})]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:o,className:"p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:T.jsx(gW,{className:"text-white",size:18})}),T.jsx("button",{onClick:a,className:"p-2 rounded-lg bg-red-500/20 hover:bg-red-500/30 transition-colors",children:T.jsx(YT,{className:"text-white",size:18})})]})]}),T.jsx("div",{className:`${r?"h-[calc(100%-80px)]":"h-80"}`,children:T.jsx("iframe",{src:t.url,className:"w-full h-full border-0",title:t.title,allow:"fullscreen",loading:"lazy"})})]}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map((l,u)=>{const c=l.icon;return T.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:u*.1},className:`bg-gradient-to-br ${l.color} rounded-2xl p-6 cursor-pointer hover:scale-105 transition-all shadow-lg`,onClick:()=>s(l),children:[T.jsxs("div",{className:"flex items-center mb-4",children:[T.jsx(c,{className:"text-white mr-3",size:32}),T.jsx("h3",{className:"text-xl font-bold text-white",children:l.title})]}),T.jsx("p",{className:"text-white/90 mb-4",children:l.description}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-white/80 text-sm",children:"Click to explore"}),T.jsx(Yv,{className:"text-white/80",size:18})]})]},l.id)})}),!t&&T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-6 bg-white/20 backdrop-blur-lg rounded-2xl p-6",children:[T.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"About 3D Medical Models"}),T.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:"These interactive 3D models are powered by Body3D and provide detailed anatomical visualizations for medical students and healthcare professionals. Each model offers multiple viewing angles, cross-sections, and detailed labeling to enhance your understanding of human anatomy."}),T.jsxs("div",{className:"mt-4 flex items-center text-white/60 text-xs",children:[T.jsx(Yv,{size:14,className:"mr-2"}),T.jsx("span",{children:"Models provided by Body3D.eu"})]})]})]})})}function dRe(){const t=[{icon:Wd,title:"Unlimited In-Browser Playback",description:"Remove preview length limits and enjoy full tracks while studying",color:"from-green-500 to-emerald-500"},{icon:$5,title:"Auto-Refresh Playlists",description:"Playlists automatically update based on your mood and time of day",color:"from-blue-500 to-cyan-500"},{icon:O5,title:"Advanced Listening Analytics",description:"Detailed heatmaps and time-of-day listening pattern charts",color:"from-purple-500 to-indigo-500"},{icon:j5,title:"Offline Mode",description:"Access cached tracks during network outages for uninterrupted study",color:"from-orange-500 to-red-500"},{icon:oW,title:"Smart Study Reminders",description:"Personalized notifications based on your optimal study times",color:"from-pink-500 to-rose-500"},{icon:Ly,title:"Custom Themes & Colors",description:"Personalize your UI with custom color schemes and themes",color:"from-teal-500 to-green-500"},{icon:By,title:"Exclusive Resource Downloads",description:"Access premium flashcards, study guides, and educational materials",color:"from-yellow-500 to-orange-500"},{icon:lW,title:"AI-Powered Study Coach",description:"Get personalized study insights and session recommendations",color:"from-indigo-500 to-purple-500"},{icon:Bw,title:"Priority Support",description:"Get priority customer support and early access to new features",color:"from-gray-500 to-slate-500"}],e=[{name:"Monthly Pro",price:"₹49",period:"/month",description:"Perfect for trying out Pro features",popular:!1},{name:"Yearly Pro",price:"₹200",period:"/year",description:"Best value - Save ₹388 annually!",popular:!0,savings:"Save 66%"}];return T.jsx("div",{className:"min-h-screen w-full bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600 dark:from-gray-900 dark:via-yellow-900 dark:to-orange-900 overflow-y-auto",children:T.jsxs("div",{className:"p-4 pb-20",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[T.jsxs("div",{className:"flex items-center justify-center mb-4",children:[T.jsx(B5,{className:"text-yellow-300 mr-3",size:32}),T.jsx("h1",{className:"text-3xl font-bold text-white",children:"FocusFlow Pro"})]}),T.jsx("p",{className:"text-white/90 text-lg mb-2",children:"Unlock Your Full Study Potential"}),T.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-yellow-500/20 rounded-full",children:[T.jsx(z5,{className:"text-yellow-300 mr-2",size:16}),T.jsx("span",{className:"text-yellow-100 text-sm font-medium",children:"Coming Soon"})]})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:e.map((r,n)=>T.jsxs(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:n*.1},className:`relative bg-white/20 backdrop-blur-lg rounded-2xl p-6 ${r.popular?"ring-2 ring-yellow-400 shadow-2xl":""}`,children:[r.popular&&T.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:T.jsx("div",{className:"bg-yellow-400 text-black px-4 py-1 rounded-full text-sm font-bold",children:"Most Popular"})}),T.jsxs("div",{className:"text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:r.name}),T.jsxs("div",{className:"flex items-baseline justify-center mb-2",children:[T.jsx("span",{className:"text-4xl font-bold text-white",children:r.price}),T.jsx("span",{className:"text-white/70 ml-1",children:r.period})]}),r.savings&&T.jsx("div",{className:"inline-block bg-green-500/20 text-green-300 px-3 py-1 rounded-full text-sm font-medium mb-3",children:r.savings}),T.jsx("p",{className:"text-white/80 text-sm mb-4",children:r.description}),T.jsx("button",{disabled:!0,className:"w-full py-3 bg-gradient-to-r from-yellow-500 to-orange-500 opacity-50 cursor-not-allowed text-white font-semibold rounded-xl transition-all",children:"Coming Soon"})]})]},r.name))}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("h2",{className:"text-2xl font-bold text-white text-center mb-6",children:"Pro Features"}),t.map((r,n)=>{const i=r.icon;return T.jsx(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:n*.1},className:"bg-white/20 backdrop-blur-lg rounded-2xl p-4",children:T.jsxs("div",{className:"flex items-start space-x-4",children:[T.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${r.color} flex-shrink-0`,children:T.jsx(i,{className:"text-white",size:24})}),T.jsxs("div",{className:"flex-1",children:[T.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:r.title}),T.jsx("p",{className:"text-white/80 text-sm leading-relaxed",children:r.description})]}),T.jsx("div",{className:"flex-shrink-0",children:T.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-400 flex items-center justify-center",children:T.jsx(Rx,{className:"text-black",size:14})})})]})},r.title)})]}),T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8 text-center bg-gradient-to-r from-yellow-500/20 to-orange-500/20 backdrop-blur-lg rounded-2xl p-6",children:[T.jsx(eS,{className:"text-yellow-300 mx-auto mb-4",size:48}),T.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:"Ready to Supercharge Your Studies?"}),T.jsx("p",{className:"text-white/80 mb-6",children:"Join thousands of students who have transformed their study experience with FocusFlow Pro."}),T.jsxs("div",{className:"flex items-center justify-center space-x-4 text-white/70 text-sm",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx(Rx,{className:"text-green-400 mr-2",size:16}),T.jsx("span",{children:"30-day money-back guarantee"})]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx(Rx,{className:"text-green-400 mr-2",size:16}),T.jsx("span",{children:"Cancel anytime"})]})]})]})]})})}function mRe(){const[t,e]=ne.useState("login"),[r,n]=ne.useState("auth"),[i,s]=ne.useState({username:"",name:"",email:"",password:"",confirmPassword:"",field:""}),[a,o]=ne.useState(!1),[l,u]=ne.useState(!1),[c,f]=ne.useState(!1),[h,d]=ne.useState({}),m=[{id:"engineering",name:"Engineering",icon:Kv,color:"from-blue-500 to-cyan-500"},{id:"medical",name:"Medical",icon:ZE,color:"from-red-500 to-pink-500"},{id:"arts",name:"Arts",icon:Ly,color:"from-purple-500 to-indigo-500"},{id:"commerce",name:"Commerce",icon:Gv,color:"from-green-500 to-emerald-500"},{id:"science",name:"Science",icon:Fy,color:"from-orange-500 to-yellow-500"},{id:"general",name:"General Studies",icon:Fw,color:"from-gray-500 to-slate-500"}],p="admin@temp.com",g="admin123",v=()=>{const E={};return i.email?/\S+@\S+\.\S+/.test(i.email)||(E.email="Email is invalid"):E.email="Email is required",i.password?i.password.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",t==="register"&&(i.username?i.username.length<3&&(E.username="Username must be at least 3 characters"):E.username="Username is required",i.name||(E.name="Full name is required"),i.confirmPassword?i.password!==i.confirmPassword&&(E.confirmPassword="Passwords do not match"):E.confirmPassword="Please confirm your password"),d(E),Object.keys(E).length===0},b=async E=>{if(E.preventDefault(),!!v()){f(!0);try{t==="login"?await iu.login({email:i.email,password:i.password}):t==="admin"?(await iu.login({email:i.email,password:i.password}),Ft.success("Admin login successful!"),window.location.href="/admin"):n("field")}catch(S){console.error("Authentication error:",S)}finally{f(!1)}}},y=async()=>{f(!0);try{await iu.loginWithGoogle()}catch(E){console.error("Google login error:",E)}finally{f(!1)}},x=async E=>{const S=m.find(A=>A.id===E);if(S){f(!0);try{await iu.register({email:i.email,password:i.password,username:i.username,fullName:i.name,fieldOfStudy:S.name})}catch(A){console.error("Registration error:",A),n("auth")}finally{f(!1)}}},w=()=>{e("admin"),s({...i,email:p,password:g}),d({})};return T.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center p-4 relative",children:[T.jsx(R5,{position:"top-right"}),T.jsx(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/20 backdrop-blur-lg rounded-3xl p-8 w-full max-w-md shadow-2xl relative",children:r==="auth"?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsxs(Oe.div,{initial:{y:-20},animate:{y:0},className:"flex items-center justify-center mb-4",children:[T.jsx(Fw,{className:"text-white mr-3",size:40}),T.jsx("h1",{className:"text-3xl font-bold text-white",children:"FocusFlow"})]}),T.jsx("p",{className:"text-white/80 mb-4",children:"Your Ultimate Study Companion"}),T.jsxs("div",{className:"flex bg-white/20 rounded-xl p-1",children:[T.jsx("button",{onClick:()=>{e("login"),s({...i,email:"",password:""}),d({})},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t==="login"?"bg-white/30 text-white shadow-sm":"text-white/70 hover:text-white"}`,children:"Login"}),T.jsx("button",{onClick:()=>{e("register"),s({...i,email:"",password:""}),d({})},className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t==="register"?"bg-white/30 text-white shadow-sm":"text-white/70 hover:text-white"}`,children:"Register"}),T.jsxs("button",{onClick:w,className:`flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t==="admin"?"bg-white/30 text-white shadow-sm":"text-white/70 hover:text-white"}`,children:[T.jsx(Fx,{size:16,className:"inline mr-1"}),"Admin"]})]})]}),t==="admin"&&T.jsxs(Oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-blue-600/20 border border-blue-400/30 rounded-xl p-4 mb-6",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx(Fx,{size:16,className:"text-blue-300 mr-2"}),T.jsx("h3",{className:"text-sm font-semibold text-blue-200",children:"Admin Access"})]}),T.jsxs("div",{className:"text-xs text-blue-100",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Email:"})," admin@temp.com"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Password:"})," admin123"]})]})]}),T.jsxs("form",{onSubmit:b,className:"space-y-6",children:[t==="register"&&T.jsxs(T.Fragment,{children:[T.jsxs(Oe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.1},children:[T.jsxs("div",{className:"relative",children:[T.jsx(Xv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:20}),T.jsx("input",{type:"text",placeholder:"Username",value:i.username,onChange:E=>s({...i,username:E.target.value}),className:`w-full pl-12 pr-4 py-4 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border ${h.username?"border-red-400":"border-white/30"} focus:border-white/60 focus:outline-none transition-all`})]}),h.username&&T.jsxs("div",{className:"flex items-center mt-2 text-red-300 text-sm",children:[T.jsx(Kl,{size:14,className:"mr-1"}),h.username]})]}),T.jsxs(Oe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.2},children:[T.jsxs("div",{className:"relative",children:[T.jsx(Xv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:20}),T.jsx("input",{type:"text",placeholder:"Full Name",value:i.name,onChange:E=>s({...i,name:E.target.value}),className:`w-full pl-12 pr-4 py-4 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border ${h.name?"border-red-400":"border-white/30"} focus:border-white/60 focus:outline-none transition-all`})]}),h.name&&T.jsxs("div",{className:"flex items-center mt-2 text-red-300 text-sm",children:[T.jsx(Kl,{size:14,className:"mr-1"}),h.name]})]})]}),T.jsxs(Oe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:t==="register"?.3:.1},children:[T.jsxs("div",{className:"relative",children:[T.jsx(pW,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:20}),T.jsx("input",{type:"email",placeholder:"Email Address",value:i.email,onChange:E=>s({...i,email:E.target.value}),className:`w-full pl-12 pr-4 py-4 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border ${h.email?"border-red-400":"border-white/30"} focus:border-white/60 focus:outline-none transition-all`,readOnly:t==="admin"})]}),h.email&&T.jsxs("div",{className:"flex items-center mt-2 text-red-300 text-sm",children:[T.jsx(Kl,{size:14,className:"mr-1"}),h.email]})]}),T.jsxs(Oe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:t==="register"?.4:.2},children:[T.jsxs("div",{className:"relative",children:[T.jsx(Ox,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:20}),T.jsx("input",{type:a?"text":"password",placeholder:"Password",value:i.password,onChange:E=>s({...i,password:E.target.value}),className:`w-full pl-12 pr-12 py-4 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border ${h.password?"border-red-400":"border-white/30"} focus:border-white/60 focus:outline-none transition-all`,readOnly:t==="admin"}),T.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80",children:a?T.jsx(XT,{size:20}):T.jsx(Ow,{size:20})})]}),h.password&&T.jsxs("div",{className:"flex items-center mt-2 text-red-300 text-sm",children:[T.jsx(Kl,{size:14,className:"mr-1"}),h.password]})]}),t==="register"&&T.jsxs(Oe.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:.5},children:[T.jsxs("div",{className:"relative",children:[T.jsx(Ox,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-white/60",size:20}),T.jsx("input",{type:l?"text":"password",placeholder:"Confirm Password",value:i.confirmPassword,onChange:E=>s({...i,confirmPassword:E.target.value}),className:`w-full pl-12 pr-12 py-4 bg-white/20 backdrop-blur-sm rounded-xl text-white placeholder-white/60 border ${h.confirmPassword?"border-red-400":"border-white/30"} focus:border-white/60 focus:outline-none transition-all`}),T.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-white/60 hover:text-white/80",children:l?T.jsx(XT,{size:20}):T.jsx(Ow,{size:20})})]}),h.confirmPassword&&T.jsxs("div",{className:"flex items-center mt-2 text-red-300 text-sm",children:[T.jsx(Kl,{size:14,className:"mr-1"}),h.confirmPassword]})]}),T.jsx(Oe.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:t==="register"?.6:.3},whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:c,className:`w-full py-4 ${t==="admin"?"bg-gradient-to-r from-red-500 to-orange-600 hover:from-red-600 hover:to-orange-700":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700"} disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold rounded-xl transition-all flex items-center justify-center`,children:c?T.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):T.jsxs(T.Fragment,{children:[t==="admin"?T.jsx(Fx,{className:"mr-2",size:20}):T.jsx(Ox,{className:"mr-2",size:20}),t==="admin"?"Admin Login":t==="login"?"Login":"Continue"]})})]}),t!=="admin"&&T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center my-6",children:[T.jsx("div",{className:"flex-1 border-t border-white/30"}),T.jsx("span",{className:"px-4 text-white/60 text-sm",children:"or"}),T.jsx("div",{className:"flex-1 border-t border-white/30"})]}),T.jsx(Oe.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:t==="register"?.7:.4},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:y,disabled:c,className:"w-full py-4 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-700 font-semibold rounded-xl transition-all flex items-center justify-center border border-gray-300",children:c?T.jsx("div",{className:"w-5 h-5 border-2 border-gray-400 border-t-transparent rounded-full animate-spin"}):T.jsxs(T.Fragment,{children:[T.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[T.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),T.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),T.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),T.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]})]}):T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"text-center mb-8",children:[T.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Choose Your Field"}),T.jsx("p",{className:"text-white/80",children:"Select your area of study for personalized content"}),T.jsx("button",{onClick:()=>n("auth"),className:"mt-4 text-white/70 hover:text-white text-sm underline",children:"← Back to registration"})]}),T.jsx("div",{className:"grid grid-cols-2 gap-4",children:m.map((E,S)=>{const A=E.icon;return T.jsxs(Oe.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:S*.1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>x(E.id),disabled:c,className:`bg-gradient-to-br ${E.color} p-6 rounded-2xl text-white shadow-lg hover:shadow-xl transition-all`,children:[c?T.jsx("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin mx-auto mb-3"}):T.jsx(A,{size:32,className:"mx-auto mb-3"}),T.jsx("h3",{className:"font-bold text-lg",children:E.name})]},E.id)})})]})})]})}op.register(fy,hy,Nd,Lc,yv,Qh,fj,dj,uj);const pRe=()=>{var p,g,v;const[t,e]=ne.useState(null),[r,n]=ne.useState(!0),[i,s]=ne.useState(!0),[a,o]=ne.useState("30d");ne.useEffect(()=>{const b=[],y=new Date,x=new Date(y.getFullYear(),y.getMonth(),y.getDate()),w=new Date(y.getTime()-7*24*60*60*1e3),E=new Date(y.getTime()-30*24*60*60*1e3);e({totalUsers:0,newUsersToday:0,totalLogins:0,activeUsers:0,averageSessionTime:25,userRetention:{daily:.75,weekly:.5,monthly:.3},loginTrends:[],topTools:[],recentActivity:[]});try{const S=rg($n(Bt,"users"),z=>{let V=0,k=0,L=0;z.forEach(B=>{const $=B.data();V++,$.createdAt&&$.createdAt.toDate()>=x&&k++,$.lastLogin&&$.lastLogin.toDate()>=w&&L++}),e(B=>({...B,totalUsers:V,newUsersToday:k,activeUsers:L})),s(!0)},z=>{console.error("Error listening to users:",z),s(!1)});b.push(S);const A=vi($n(Bt,"loginLogs"),Fi("loginTimestamp",">=",E),yd("loginTimestamp","asc")),N=rg(A,z=>{const V={};let k=0;z.forEach(B=>{const $=B.data();k++;const ie=$.loginTimestamp.toDate().toISOString().split("T")[0];V[ie]=(V[ie]||0)+1});const L=Object.entries(V).map(([B,$])=>({date:B,logins:$})).sort((B,$)=>B.date.localeCompare($.date)).slice(-7);e(B=>({...B,totalLogins:k,loginTrends:L}))},z=>{console.error("Error listening to login logs:",z),s(!1)});b.push(N);const D=vi($n(Bt,"toolUsage"),Fi("usageTimestamp",">=",E),yd("usageTimestamp","desc"),D0(1e3)),C=rg(D,z=>{const V={};z.forEach(L=>{const $=L.data().toolName;$&&(V[$]=(V[$]||0)+1)});const k=Object.entries(V).map(([L,B])=>({name:L,usage:B})).sort((L,B)=>B.usage-L.usage).slice(0,5);e(L=>({...L,topTools:k}))},z=>{console.error("Error listening to tool usage:",z),s(!1)});b.push(C);const M=vi($n(Bt,"loginLogs"),yd("loginTimestamp","desc"),D0(8)),I=rg(M,async z=>{const V=[];for(const k of z.docs){const L=k.data();try{const B=await Na(sn(Bt,"users",L.userId));if(B.exists()){const $=B.data(),Y=L.loginTimestamp.toDate(),ie=l(Y);V.push({user:$.fullName||$.username||"Unknown User",action:"Logged in to platform",time:ie})}}catch(B){console.error("Error fetching user data for activity:",B)}}e(k=>({...k,recentActivity:V}))},z=>{console.error("Error listening to recent activity:",z),s(!1)});b.push(I),n(!1)}catch(S){console.error("Error setting up real-time listeners:",S),n(!1),s(!1),Ft.error("Failed to connect to real-time data")}return()=>{b.forEach(S=>S())}},[a]);const l=b=>{const x=Math.floor((new Date().getTime()-b.getTime())/1e3);return x<60?"Just now":x<3600?`${Math.floor(x/60)} minutes ago`:x<86400?`${Math.floor(x/3600)} hours ago`:`${Math.floor(x/86400)} days ago`},u=()=>{if(!t)return;const b={generatedAt:new Date().toISOString(),timeRange:a,stats:t},y=JSON.stringify(b,null,2),x="data:application/json;charset=utf-8,"+encodeURIComponent(y),w=`admin-report-${new Date().toISOString().split("T")[0]}.json`,E=document.createElement("a");E.setAttribute("href",x),E.setAttribute("download",w),E.click(),Ft.success("Report exported successfully")},c=()=>{Ft.success("Logged out successfully")},f={labels:(t==null?void 0:t.loginTrends.map(b=>new Date(b.date).toLocaleDateString()))||[],datasets:[{label:"Daily Logins",data:(t==null?void 0:t.loginTrends.map(b=>b.logins))||[],borderColor:"#3b82f6",backgroundColor:"#3b82f620",tension:.4}]},h={labels:(t==null?void 0:t.topTools.map(b=>b.name))||[],datasets:[{label:"Usage Count",data:(t==null?void 0:t.topTools.map(b=>b.usage))||[],backgroundColor:["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#8b5cf6","#ec4899","#6b7280"]}]},d={labels:["Daily","Weekly","Monthly"],datasets:[{label:"User Retention (%)",data:t?[t.userRetention.daily*100,t.userRetention.weekly*100,t.userRetention.monthly*100]:[],backgroundColor:["#10b981","#3b82f6","#8b5cf6"]}]},m={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}},animation:{duration:750,easing:"easeInOutQuart"}};return r?T.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-12 h-12 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-gray-600",children:"Loading real-time dashboard..."})]})}):T.jsx("div",{className:"min-h-screen bg-gray-50",children:T.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("h1",{className:"text-3xl font-bold text-gray-900 mr-4",children:"Admin Dashboard"}),T.jsxs("div",{className:"flex items-center",children:[i?T.jsx(j5,{size:20,className:"text-green-500 mr-2"}):T.jsx(kW,{size:20,className:"text-red-500 mr-2"}),T.jsx("span",{className:`text-sm ${i?"text-green-600":"text-red-600"}`,children:i?"Live Data":"Disconnected"})]})]}),T.jsx("p",{className:"text-gray-600",children:"Real-time platform analytics and user activity"})]}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("select",{value:a,onChange:b=>o(b.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[T.jsx("option",{value:"7d",children:"Last 7 days"}),T.jsx("option",{value:"30d",children:"Last 30 days"}),T.jsx("option",{value:"90d",children:"Last 90 days"})]}),T.jsxs("button",{onClick:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[T.jsx(By,{size:16,className:"mr-2"}),"Export Report"]}),T.jsxs("button",{onClick:c,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:[T.jsx(dW,{size:16,className:"mr-2"}),"Logout"]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[T.jsxs(Oe.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.5},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-blue-100",children:"Total Users"}),T.jsx("p",{className:"text-3xl font-bold",children:((p=t==null?void 0:t.totalUsers)==null?void 0:p.toLocaleString())||0})]}),T.jsx(Jv,{size:32,className:"text-blue-200"})]}),T.jsxs("div",{className:"mt-4 flex items-center text-blue-100",children:[T.jsx(Kd,{size:16,className:"mr-1"}),T.jsxs("span",{className:"text-sm",children:["+",(t==null?void 0:t.newUsersToday)||0," today"]})]})]},`users-${t==null?void 0:t.totalUsers}`),T.jsxs(Oe.div,{initial:{scale:1},animate:{scale:[1,1.05,1]},transition:{duration:.5,delay:.1},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-green-100",children:"Total Logins"}),T.jsx("p",{className:"text-3xl font-bold",children:((g=t==null?void 0:t.totalLogins)==null?void 0:g.toLocaleString())||0})]}),T.jsx(Wv,{size:32,className:"text-green-200"})]}),T.jsxs("div",{className:"mt-4 flex items-center text-green-100",children:[T.jsx(MW,{size:16,className:"mr-1"}),T.jsxs("span",{className:"text-sm",children:[((v=t==null?void 0:t.activeUsers)==null?void 0:v.toLocaleString())||0," active users"]})]})]},`logins-${t==null?void 0:t.totalLogins}`),T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-purple-100",children:"Avg Session"}),T.jsxs("p",{className:"text-3xl font-bold",children:[(t==null?void 0:t.averageSessionTime)||0,"m"]})]}),T.jsx(Hc,{size:32,className:"text-purple-200"})]}),T.jsxs("div",{className:"mt-4 flex items-center text-purple-100",children:[T.jsx(O5,{size:16,className:"mr-1"}),T.jsx("span",{className:"text-sm",children:"Study time"})]})]}),T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-orange-100",children:"Retention Rate"}),T.jsxs("p",{className:"text-3xl font-bold",children:[t?Math.round(t.userRetention.weekly*100):0,"%"]})]}),T.jsx(Kd,{size:32,className:"text-orange-200"})]}),T.jsxs("div",{className:"mt-4 flex items-center text-orange-100",children:[T.jsx(F5,{size:16,className:"mr-1"}),T.jsx("span",{className:"text-sm",children:"Weekly retention"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"bg-white rounded-xl p-6 shadow-lg",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Login Trends (Live)"}),T.jsx("div",{className:"h-64",children:T.jsx(vj,{data:f,options:m})})]}),T.jsxs(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-white rounded-xl p-6 shadow-lg",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Most Used Tools (Real-time)"}),T.jsx("div",{className:"h-64",children:T.jsx(lRe,{data:h,options:m})})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[T.jsxs(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6},className:"bg-white rounded-xl p-6 shadow-lg",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"User Retention"}),T.jsx("div",{className:"h-64",children:T.jsx(uRe,{data:d,options:m})})]}),T.jsxs(Oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},className:"bg-white rounded-xl p-6 shadow-lg",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Live Activity Feed"}),T.jsxs("div",{className:"space-y-4 h-64 overflow-y-auto",children:[t==null?void 0:t.recentActivity.map((b,y)=>T.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:y*.1},className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3 animate-pulse"}),T.jsxs("div",{children:[T.jsx("p",{className:"font-medium text-gray-800",children:b.user}),T.jsx("p",{className:"text-sm text-gray-600",children:b.action})]})]}),T.jsx("span",{className:"text-xs text-gray-500",children:b.time})]},y)),(!(t!=null&&t.recentActivity)||t.recentActivity.length===0)&&T.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:T.jsx("p",{children:"No recent activity"})})]})]})]}),T.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-xl p-6 shadow-lg",children:[T.jsxs("div",{className:"flex items-center justify-between mb-6",children:[T.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"User Analytics (Live Data)"}),T.jsxs("div",{className:"flex items-center space-x-4",children:[T.jsxs("div",{className:"relative",children:[T.jsx(Gd,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),T.jsx("input",{type:"text",placeholder:"Search users...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),T.jsxs("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:[T.jsx(L5,{size:16,className:"mr-2"}),"Filter"]})]})]}),T.jsxs("div",{className:"text-center py-8",children:[T.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:T.jsx(Jv,{size:24,className:"text-blue-600"})}),T.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Real-time User Data"}),T.jsx("p",{className:"text-gray-600 mb-4",children:"Detailed user analytics table will populate as users interact with your platform."}),T.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500",children:[T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Total Users: ",(t==null?void 0:t.totalUsers)||0]}),T.jsxs("div",{className:"flex items-center",children:[T.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Active Today: ",(t==null?void 0:t.activeUsers)||0]})]})]})]})]})})};function J4(){const t=w5(),{handleCallback:e,loading:r,isAuthenticated:n}=tm(),[i,s]=ne.useState("loading"),[a,o]=ne.useState("");return ne.useEffect(()=>{const l=new URLSearchParams(window.location.search),u=l.get("code"),c=l.get("state"),f=l.get("error");if(console.log("Callback URL:",window.location.href),console.log("Received params:",{code:(u==null?void 0:u.substring(0,10))+"...",state:c,error:f}),f){s("error"),o(f==="access_denied"?"Access denied. You need to grant permission to use Spotify features.":`Spotify authentication error: ${f}`),console.error("Spotify authentication error:",f),setTimeout(()=>t("/"),3e3);return}u&&c?(console.log("Processing Spotify callback with code:",u.substring(0,10)+"..."),e(u,c).then(()=>{s("success"),setTimeout(()=>t("/"),2e3)}).catch(h=>{console.error("Callback handling error:",h),s("error"),h.message.includes("invalid_client")?o("Spotify app configuration error. Please contact support."):h.message.includes("invalid_grant")?o("Authorization expired. Please try connecting again."):o(h.message||"Unknown error occurred during authentication"),setTimeout(()=>t("/"),3e3)})):(s("error"),o("Missing authorization parameters. Please try connecting to Spotify again."),setTimeout(()=>t("/"),3e3))},[e,t]),T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-600 via-black to-green-800 flex items-center justify-center p-4",children:T.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-white/20 backdrop-blur-lg rounded-3xl p-8 text-center max-w-md w-full",children:[T.jsxs("div",{className:"flex items-center justify-center mb-6",children:[T.jsx(Wd,{className:"text-green-400 mr-3",size:48}),T.jsx("h1",{className:"text-2xl font-bold text-white",children:"Spotify Integration"})]}),i==="error"?T.jsxs(T.Fragment,{children:[T.jsx(RW,{className:"text-red-400 mx-auto mb-4",size:64}),T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Authentication Failed"}),T.jsx("p",{className:"text-white/80 mb-4",children:a||"There was an error connecting to your Spotify account."}),T.jsx("div",{className:"bg-red-500/20 border border-red-400/50 rounded-lg p-3 mb-4",children:T.jsxs("div",{className:"flex items-center text-red-300 text-sm",children:[T.jsx(Kl,{size:16,className:"mr-2"}),T.jsx("span",{children:"Redirect URI: https://stupendous-paprenjak-1053a3.netlify.app/callback"})]})}),T.jsx("p",{className:"text-white/60 text-sm",children:"Redirecting you back to the app..."})]}):i==="loading"?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-16 h-16 border-4 border-green-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Connecting to Spotify"}),T.jsx("p",{className:"text-white/80",children:"Please wait while we set up your music integration..."})]}):i==="success"?T.jsxs(T.Fragment,{children:[T.jsx(Rw,{className:"text-green-400 mx-auto mb-4",size:64}),T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Successfully Connected!"}),T.jsx("p",{className:"text-white/80 mb-4",children:"Your Spotify account has been linked to FocusFlow."}),T.jsx("p",{className:"text-white/60 text-sm",children:"Redirecting you back to the app..."})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"w-16 h-16 border-4 border-green-400 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Processing..."}),T.jsx("p",{className:"text-white/80",children:"Setting up your Spotify connection..."})]})]})})}const yj=Gy()(Ky(t=>({theme:"system",setTheme:e=>t({theme:e})}),{name:"theme-storage"}));function gRe(){const{theme:t,setTheme:e}=yj(),{user:r,logout:n}=zu();return T.jsx(Oe.nav,{initial:{y:100},animate:{y:0},className:"fixed bottom-0 left-0 right-0 w-full bg-white/90 dark:bg-gray-900/90 backdrop-blur-lg border-t border-gray-200 dark:border-gray-700 z-50",children:T.jsxs("div",{className:"w-full px-4",children:[T.jsxs("div",{className:"flex items-center justify-between py-3",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center",children:T.jsx(Xv,{size:16,className:"text-white"})}),T.jsxs("div",{className:"hidden sm:block",children:[T.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(r==null?void 0:r.fullName)||(r==null?void 0:r.username)||(r==null?void 0:r.email)||"User"}),T.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:(r==null?void 0:r.fieldOfStudy)||"Student"})]})]}),T.jsxs("div",{className:"flex items-center space-x-1",children:[T.jsxs(Rl,{to:"/",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[T.jsx(fW,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"Home"})]}),T.jsxs(Rl,{to:"/planner",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[T.jsx(F5,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"Plan"})]}),T.jsxs(Rl,{to:"/field-specific",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[T.jsx(eS,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"Tools"})]}),T.jsxs(Rl,{to:"/medical-models",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[T.jsx(cf,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"3D Models"})]}),T.jsxs(Rl,{to:"/community",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[T.jsx(Jv,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"Community"})]}),T.jsxs(Rl,{to:"/resources",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400"}`,children:[T.jsx(Fy,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"Resources"})]}),T.jsxs(Rl,{to:"/pro",className:({isActive:i})=>`flex flex-col items-center p-2 rounded-lg transition-all ${i?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-600 dark:text-yellow-400":"hover:bg-yellow-100 dark:hover:bg-yellow-800 text-yellow-600 dark:text-yellow-400"}`,children:[T.jsx(B5,{size:18}),T.jsx("span",{className:"text-xs mt-1",children:"Pro"})]})]}),T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("button",{onClick:()=>e(t==="dark"?"light":"dark"),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-all text-gray-600 dark:text-gray-400",children:t==="dark"?T.jsx(DW,{size:18}):T.jsx(bW,{size:18})}),T.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-all text-red-600 dark:text-red-400",children:T.jsx(mW,{size:18})})]})]}),T.jsx("div",{className:"text-center py-2 border-t border-gray-200 dark:border-gray-700",children:T.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["🔧 Built & Designed by Ashutosh Pankaj Rai"," ",T.jsx("a",{href:"https://github.com/Ashurai84",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline",children:"GitHub"})]})})]})})}function vRe({onSelect:t}){const{user:e,updateProfile:r,setNeedsFieldSelection:n}=zu(),i=[{id:"engineering",title:"Engineering",icon:Kv,color:"from-blue-500 to-cyan-500",description:"Tech & Innovation"},{id:"medical",title:"Medical",icon:ZE,color:"from-red-500 to-pink-500",description:"Health & Care"},{id:"arts",title:"Arts",icon:Ly,color:"from-purple-500 to-indigo-500",description:"Creative & Design"},{id:"science",title:"Science",icon:Gv,color:"from-green-500 to-emerald-500",description:"Research & Discovery"},{id:"commerce",title:"Commerce",icon:Fw,color:"from-orange-500 to-yellow-500",description:"Business & Finance"},{id:"undergraduate",title:"General",icon:Fy,color:"from-gray-500 to-slate-500",description:"All Fields"}],s=async a=>{const o=i.find(l=>l.id===a);if(!(!o||!e))try{await C0(sn(Bt,"users",e.id),{fieldOfStudy:o.title,updatedAt:new Date}),r({fieldOfStudy:o.title}),n(!1),Ft.success(`Welcome to ${o.title}!`),t&&t(a)}catch(l){console.error("Error updating field:",l),Ft.error("Failed to update field selection")}};return T.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-4 overflow-y-auto",children:[T.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome to FocusFlow!"}),T.jsx("p",{className:"text-white/80",children:"Choose your field of study"})]}),T.jsx("div",{className:"grid grid-cols-2 gap-4 pb-20",children:i.map((a,o)=>{const l=a.icon;return T.jsxs(Oe.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:o*.1},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(a.id),className:`bg-gradient-to-br ${a.color} p-4 rounded-2xl text-white shadow-lg hover:shadow-xl transition-all`,children:[T.jsx(l,{size:32,className:"mx-auto mb-2"}),T.jsx("h3",{className:"font-bold text-lg",children:a.title}),T.jsx("p",{className:"text-sm opacity-90",children:a.description})]},a.id)})})]})}function yRe(){const t=Ff(),{isAuthenticated:e,loading:r,needsFieldSelection:n}=zu(),{isAuthenticated:i}=tm();return t.pathname==="/callback"?T.jsx(J4,{}):r?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"w-16 h-16 border-4 border-white border-t-transparent rounded-full animate-spin mx-auto mb-4"}),T.jsx("p",{className:"text-white text-lg",children:"Loading FocusFlow..."})]})}):e?n?T.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 flex items-center justify-center p-4",children:T.jsx("div",{className:"bg-white/20 backdrop-blur-lg rounded-3xl p-8 w-full max-w-2xl",children:T.jsx(vRe,{})})}):T.jsxs("div",{className:"min-h-screen w-full bg-gray-50 dark:bg-gray-900",children:[T.jsx(R5,{position:"top-right"}),T.jsxs("div",{className:"w-full",children:[T.jsx(ba,{mode:"wait",children:T.jsxs(rH,{location:t,children:[T.jsx(ks,{path:"/",element:T.jsx(uoe,{})}),T.jsx(ks,{path:"/planner",element:T.jsx(coe,{})}),T.jsx(ks,{path:"/community",element:T.jsx(foe,{})}),T.jsx(ks,{path:"/resources",element:T.jsx(hoe,{})}),T.jsx(ks,{path:"/field-specific",element:T.jsx(fRe,{})}),T.jsx(ks,{path:"/medical-models",element:T.jsx(hRe,{})}),T.jsx(ks,{path:"/pro",element:T.jsx(dRe,{})}),T.jsx(ks,{path:"/admin",element:T.jsx(pRe,{})}),T.jsx(ks,{path:"/callback",element:T.jsx(J4,{})})]},t.pathname)}),T.jsx(gRe,{})]})]}):T.jsx(mRe,{})}function xRe(){const{theme:t}=yj(),{initializeTimer:e}=OS(),{initialize:r}=zu(),{isAuthenticated:n,fetchUserData:i}=tm();return ne.useEffect(()=>{t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[t]),ne.useEffect(()=>{r(),e()},[r,e]),ne.useEffect(()=>{n&&i()},[n,i]),T.jsx(cH,{children:T.jsx(yRe,{})})}f5(document.getElementById("root")).render(T.jsx(ne.StrictMode,{children:T.jsx(xRe,{})}));
